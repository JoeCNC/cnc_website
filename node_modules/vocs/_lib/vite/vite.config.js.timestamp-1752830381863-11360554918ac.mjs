// node_modules/vocs/_lib/vite/vite.config.js
import { basename as basename2 } from "node:path";
import { vanillaExtractPlugin } from "file:///home/ptngs/Git/cnc_website/node_modules/@vanilla-extract/vite-plugin/dist/vanilla-extract-vite-plugin.cjs.js";
import react from "file:///home/ptngs/Git/cnc_website/node_modules/@vitejs/plugin-react/dist/index.mjs";
import { defineConfig as defineConfig2, splitVendorChunkPlugin } from "file:///home/ptngs/Git/cnc_website/node_modules/vite/dist/node/index.js";

// node_modules/vocs/_lib/vite/plugins/css.js
import { accessSync } from "node:fs";
import { resolve } from "node:path";
import { default as autoprefixer } from "file:///home/ptngs/Git/cnc_website/node_modules/autoprefixer/lib/autoprefixer.js";
import { default as tailwindcss } from "file:///home/ptngs/Git/cnc_website/node_modules/tailwindcss/lib/index.js";
import { default as tailwindcssNesting } from "file:///home/ptngs/Git/cnc_website/node_modules/tailwindcss/nesting/index.js";
function css() {
  return {
    name: "css",
    async config() {
      const tailwindConfig = findTailwindConfig();
      return {
        css: {
          postcss: {
            plugins: [
              autoprefixer(),
              tailwindcssNesting(),
              tailwindConfig ? tailwindcss() : null
            ].filter(Boolean)
          }
        }
      };
    }
  };
}
function findTailwindConfig() {
  const configFiles = [
    "./tailwind.config.js",
    "./tailwind.config.cjs",
    "./tailwind.config.mjs",
    "./tailwind.config.js"
  ];
  for (const configFile of configFiles) {
    try {
      const configPath = resolve(process.cwd(), configFile);
      accessSync(configPath);
      return configPath;
    } catch (err) {
    }
  }
  return null;
}

// node_modules/vocs/_lib/vite/plugins/mdx.js
import mdxPlugin from "file:///home/ptngs/Git/cnc_website/node_modules/@mdx-js/rollup/index.js";
import rehypeShiki, {} from "file:///home/ptngs/Git/cnc_website/node_modules/@shikijs/rehype/dist/index.mjs";
import { transformerNotationDiff, transformerNotationFocus, transformerNotationHighlight, transformerNotationWordHighlight } from "file:///home/ptngs/Git/cnc_website/node_modules/@shikijs/transformers/dist/index.mjs";
import { defaultTwoslashOptions as defaultTwoslashOptions_, transformerTwoslash } from "file:///home/ptngs/Git/cnc_website/node_modules/@shikijs/twoslash/dist/index.mjs";
import { h as h4 } from "file:///home/ptngs/Git/cnc_website/node_modules/hastscript/index.js";
import rehypeAutolinkHeadings from "file:///home/ptngs/Git/cnc_website/node_modules/rehype-autolink-headings/index.js";
import rehypeSlug from "file:///home/ptngs/Git/cnc_website/node_modules/rehype-slug/index.js";
import remarkDirective from "file:///home/ptngs/Git/cnc_website/node_modules/remark-directive/index.js";
import remarkFrontmatter from "file:///home/ptngs/Git/cnc_website/node_modules/remark-frontmatter/index.js";
import remarkGfm from "file:///home/ptngs/Git/cnc_website/node_modules/remark-gfm/index.js";
import remarkMdxFrontmatter from "file:///home/ptngs/Git/cnc_website/node_modules/remark-mdx-frontmatter/index.js";
import {} from "file:///home/ptngs/Git/cnc_website/node_modules/vite/dist/node/index.js";

// node_modules/vocs/_lib/vite/utils/resolveVocsConfig.js
import { existsSync, readFileSync } from "node:fs";
import { resolve as resolve2 } from "node:path";
import toml from "file:///home/ptngs/Git/cnc_website/node_modules/toml/index.js";
import { loadConfigFromFile } from "file:///home/ptngs/Git/cnc_website/node_modules/vite/dist/node/index.js";

// node_modules/vocs/_lib/config.js
async function defineConfig({ blogDir = "./pages/blog", font, head, ogImageUrl, rootDir = "docs", title = "Docs", titleTemplate = `%s \u2013 ${title}`, ...config }) {
  const basePath = parseBasePath(config.basePath);
  return {
    blogDir,
    font,
    head,
    ogImageUrl,
    rootDir,
    title,
    titleTemplate,
    ...config,
    basePath,
    banner: await parseBanner(config.banner ?? ""),
    iconUrl: parseImageUrl(config.iconUrl, {
      basePath
    }),
    logoUrl: parseImageUrl(config.logoUrl, {
      basePath
    }),
    markdown: parseMarkdown(config.markdown ?? {}),
    socials: parseSocials(config.socials ?? []),
    topNav: parseTopNav(config.topNav ?? []),
    theme: await parseTheme(config.theme ?? {}),
    vite: parseViteConfig(config.vite, {
      basePath
    })
  };
}
var getDefaultConfig = async () => await defineConfig({});
function parseBasePath(basePath_) {
  let basePath = basePath_;
  if (!basePath)
    return "";
  if (!basePath.startsWith("/"))
    basePath = `/${basePath}`;
  if (basePath.endsWith("/"))
    basePath = basePath.slice(0, -1);
  return basePath;
}
async function parseBanner(banner) {
  if (!banner)
    return void 0;
  const bannerContent = (() => {
    if (typeof banner === "string")
      return banner;
    if (typeof banner === "object" && "content" in banner)
      return banner.content;
    return void 0;
  })();
  const content = await (async () => {
    if (typeof bannerContent !== "string")
      return bannerContent;
    const { compile: compile2 } = await import("file:///home/ptngs/Git/cnc_website/node_modules/@mdx-js/mdx/index.js");
    const remarkGfm2 = (await import("file:///home/ptngs/Git/cnc_website/node_modules/remark-gfm/index.js")).default;
    return String(await compile2(bannerContent, {
      outputFormat: "function-body",
      remarkPlugins: [remarkGfm2]
    }));
  })();
  if (!content)
    return void 0;
  const textColor = await (async () => {
    if (typeof banner === "string")
      return void 0;
    if (typeof banner === "object") {
      if ("textColor" in banner)
        return banner.textColor;
      if ("backgroundColor" in banner && banner.backgroundColor) {
        const chroma = (await import("file:///home/ptngs/Git/cnc_website/node_modules/chroma-js/index.js")).default;
        return chroma.contrast(banner.backgroundColor, "white") < 4.5 ? "black" : "white";
      }
    }
    return void 0;
  })();
  return {
    height: "32px",
    ...typeof banner === "object" ? banner : {},
    content,
    textColor
  };
}
function parseImageUrl(imageUrl, { basePath }) {
  if (!imageUrl)
    return;
  if (process.env.NODE_ENV === "development")
    return imageUrl;
  if (typeof imageUrl === "string") {
    if (imageUrl.startsWith("http"))
      return imageUrl;
    return `${basePath}${imageUrl}`;
  }
  return {
    dark: imageUrl.dark.startsWith("http") ? imageUrl.dark : `${basePath}${imageUrl.dark}`,
    light: imageUrl.light.startsWith("http") ? imageUrl.light : `${basePath}${imageUrl.light}`
  };
}
function parseMarkdown(markdown) {
  return {
    ...markdown,
    code: {
      themes: {
        dark: "github-dark-dimmed",
        light: "github-light"
      },
      ...markdown.code
    }
  };
}
var socialsMeta = {
  discord: { label: "Discord", type: "discord" },
  github: { label: "GitHub", type: "github" },
  telegram: { label: "Telegram", type: "telegram" },
  x: { label: "X (Twitter)", type: "x" }
};
function parseSocials(socials) {
  return socials.map((social) => {
    return {
      icon: social.icon,
      link: social.link,
      ...socialsMeta[social.icon]
    };
  });
}
var id = 0;
function parseTopNav(topNav) {
  const parsedTopNav = [];
  for (const item of topNav) {
    parsedTopNav.push({
      ...item,
      id: id++,
      items: item.items ? parseTopNav(item.items) : []
    });
  }
  return parsedTopNav;
}
async function parseTheme(theme) {
  const chroma = (await import("file:///home/ptngs/Git/cnc_website/node_modules/chroma-js/index.js")).default;
  const accentColor = (() => {
    if (!theme.accentColor)
      return theme.accentColor;
    if (typeof theme.accentColor === "object" && !Object.keys(theme.accentColor).includes("light") && !Object.keys(theme.accentColor).includes("dark"))
      return theme.accentColor;
    const accentColor2 = theme.accentColor;
    const accentColorLight = typeof accentColor2 === "object" ? accentColor2.light : accentColor2;
    const accentColorDark = typeof accentColor2 === "object" ? accentColor2.dark : accentColor2;
    return {
      backgroundAccent: {
        dark: accentColorDark,
        light: accentColorLight
      },
      backgroundAccentHover: {
        dark: chroma(accentColorDark).darken(0.25).hex(),
        light: chroma(accentColorLight).darken(0.25).hex()
      },
      backgroundAccentText: {
        dark: chroma.contrast(accentColorDark, "white") < 4.5 ? "black" : "white",
        light: chroma.contrast(accentColorLight, "white") < 4.5 ? "black" : "white"
      },
      borderAccent: {
        dark: chroma(accentColorDark).brighten(0.5).hex(),
        light: chroma(accentColorLight).darken(0.25).hex()
      },
      textAccent: {
        dark: accentColorDark,
        light: accentColorLight
      },
      textAccentHover: {
        dark: chroma(accentColorDark).darken(0.5).hex(),
        light: chroma(accentColorLight).darken(0.5).hex()
      }
    };
  })();
  return {
    ...theme,
    accentColor
  };
}
function parseViteConfig(viteConfig, { basePath }) {
  return {
    ...viteConfig,
    base: basePath
  };
}

// node_modules/vocs/_lib/vite/utils/resolveVocsConfig.js
var moduleExtensions = ["js", "jsx", "ts", "tsx", "mjs", "mts"];
var staticExtensions = ["toml", "json"];
var extensions = [...moduleExtensions, ...staticExtensions];
var defaultConfigPaths = [".vocs/config", "vocs.config", "Vocs"];
async function resolveVocsConfig(parameters = {}) {
  const { command = "serve", mode = "development" } = parameters;
  const [configPath, ext] = (() => {
    for (const ext2 of extensions) {
      if (parameters.configPath)
        return parameters.configPath;
      for (const filePath of defaultConfigPaths)
        if (existsSync(resolve2(process.cwd(), `${filePath}.${ext2}`)))
          return [`${filePath}.${ext2}`, ext2];
    }
    return [void 0, void 0];
  })();
  const result = await (async () => {
    if (!ext)
      return;
    if (moduleExtensions.includes(ext))
      return await loadConfigFromFile({ command, mode }, configPath);
    if (staticExtensions.includes(ext)) {
      const file = readFileSync(configPath, "utf8");
      const rawConfig = (() => {
        if (ext === "toml")
          return camelCaseKeys(toml.parse(file));
        if (ext === "json")
          return JSON.parse(file);
        return;
      })();
      const config2 = await defineConfig(rawConfig);
      return config2 ? { config: config2 } : void 0;
    }
    return;
  })();
  const config = result ? result.config : await getDefaultConfig();
  return {
    config,
    configPath
  };
}
function camelCaseKeys(obj) {
  if (typeof obj !== "object")
    return obj;
  if (Array.isArray(obj))
    return obj.map(camelCaseKeys);
  return Object.fromEntries(Object.entries(obj).map(([key, value]) => [
    key.replace(/[-_](.)/g, (_, c) => c.toUpperCase()),
    camelCaseKeys(value)
  ]));
}

// node_modules/vocs/_lib/vite/plugins/rehype/display-shiki-notation.js
import { visit } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";
function rehypeShikiDisplayNotation() {
  return (tree) => {
    visit(tree, "text", (node) => {
      if (node.value.includes("//$"))
        node.value = node.value.replace("//$", "//");
    });
  };
}

// node_modules/vocs/_lib/vite/plugins/rehype/inline-shiki.js
import { bundledLanguages, getHighlighter } from "file:///home/ptngs/Git/cnc_website/node_modules/shiki/dist/index.mjs";
import { visit as visit2 } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";
var inlineShikiRegex = /(.*){:(.*)}$/;
var rehypeInlineShiki = function(options = {}) {
  const themeNames = ("themes" in options ? Object.values(options.themes) : [options.theme]).filter(Boolean);
  const langs = options.langs || Object.keys(bundledLanguages);
  let promise;
  return async function(tree) {
    if (!promise)
      promise = getHighlighter({
        themes: themeNames,
        langs
      });
    const highlighter = await promise;
    return visit2(tree, "element", (node, index, parent) => {
      if (node.tagName !== "code")
        return;
      const match = node.children[0]?.value?.match(inlineShikiRegex);
      if (!match)
        return;
      const [, code, lang] = match;
      const hast = highlighter.codeToHast(code, { ...options, lang });
      const inlineCode = hast.children[0].children[0];
      if (!inlineCode)
        return;
      parent?.children.splice(index ?? 0, 1, inlineCode);
    });
  };
};

// node_modules/vocs/_lib/vite/plugins/remark/authors.js
import { visit as visit3 } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";
function remarkAuthors() {
  return (tree) => {
    visit3(tree, (node, index, parent) => {
      if (node.type !== "leafDirective")
        return;
      if (node.name !== "authors")
        return;
      if (!index)
        return;
      (parent?.children[index - 1]).children.push({
        type: "paragraph",
        data: {
          hName: "div",
          hProperties: { "data-authors": true }
        }
      });
    });
  };
}

// node_modules/vocs/_lib/vite/plugins/remark/blog-posts.js
import { visit as visit4 } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";
function remarkBlogPosts() {
  return (tree) => {
    visit4(tree, (node) => {
      if (node.type !== "leafDirective")
        return;
      if (node.name !== "blog-posts")
        return;
      const data = node.data || (node.data = {});
      data.hName = "div";
      data.hProperties = { "data-blog-posts": true };
    });
  };
}

// node_modules/vocs/_lib/vite/plugins/remark/callout.js
import { h } from "file:///home/ptngs/Git/cnc_website/node_modules/hastscript/index.js";
import { visit as visit5 } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";
function remarkCallout() {
  return (tree) => {
    visit5(tree, (node) => {
      if (node.type !== "containerDirective")
        return;
      if (node.name !== "callout" && node.name !== "info" && node.name !== "warning" && node.name !== "danger" && node.name !== "tip" && node.name !== "success" && node.name !== "note")
        return;
      const label = node.children.find((child) => child.data?.directiveLabel)?.children[0].value;
      const data = node.data || (node.data = {});
      const tagName = "aside";
      if (label) {
        node.children = node.children.filter((child) => !child.data?.directiveLabel);
        node.children.unshift({
          type: "paragraph",
          data: { hProperties: { "data-callout-title": true } },
          children: [
            {
              type: "strong",
              children: [{ type: "text", value: label }]
            }
          ]
        });
      }
      data.hName = tagName;
      data.hProperties = {
        ...h(tagName, node.attributes || {}).properties,
        "data-callout": node.name !== "callout" ? node.name : true
      };
    });
  };
}

// node_modules/vocs/_lib/vite/plugins/remark/code-group.js
import { h as h2 } from "file:///home/ptngs/Git/cnc_website/node_modules/hastscript/index.js";
import { visit as visit6 } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";
function remarkCodeGroup() {
  return (tree) => {
    visit6(tree, (node) => {
      if (node.type !== "containerDirective")
        return;
      if (node.name !== "code-group")
        return;
      const data = node.data || (node.data = {});
      const tagName = "div";
      node.attributes = {
        ...node.attributes,
        class: "code-group"
      };
      data.hName = tagName;
      data.hProperties = h2(tagName, node.attributes || {}).properties;
      node.children = node.children.map((child) => {
        const match = "meta" in child && child?.meta?.match(/\[(.*)\]/);
        return {
          type: "paragraph",
          children: [child],
          data: {
            hName: "div",
            hProperties: match ? {
              "data-title": match[1]
            } : void 0
          }
        };
      }).filter(Boolean);
    });
  };
}

// node_modules/vocs/_lib/vite/plugins/remark/code.js
import { visit as visit7 } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";
function remarkCode() {
  return (tree) => {
    visit7(tree, (node, _, parent) => {
      if (node.type !== "code")
        return;
      if (!node.lang)
        node.lang = "txt";
      if (parent?.type === "containerDirective" && parent.name !== "steps")
        return;
      const [match, title] = node.meta?.match(/\[(.*)\]/) || [];
      if (match)
        node.meta = node.meta?.replace(match, `title="${title}"`);
    });
  };
}

// node_modules/vocs/_lib/vite/plugins/remark/details.js
import { visit as visit8 } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";
function remarkDetails() {
  return (tree) => {
    visit8(tree, (node) => {
      if (node.type !== "containerDirective")
        return;
      if (node.name !== "details")
        return;
      const data = node.data || (node.data = {});
      const tagName = "details";
      const summaryChild = node.children[0];
      if (summaryChild.type === "paragraph" && summaryChild.data?.directiveLabel)
        summaryChild.data.hName = "summary";
      else
        node.children.unshift({
          type: "paragraph",
          children: [{ type: "text", value: "Details" }],
          data: { hName: "summary" }
        });
      data.hName = tagName;
    });
  };
}

// node_modules/vocs/_lib/vite/plugins/remark/filename.js
import { visit as visit9 } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";

// node_modules/vocs/_lib/vite/plugins/shiki/transformerNotationInclude.js
import { readFileSync as readFileSync2 } from "node:fs";
import { resolve as resolve3 } from "node:path";
var includeRegex = /\/\/ \[!include (.*)\]/;
var regionRegex = /\/\/ \[!region (.*)\]/;
var regionRegexLineGlobal = /\/\/ \[!region (.*)\]\n/g;
var endRegionRegex = /\/\/ \[!endregion (.*)\]/;
var endRegionRegexLineGlobal = /\/\/ \[!endregion (.*)\](\n|$)/g;
var transformerNotationInclude = ({ rootDir }) => ({
  name: "includes",
  preprocess(code) {
    if (!code)
      return code;
    return processIncludes({
      code,
      getSource(fileName) {
        if (!fileName.startsWith("~"))
          return void 0;
        const path = resolve3(rootDir, fileName.replace("~", "."));
        return readFileSync2(path, { encoding: "utf-8" }).replace(/\n$/, "");
      }
    });
  }
});
function processIncludes({ code, getSource }) {
  const includes = code.includes("// [!include");
  if (!includes)
    return code.replaceAll(regionRegexLineGlobal, "").replaceAll(endRegionRegexLineGlobal, "").replace(/\n$/, "");
  const lines = code.split("\n");
  let i = 0;
  while (i < lines.length) {
    const line = lines[i];
    const match = line.match(includeRegex);
    if (match) {
      const [, value] = match;
      const [file, ...query] = value.split(" ");
      const [fileName, region] = file.split(":");
      let contents = getSource(fileName);
      if (contents === void 0) {
        i++;
        continue;
      }
      contents = extractRegion(contents, region);
      contents = findAndReplace(contents, query);
      lines.splice(i, 1, contents);
    }
    i++;
  }
  return lines.join("\n").replace(/\n$/, "");
}
function extractRegion(code, region) {
  const lines = [];
  let inRegion = !region;
  for (const line of code.split("\n")) {
    const startRegionMatch = line.match(regionRegex);
    const endRegionMatch = line.match(endRegionRegex);
    if (inRegion && !startRegionMatch && !endRegionMatch)
      lines.push(line.replaceAll(/_\$\d*/g, ""));
    else if (startRegionMatch) {
      const [, regionName] = startRegionMatch;
      if (regionName === region) {
        inRegion = true;
      }
    } else if (endRegionMatch) {
      const [, regionName] = endRegionMatch;
      if (regionName === region) {
        inRegion = false;
      }
    }
  }
  return lines.join("\n");
}
var findAndReplaceRegex = /^\/(.*)([^\\])\/(.*)\/$/;
function findAndReplace(code_, queries) {
  if (queries.length === 0)
    return code_;
  let code = code_;
  for (const query of queries) {
    const match = query.match(findAndReplaceRegex);
    if (!match)
      return code;
    const [, find1, find2, replace1] = match;
    const find = (find1 + find2).replace("\\/", "/");
    const replace = replace1.replace("\\/", "/");
    code = code.replaceAll(find, replace);
  }
  return code;
}

// node_modules/vocs/_lib/vite/plugins/remark/filename.js
var filenameRegex = /filename="(.*)"/;
var importRegex = /from ('|")(.*)('|")/g;
function remarkFilename() {
  return (tree) => {
    visit9(tree, (node) => {
      if (node.type === "code" && node.meta?.includes("filename")) {
        const filenameMatch = node.meta?.match(filenameRegex);
        if (filenameMatch) {
          const [, fileName] = filenameMatch;
          const sourceCode = node.value;
          visit9(tree, "code", (node2) => {
            if (node2.meta?.includes("twoslash")) {
              node2.value = processImports({
                code: node2.value,
                fileName,
                sourceCode
              });
            }
            node2.value = processIncludes({
              code: node2.value,
              getSource: (sourceFileName) => sourceFileName === fileName ? sourceCode : void 0
            });
          });
        }
      }
    });
  };
}
function processImports({ code: code_, fileName, sourceCode }) {
  let code = code_;
  const importMatches = code.matchAll(importRegex);
  for (const importMatch of importMatches) {
    const strippedFileName = stripFileName(fileName);
    const strippedSourceFileName = stripFileName(importMatch?.[2]);
    if (strippedSourceFileName !== strippedFileName)
      continue;
    const previous = code;
    code = `// @filename: ${fileName}
${sourceCode}
`;
    if (!previous.includes("@filename: example.js"))
      code += "// @filename: example.js\n// ---cut---\n";
    code += previous;
  }
  return code;
}
function stripFileName(fileName) {
  return fileName.replace(/^\.\//, "").replace(/\.(ts|js|tsx|jsx)$/, "");
}

// node_modules/vocs/_lib/vite/plugins/remark/inferred-frontmatter.js
import { visit as visit10 } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";
function remarkInferFrontmatter() {
  return (tree) => {
    visit10(tree, (node, _, parent) => {
      if (parent?.type !== "root")
        return;
      if (node.type === "heading" && node.depth === 1) {
        if (node.children.length === 0)
          return;
        const child = node.children[0];
        if (!("value" in child))
          return;
        const value = child.value;
        const [, title, description] = value.includes("[") ? value.match(/(.*) \[(.*)\]/) || [] : [void 0, value];
        const frontmatterIndex = parent.children.findIndex((child2) => child2.type === "yaml");
        const index = frontmatterIndex > 0 ? frontmatterIndex : 0;
        const frontmatter = {
          ...parent.children[frontmatterIndex] || {
            value: "",
            type: "yaml"
          }
        };
        if (!frontmatter.value.includes("title"))
          frontmatter.value += `
title: ${title}
`;
        if (!frontmatter.value.includes("description"))
          frontmatter.value += `
description: ${description}
`;
        if (frontmatterIndex === -1)
          tree.children.unshift(frontmatter);
        else
          parent.children.splice(index, 1, frontmatter);
      }
    });
  };
}

// node_modules/vocs/_lib/vite/plugins/remark/links.js
import { dirname, resolve as resolve4 } from "node:path";
import { fileURLToPath } from "node:url";
import { default as fs } from "file:///home/ptngs/Git/cnc_website/node_modules/fs-extra/lib/index.js";
import { globbySync } from "file:///home/ptngs/Git/cnc_website/node_modules/globby/index.js";
import { visit as visit11 } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";
import { createLogger } from "file:///home/ptngs/Git/cnc_website/node_modules/vite/dist/node/index.js";
var __vite_injected_original_import_meta_url = "file:///home/ptngs/Git/cnc_website/node_modules/vocs/_lib/vite/plugins/remark/links.js";
var __dirname = dirname(fileURLToPath(__vite_injected_original_import_meta_url));
var deadlinksPath = resolve4(__dirname, "../../.vocs/cache/deadlinks.json");
var logger = createLogger("info");
if (fs.existsSync(deadlinksPath))
  fs.removeSync(deadlinksPath);
function remarkLinks() {
  const deadlinks = /* @__PURE__ */ new Set();
  return async (tree, file) => {
    const { config } = await resolveVocsConfig();
    const { rootDir } = config;
    visit11(tree, "link", (node) => {
      const filePath = file.history[0];
      if (!filePath)
        return;
      const directory = dirname(filePath);
      const isExternalLink = !node.url.match(/^(\.*\/|#)/);
      if (isExternalLink)
        return;
      if (node.url.startsWith("#"))
        return;
      const [url, after] = (node.url || "").split("#");
      const [pagePath, baseDir] = (() => {
        if (url.startsWith("."))
          return [resolve4(directory, url), directory];
        return [resolve4(rootDir, `./pages${url}`), resolve4(rootDir, "./pages")];
      })();
      const isFile = (() => {
        try {
          return fs.statSync(pagePath).isFile();
        } catch {
          return false;
        }
      })();
      if (isFile) {
        node.url = parseLink(pagePath, baseDir);
        return;
      }
      const [resolvedPagePath] = globbySync([
        `${pagePath}/index.{html,md,mdx,js,jsx,ts,tsx}`,
        `${pagePath}.{html,md,mdx,js,jsx,ts,tsx}`
      ]);
      if (!resolvedPagePath) {
        deadlinks.add([node.url, filePath]);
        fs.ensureDirSync(resolve4(__dirname, "../../.vocs/cache"));
        fs.writeFileSync(deadlinksPath, JSON.stringify([...deadlinks], null, 2));
        if (process.env.NODE_ENV === "development")
          logger.warn(`could not resolve URL "${node.url}" in ${filePath}
`, { timestamp: true });
        return;
      }
      node.url = `${parseLink(resolvedPagePath, baseDir)}${after ? `#${after}` : ""}`;
    });
  };
}
function parseLink(pagePath, baseDir) {
  return pagePath.replace(baseDir, "").replace(/((index)?\.(html|md|mdx|js|jsx|ts|tsx))$/, "").replace(/\/$/, "");
}

// node_modules/vocs/_lib/vite/plugins/remark/sponsors.js
import { visit as visit12 } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";
function remarkSponsors() {
  return (tree) => {
    visit12(tree, (node, index, parent) => {
      if (node.type !== "leafDirective")
        return;
      if (node.name !== "sponsors")
        return;
      if (!index)
        return;
      (parent?.children[index]).children.push({
        type: "paragraph",
        data: {
          hName: "div",
          hProperties: { "data-sponsors": true }
        }
      });
    });
  };
}

// node_modules/vocs/_lib/vite/plugins/remark/steps.js
import { h as h3 } from "file:///home/ptngs/Git/cnc_website/node_modules/hastscript/index.js";
import { visit as visit13 } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";
function remarkSteps() {
  return (tree) => {
    visit13(tree, (node) => {
      if (node.type !== "containerDirective")
        return;
      if (node.name !== "steps")
        return;
      const data = node.data || (node.data = {});
      const tagName = "div";
      node.attributes = {
        ...node.attributes,
        "data-vocs-steps": "true"
      };
      data.hName = tagName;
      data.hProperties = h3(tagName, node.attributes || {}).properties;
      const depth = node.children.find((child) => child.type === "heading")?.depth ?? 2;
      let currentChild;
      const children = [];
      for (const child of node.children) {
        if (child.type === "heading" && child.depth === depth) {
          if (currentChild && currentChild.children.length > 0)
            children.push(currentChild);
          currentChild = {
            type: "paragraph",
            children: [],
            data: {
              hName: "div",
              hProperties: {
                "data-depth": depth
              }
            }
          };
        }
        currentChild.children.push(child);
      }
      children.push(currentChild);
      node.children = children;
    });
  };
}

// node_modules/vocs/_lib/vite/plugins/remark/strong-block.js
import { visit as visit14 } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";
function remarkStrongBlock() {
  return (tree) => {
    visit14(tree, "strong", (node, _, parent) => {
      if (!parent)
        return;
      if (parent.type !== "paragraph")
        return;
      if (parent.children.length > 1)
        return;
      parent.type = "strong";
      parent.children = node.children;
    });
  };
}

// node_modules/vocs/_lib/vite/plugins/remark/subheading.js
import { visit as visit15 } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";
function remarkSubheading() {
  return (tree) => {
    visit15(tree, "heading", (node, index, parent) => {
      if (!index)
        return;
      if (node.depth !== 1)
        return;
      if (node.children.length === 0)
        return;
      const subheadingRegex = / \[(.*)\]$/;
      const subheadingChild = node.children.find((child) => "value" in child && typeof child.value === "string" && child.value.match(subheadingRegex));
      const [match, subheading] = subheadingChild?.value?.match(subheadingRegex) ?? [];
      if (subheadingChild)
        subheadingChild.value = subheadingChild?.value?.replace(match, "");
      parent?.children.splice(index, 1);
      const header = {
        type: "paragraph",
        data: {
          hName: "header"
        },
        children: [
          node,
          subheading ? {
            type: "paragraph",
            children: [{ type: "text", value: subheading }],
            data: {
              hName: "div",
              hProperties: {
                role: "doc-subtitle"
              }
            }
          } : void 0
        ].filter(Boolean)
      };
      parent?.children.splice(index, 0, header);
    });
  };
}

// node_modules/vocs/_lib/vite/plugins/remark/twoslash.js
import { visit as visit16 } from "file:///home/ptngs/Git/cnc_website/node_modules/unist-util-visit/index.js";
function remarkTwoslash() {
  return (tree) => {
    visit16(tree, (node) => {
      if (node.type === "code") {
        node.value = node.value.replace(/(\/\/\s@.*:\s.*)\n(\/\/)/g, "$1\n\n$2").replace(/(\/\/\s@.*:\s.*)\n(\/\/)/g, "$1\n\n$2");
      }
    });
  };
}

// node_modules/vocs/_lib/vite/plugins/shiki/transformerEmptyLine.js
var transformerEmptyLine = () => ({
  name: "empty-line",
  line(hast) {
    const child = hast.children[0];
    if (child)
      return;
    hast.properties["data-empty-line"] = true;
    hast.children = [
      {
        type: "text",
        value: " "
      }
    ];
  }
});

// node_modules/vocs/_lib/vite/plugins/shiki/transformerLineNumbers.js
var transformerLineNumbers = () => ({
  name: "line-numbers",
  code(hast) {
    if (!this.options.meta?.__raw?.includes("showLineNumbers"))
      return;
    hast.properties["data-line-numbers"] = true;
  }
});

// node_modules/vocs/_lib/vite/plugins/shiki/transformerSplitIdentifiers.js
var transformerSplitIdentifiers = () => ({
  name: "split-identifiers",
  span(hast) {
    if (!this.meta.twoslash)
      return;
    const child = hast.children[0];
    if (child.type !== "text")
      return;
    if (child.value.trim().length === 0)
      return;
    if (child.value.match(/\/\/ \[!/))
      return;
    let identifier = false;
    let item = "";
    const items = [];
    for (const char of child.value) {
      if (char.match(/\w/)) {
        if (!identifier) {
          items.push(item);
          item = "";
        }
        identifier = true;
        item += char;
      } else if (char.match(/\W/)) {
        if (identifier) {
          items.push(item);
          item = "";
        }
        identifier = false;
        item += char;
      }
    }
    if (item)
      items.push(item);
    hast.children = items.map((item2) => ({ type: "text", value: item2 }));
  }
});

// node_modules/vocs/_lib/vite/plugins/shiki/transformerTagLine.js
var transformerTagLine = () => ({
  name: "tag-line",
  root(hast) {
    const lines = hast.children[0]?.children[0]?.children;
    if (!lines)
      return;
    for (let i = 0; i < lines.length; i++) {
      const line = lines[i];
      if (line.properties?.class.includes("twoslash-tag-line")) {
        lines.splice(i - 1, 0, line);
        lines.splice(i + 1, 1);
        if (i + 1 === lines.length)
          lines.splice(i, 1);
      }
    }
  }
});

// node_modules/vocs/_lib/vite/plugins/shiki/transformerTitle.js
var titleRegex = /title="(.*)"|\[(.*)\]/;
var transformerTitle = () => ({
  name: "title",
  root(hast) {
    const titleMatch = this.options.meta?.__raw?.match(titleRegex);
    if (!titleMatch)
      return;
    const title = titleMatch[1] || titleMatch[2];
    const child = hast.children[0];
    hast.children = [
      {
        ...child,
        properties: {
          ...child.properties,
          "data-title": title,
          "data-lang": this.options.lang
        }
      }
    ];
  }
});

// node_modules/vocs/_lib/vite/plugins/shiki/twoslashRenderer.js
import { fromMarkdown } from "file:///home/ptngs/Git/cnc_website/node_modules/mdast-util-from-markdown/index.js";
import { gfmFromMarkdown } from "file:///home/ptngs/Git/cnc_website/node_modules/mdast-util-gfm/index.js";
import { defaultHandlers, toHast } from "file:///home/ptngs/Git/cnc_website/node_modules/mdast-util-to-hast/index.js";

// node_modules/vocs/_lib/vite/plugins/shiki/transformerShrinkIndent.js
var transformerShrinkIndent = () => ({
  name: "indent",
  span(hast, _, __, lineElement) {
    const child = hast.children[0];
    if (child.type !== "text")
      return;
    if (!child.value)
      return;
    if (child.value.trim().length !== 0)
      return;
    if (lineElement.children.length !== 0)
      return;
    hast.children[0] = { type: "text", value: child.value.replace(/\s\s/g, " ") };
  }
});

// node_modules/vocs/_lib/vite/plugins/shiki/twoslashRenderer.js
function twoslashRenderer() {
  function hightlightPopupContent(codeToHast, shikiOptions, info) {
    if (!info.text)
      return [];
    const text = processHoverInfo(info.text) ?? info.text;
    if (!text.trim())
      return [];
    const themedContent = codeToHast(text, {
      ...shikiOptions,
      transformers: [transformerShrinkIndent()]
    }).children[0].children[0].children;
    if (info.docs) {
      const santized = info.docs.replace(/\n?{(@.*)?\s*\n?/g, "").replace(/\s*}\n?/g, "").replace(/(.)\n(.)/g, "$1 $2").replace(/\n?-\s/g, "\n");
      const mdast = fromMarkdown(santized, {
        mdastExtensions: [gfmFromMarkdown()]
      });
      const hast = toHast(mdast, {
        handlers: {
          code: (state, node) => {
            const lang = node.lang || "";
            if (lang) {
              return codeToHast(node.value, {
                ...shikiOptions,
                transformers: [],
                lang
              }).children[0];
            }
            return defaultHandlers.code(state, node);
          }
        }
      });
      if (info.docs) {
        themedContent.push({
          type: "element",
          tagName: "div",
          properties: { class: "twoslash-popup-jsdoc" },
          children: hast.children
        });
      }
    }
    return themedContent;
  }
  return {
    nodeStaticInfo(info, node) {
      const themedContent = hightlightPopupContent(this.codeToHast, this.options, info);
      if (!themedContent.length)
        return node;
      return {
        type: "element",
        tagName: "span",
        properties: {
          class: "twoslash-hover"
        },
        children: [
          {
            type: "element",
            tagName: "div",
            properties: {
              class: "twoslash-popup-info-hover"
            },
            children: themedContent
          },
          {
            type: "element",
            tagName: "span",
            properties: {
              class: "twoslash-target"
            },
            children: [node]
          }
        ]
      };
    },
    nodeQuery(info, node) {
      if (!info.text)
        return {};
      const themedContent = hightlightPopupContent(this.codeToHast, this.options, info);
      return {
        type: "element",
        tagName: "span",
        properties: {
          class: "twoslash-query-persisted"
        },
        children: [
          {
            type: "element",
            tagName: "span",
            properties: {
              class: "twoslash-popup-info"
            },
            children: [
              {
                type: "element",
                tagName: "div",
                properties: { class: "twoslash-popup-arrow" },
                children: []
              },
              {
                type: "element",
                tagName: "div",
                properties: { class: "twoslash-popup-scroll-container" },
                children: themedContent
              }
            ]
          },
          node
        ]
      };
    },
    nodeCompletion(query, node) {
      if (node.type !== "text")
        throw new Error(`[shiki-twoslash] nodeCompletion only works on text nodes, got ${node.type}`);
      const leftPart = query.completionsPrefix || "";
      const rightPart = node.value.slice(leftPart.length || 0);
      return {
        type: "element",
        tagName: "span",
        properties: {},
        children: [
          {
            type: "text",
            value: leftPart
          },
          {
            type: "element",
            tagName: "span",
            properties: {
              class: "twoslash-completion-cursor"
            },
            children: [
              {
                type: "element",
                tagName: "div",
                properties: {
                  class: "twoslash-completion-list"
                },
                children: query.completions.map((i) => ({
                  type: "element",
                  tagName: "div",
                  properties: {
                    class: "twoslash-completion-list-item"
                  },
                  children: [
                    {
                      type: "element",
                      tagName: "span",
                      properties: {
                        class: "kindModifiers" in i && typeof i.kindModifiers === "string" && i.kindModifiers?.split(",").includes("deprecated") ? "deprecated" : void 0
                      },
                      children: [
                        {
                          type: "element",
                          tagName: "span",
                          properties: { class: "twoslash-completions-matched" },
                          children: [
                            {
                              type: "text",
                              value: i.name.startsWith(query.completionsPrefix) ? query.completionsPrefix : ""
                            }
                          ]
                        },
                        {
                          type: "element",
                          tagName: "span",
                          properties: { class: "twoslash-completions-unmatched" },
                          children: [
                            {
                              type: "text",
                              value: i.name.startsWith(query.completionsPrefix) ? i.name.slice(query.completionsPrefix.length || 0) : i.name
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }))
              }
            ]
          },
          {
            type: "text",
            value: rightPart
          }
        ]
      };
    },
    nodeError(_, node) {
      return {
        type: "element",
        tagName: "span",
        properties: {
          class: "twoslash-error"
        },
        children: [node]
      };
    },
    lineError(error) {
      return [
        {
          type: "element",
          tagName: "div",
          properties: {
            class: "twoslash-meta-line twoslash-error-line"
          },
          children: [
            {
              type: "text",
              value: error.text
            }
          ]
        }
      ];
    },
    lineCustomTag(tag) {
      return [
        {
          type: "element",
          tagName: "div",
          properties: {
            class: `twoslash-tag-line twoslash-tag-${tag.name}-line`
          },
          children: [
            {
              type: "text",
              value: tag.text || ""
            }
          ]
        }
      ];
    },
    nodesHighlight(_, nodes) {
      return [
        {
          type: "element",
          tagName: "span",
          properties: {
            class: "twoslash-highlighted"
          },
          children: nodes
        }
      ];
    }
  };
}
var regexType = /^[A-Z][a-zA-Z0-9_]*(\<[^\>]*\>)?:/;
var regexFunction = /^[a-zA-Z0-9_]*\(/;
function processHoverInfo(type) {
  let content = type.replace(/^\(([\w-]+?)\)\s+/gm, "").replace(/\nimport .*$/, "").replace(/^(interface|namespace) \w+$/gm, "").trim();
  if (content.match(regexType))
    content = `type ${content}`;
  else if (content.match(regexFunction))
    content = `function ${content}`;
  return content;
}

// node_modules/vocs/_lib/vite/plugins/shiki/twoslasher.js
import { createTwoslasher } from "file:///home/ptngs/Git/cnc_website/node_modules/twoslash/dist/index.mjs";

// node_modules/vocs/_lib/vite/utils/cache.js
import { dirname as dirname2, resolve as resolve5 } from "node:path";
import { fileURLToPath as fileURLToPath2 } from "node:url";
import { default as fs2 } from "file:///home/ptngs/Git/cnc_website/node_modules/fs-extra/lib/index.js";
var __vite_injected_original_import_meta_url2 = "file:///home/ptngs/Git/cnc_website/node_modules/vocs/_lib/vite/utils/cache.js";
var __dirname2 = dirname2(fileURLToPath2(__vite_injected_original_import_meta_url2));
var search = create("search");
var twoslash = create("twoslash");
function create(key, { cacheDir = resolve5(__dirname2, "../.vocs/cache") } = {}) {
  let cache2 = /* @__PURE__ */ new Map();
  let hydrated = false;
  function hydrate() {
    const data = fs2.readJSONSync(resolve5(cacheDir, `${key}.json`), { throws: false });
    if (data)
      cache2 = new Map(JSON.parse(data));
    hydrated = true;
  }
  function save() {
    fs2.ensureDirSync(cacheDir);
    fs2.writeJSONSync(resolve5(cacheDir, `${key}.json`), JSON.stringify([...cache2]));
  }
  return {
    get(key2) {
      if (!hydrated)
        hydrate();
      return cache2.get(key2);
    },
    set(key2, value) {
      if (!hydrated)
        hydrate();
      cache2.set(key2, value);
      save();
    },
    delete(key2) {
      if (!hydrated)
        hydrate();
      cache2.delete(key2);
      save();
    },
    clear() {
      cache2.clear();
      save();
    }
  };
}

// node_modules/vocs/_lib/vite/utils/hash.js
import { createHash } from "node:crypto";
function hash(text, length) {
  let hash2 = createHash("sha256").update(text).digest("hex");
  if (length)
    hash2 = hash2.substring(0, length);
  return hash2;
}

// node_modules/vocs/_lib/vite/plugins/shiki/twoslasher.js
var twoslasher_ = createTwoslasher();
function twoslasher(...parameters) {
  const codeHash = hash(parameters[0]);
  if (twoslash.get(codeHash))
    return twoslash.get(codeHash);
  try {
    const twoslash2 = twoslasher_(...parameters);
    twoslash.set(codeHash, twoslash2);
    return twoslash2;
  } catch (e) {
    const error = e;
    const lines = parameters[0].split("\n");
    const line = lines.length - 1;
    return {
      code: parameters[0],
      nodes: [
        {
          filename: "",
          level: "error",
          type: "error",
          code: 0,
          length: 100,
          start: 0,
          line,
          character: 0,
          text: error.message.replace("\n", ""),
          id: ""
        }
      ],
      // @ts-expect-error
      meta: {},
      queries: [],
      completions: [],
      errors: [],
      highlights: [],
      hovers: [],
      tags: []
    };
  }
}

// node_modules/vocs/_lib/vite/plugins/mdx.js
var defaultTwoslashOptions = defaultTwoslashOptions_();
var getRemarkPlugins = ({ markdown } = {}) => [
  remarkDirective,
  remarkInferFrontmatter,
  remarkFrontmatter,
  remarkMdxFrontmatter,
  remarkGfm,
  remarkLinks,
  remarkBlogPosts,
  remarkCallout,
  remarkCode,
  remarkCodeGroup,
  remarkDetails,
  remarkFilename,
  remarkSponsors,
  remarkSteps,
  remarkStrongBlock,
  remarkSubheading,
  remarkTwoslash,
  remarkAuthors,
  ...markdown?.remarkPlugins || []
];
var getRehypePlugins = ({ markdown, rootDir = "", twoslash: twoslash2 = {} } = {}) => [
  rehypeSlug,
  [
    rehypeShiki,
    {
      transformers: [
        transformerLineNumbers(),
        transformerNotationDiff(),
        transformerNotationFocus(),
        transformerNotationHighlight(),
        transformerNotationWordHighlight(),
        transformerNotationInclude({ rootDir }),
        transformerEmptyLine(),
        transformerTagLine(),
        transformerTitle(),
        twoslash2 !== false ? transformerTwoslash({
          explicitTrigger: true,
          renderer: twoslashRenderer(),
          twoslasher,
          twoslashOptions: {
            ...twoslash2,
            customTags: [
              ...defaultTwoslashOptions.customTags ?? [],
              ...twoslash2.customTags ?? []
            ],
            compilerOptions: {
              ...twoslash2.compilerOptions ?? {},
              ...defaultTwoslashOptions.compilerOptions
            }
          }
        }) : null,
        transformerSplitIdentifiers()
      ].filter(Boolean),
      themes: {
        dark: "github-dark-dimmed",
        light: "github-light"
      },
      ...markdown?.code
    }
  ],
  [rehypeInlineShiki, markdown?.code],
  rehypeShikiDisplayNotation,
  [
    rehypeAutolinkHeadings,
    {
      behavior: "append",
      content() {
        return [h4("div", { dataAutolinkIcon: true })];
      }
    }
  ],
  ...markdown?.rehypePlugins || []
];
async function mdx() {
  const { config } = await resolveVocsConfig();
  const { markdown, rootDir, twoslash: twoslash2 } = config;
  const remarkPlugins3 = getRemarkPlugins({ markdown });
  const rehypePlugins2 = getRehypePlugins({ markdown, rootDir, twoslash: twoslash2 });
  return [
    mdxPlugin({
      providerImportSource: "vocs/mdx-react",
      remarkPlugins: remarkPlugins3,
      rehypePlugins: rehypePlugins2
    })
  ];
}

// node_modules/vocs/_lib/vite/plugins/resolve-vocs-modules.js
import { dirname as dirname3, extname, resolve as resolve6 } from "node:path";
import { fileURLToPath as fileURLToPath3 } from "node:url";
import {} from "file:///home/ptngs/Git/cnc_website/node_modules/vite/dist/node/index.js";
var __vite_injected_original_import_meta_url3 = "file:///home/ptngs/Git/cnc_website/node_modules/vocs/_lib/vite/plugins/resolve-vocs-modules.js";
var __dirname3 = dirname3(fileURLToPath3(__vite_injected_original_import_meta_url3));
function resolveVocsModules() {
  let config;
  return {
    name: "resolve-vocs",
    async buildStart() {
      config = (await resolveVocsConfig()).config;
    },
    transform(code_, id2) {
      let code = code_;
      if (id2.startsWith(resolve6(config.rootDir))) {
        if ([".js", ".jsx", ".js", ".js", ".md", ".mdx"].includes(extname(id2))) {
          code = code.replace(/import (.*) from ("|')vocs("|')/g, `import $1 from $2${resolve6(__dirname3, "../..")}$3`);
          code = code.replace(/import (.*) from ("|')vocs\/components("|')/g, `import $1 from $2${resolve6(__dirname3, "../../components")}$3`);
        }
      }
      return code;
    }
  };
}

// node_modules/vocs/_lib/vite/plugins/search.js
import { existsSync as existsSync2, readFileSync as readFileSync4 } from "node:fs";
import { relative as relative2, resolve as resolve8 } from "node:path";
import MiniSearch2 from "file:///home/ptngs/Git/cnc_website/node_modules/minisearch/dist/es/index.js";
import { createLogger as createLogger2 } from "file:///home/ptngs/Git/cnc_website/node_modules/vite/dist/node/index.js";

// node_modules/vocs/_lib/vite/utils/search.js
import { readFileSync as readFileSync3 } from "node:fs";
import { join, relative, resolve as resolve7 } from "node:path";
import { pathToFileURL } from "url";
import { compile, run } from "file:///home/ptngs/Git/cnc_website/node_modules/@mdx-js/mdx/index.js";
import debug_ from "file:///home/ptngs/Git/cnc_website/node_modules/debug/src/index.js";
import { default as fs3 } from "file:///home/ptngs/Git/cnc_website/node_modules/fs-extra/lib/index.js";
import { globby } from "file:///home/ptngs/Git/cnc_website/node_modules/globby/index.js";
import MiniSearch from "file:///home/ptngs/Git/cnc_website/node_modules/minisearch/dist/es/index.js";
import { Fragment } from "file:///home/ptngs/Git/cnc_website/node_modules/react/index.js";
import { renderToStaticMarkup } from "file:///home/ptngs/Git/cnc_website/node_modules/react-dom/server.node.js";
import * as runtime from "file:///home/ptngs/Git/cnc_website/node_modules/react/jsx-runtime.js";

// node_modules/vocs/_lib/vite/utils/slash.js
function slash(p) {
  return p.replace(/\\/g, "/");
}

// node_modules/vocs/_lib/vite/utils/search.js
var debug = debug_("vocs:search");
async function buildIndex({ baseDir }) {
  const pagesPaths = await globby(`${resolve7(baseDir, "pages")}/**/*.{md,mdx}`);
  const documents = await Promise.all(pagesPaths.map(async (pagePath) => {
    const mdx2 = readFileSync3(pagePath, "utf-8");
    const key = `index.${hash(pagePath)}`;
    const pageCache = search.get(key) ?? {};
    if (pageCache.mdx === mdx2)
      return pageCache.document;
    const html = await processMdx(mdx2);
    const sections = splitPageIntoSections(html);
    if (sections.length === 0) {
      search.set(key, { mdx: mdx2, document: [] });
      return [];
    }
    const fileId = getDocId(baseDir, pagePath);
    const relFile = slash(relative(baseDir, fileId));
    const href = relFile.replace(relative(baseDir, resolve7(baseDir, "pages")), "").replace(/\.(.*)/, "");
    const document = sections.map((section) => ({
      href: `${href}#${section.anchor}`,
      html: section.html,
      id: `${fileId}#${section.anchor}`,
      isPage: section.isPage,
      text: section.text,
      title: section.titles.at(-1),
      titles: section.titles.slice(0, -1)
    }));
    search.set(key, { mdx: mdx2, document });
    return document;
  }));
  const index = new MiniSearch({
    fields: ["title", "titles", "text"],
    storeFields: ["href", "html", "isPage", "text", "title", "titles"]
    // TODO
    // ...options.miniSearch?.options,
  });
  await index.addAllAsync(documents.flat());
  debug(`vocs:search > indexed ${pagesPaths.length} files`);
  return index;
}
function saveIndex(outDir, index) {
  const json = index.toJSON();
  const hash_ = search.get("hash") || hash(JSON.stringify(json), 8);
  const dir = join(outDir, ".vocs");
  fs3.ensureDirSync(dir);
  fs3.writeJSONSync(join(dir, `search-index-${hash_}.json`), json);
  return hash_;
}
var remarkPlugins = getRemarkPlugins();
var rehypePlugins = getRehypePlugins({ twoslash: false });
async function processMdx(file) {
  try {
    const compiled = await compile(file, {
      baseUrl: pathToFileURL(file).href,
      outputFormat: "function-body",
      remarkPlugins,
      rehypePlugins
    });
    const { default: MDXContent } = await run(compiled, { ...runtime, Fragment });
    const html = renderToStaticMarkup(MDXContent({
      // TODO: Pass components - vanilla extract and virtual module errors
      // components,
    }));
    return html;
  } catch (error) {
    return "";
  }
}
function getDocId(baseDir, file) {
  const relFile = slash(relative(baseDir, file));
  let id2 = slash(join(baseDir, relFile));
  id2 = id2.replace(/(^|\/)index\.(mdx|html)?$/, "$1");
  return id2;
}
var headingRegex = /<h(\d*).*?>(.*?<a.*? href=".*?".*?>.*?<\/a>)<\/h\1>/gi;
var headingContentRegex = /(.*?)<a.*? href=".*?#(.*?)".*?>.*?<\/a>/i;
function splitPageIntoSections(html) {
  const result = html.split(headingRegex);
  result.shift();
  let parentTitles = [];
  const sections = [];
  for (let i = 0; i < result.length; i += 3) {
    const level = parseInt(result[i]) - 1;
    const heading = result[i + 1];
    const headingResult = headingContentRegex.exec(heading);
    const title = clearHtmlTags(headingResult?.[1] ?? "").trim();
    const anchor = headingResult?.[2] ?? "";
    const content = result[i + 2];
    if (!title || !content)
      continue;
    const titles = parentTitles.slice(0, level);
    titles[level] = title;
    sections.push({
      anchor,
      html: content,
      isPage: i === 0,
      titles,
      text: getSearchableText(content)
    });
    if (level === 0)
      parentTitles = [title];
    else
      parentTitles[level] = title;
  }
  return sections;
}
function getSearchableText(content) {
  return clearHtmlTags(content);
}
function clearHtmlTags(str) {
  return str.replace(/<[^>]*>/g, "");
}

// node_modules/vocs/_lib/vite/plugins/search.js
var virtualModuleId = "virtual:searchIndex";
var resolvedVirtualModuleId = `\0${virtualModuleId}`;
var logger2 = createLogger2();
var dev = process.env.NODE_ENV === "development";
async function search2() {
  const { config } = await resolveVocsConfig();
  let hash2;
  let index;
  let searchPromise;
  let server;
  let viteConfig;
  function onIndexUpdated() {
    if (!server)
      return;
    server.moduleGraph.onFileChange(resolvedVirtualModuleId);
    const mod = server.moduleGraph.getModuleById(resolvedVirtualModuleId);
    if (!mod)
      return;
    server.ws.send({
      type: "update",
      updates: [
        {
          acceptedPath: mod.url,
          path: mod.url,
          timestamp: Date.now(),
          type: "js-update"
        }
      ]
    });
  }
  return {
    name: "vocs:search",
    config(config2) {
      viteConfig = config2;
      return {
        optimizeDeps: {
          include: ["vocs > minisearch"]
        }
      };
    },
    async buildStart() {
      if (!viteConfig?.build?.ssr) {
        const buildSearchIndex = search.get("buildSearchIndex");
        if (!dev && !buildSearchIndex)
          return;
        searchPromise = buildIndex({ baseDir: config.rootDir });
        if (dev) {
          logger2.info("building search index...", { timestamp: true });
          index = await searchPromise;
          onIndexUpdated();
          searchPromise = void 0;
        }
      }
    },
    async configureServer(devServer) {
      server = devServer;
    },
    resolveId(id2) {
      if (id2 !== virtualModuleId)
        return;
      return resolvedVirtualModuleId;
    },
    async load(id2) {
      if (id2 !== resolvedVirtualModuleId)
        return;
      if (dev)
        return `export const getSearchIndex = async () => ${JSON.stringify(JSON.stringify(index))}`;
      if (searchPromise) {
        index = await searchPromise;
        searchPromise = void 0;
        hash2 = saveIndex(viteConfig?.build?.outDir, index);
      } else if (!hash2) {
        if (!viteConfig?.build?.ssr)
          hash2 = hash(Date.now().toString(), 8);
        else
          hash2 = search.get("hash");
      }
      search.set("hash", hash2);
      return `export const getSearchIndex = async () => JSON.stringify(await ((await fetch("${config.basePath}/.vocs/search-index-${hash2}.json")).json()))`;
    },
    async handleHotUpdate({ file }) {
      if (!file.endsWith(".md") && !file.endsWith(".mdx"))
        return;
      const fileId = getDocId(config.rootDir, file);
      if (!existsSync2(file))
        return;
      const mdx2 = readFileSync4(file, "utf-8");
      const rendered = await processMdx(mdx2);
      const sections = splitPageIntoSections(rendered);
      if (sections.length === 0)
        return;
      const pagesDirPath = resolve8(config.rootDir, "pages");
      const relativePagesDirPath = relative2(config.rootDir, pagesDirPath);
      for (const section of sections) {
        const id2 = `${fileId}#${section.anchor}`;
        if (index.has(id2)) {
          index.discard(id2);
        }
        const relFile = slash(relative2(config.rootDir, fileId));
        const href = relFile.replace(relativePagesDirPath, "").replace(/\.(.*)/, "");
        index.add({
          href: `${href}#${section.anchor}`,
          html: section.html,
          id: id2,
          isPage: section.isPage,
          text: section.text,
          title: section.titles.at(-1),
          titles: section.titles.slice(0, -1)
        });
      }
      debug("vocs:search > updated", file);
      onIndexUpdated();
    }
  };
}

// node_modules/vocs/_lib/vite/plugins/virtual-blog.js
import { relative as relative3, resolve as resolve9 } from "node:path";
import { default as fs4 } from "file:///home/ptngs/Git/cnc_website/node_modules/fs-extra/lib/index.js";
import { globby as globby2 } from "file:///home/ptngs/Git/cnc_website/node_modules/globby/index.js";
import remarkParse from "file:///home/ptngs/Git/cnc_website/node_modules/remark-parse/index.js";
import { unified } from "file:///home/ptngs/Git/cnc_website/node_modules/unified/index.js";
import {} from "file:///home/ptngs/Git/cnc_website/node_modules/vite/dist/node/index.js";
import { parse } from "file:///home/ptngs/Git/cnc_website/node_modules/yaml/dist/index.js";
var remarkPlugins2 = getRemarkPlugins();
function virtualBlog() {
  const virtualModuleId2 = "virtual:blog";
  const resolvedVirtualModuleId2 = `\0${virtualModuleId2}`;
  return {
    name: "blog",
    resolveId(id2) {
      if (id2 === virtualModuleId2)
        return resolvedVirtualModuleId2;
      return;
    },
    async load(id2) {
      if (id2 === resolvedVirtualModuleId2) {
        const { config } = await resolveVocsConfig();
        const { blogDir, rootDir } = config;
        const blogDir_resolved = resolve9(rootDir, blogDir);
        const files = await globby2(`${blogDir_resolved}/**/*.{md,mdx}`);
        const posts = [];
        for (const file of files) {
          if (file.startsWith(`${blogDir_resolved}/index`))
            continue;
          const contents = fs4.readFileSync(file, "utf-8");
          const parser = unified().use(remarkParse);
          for (const plugin of remarkPlugins2) {
            parser.use(plugin);
          }
          const ast = parser.parse(contents);
          const frontmatter = (() => {
            let frontmatter2 = {};
            for (const node of ast.children) {
              if (node.type === "yaml") {
                frontmatter2 = parse(node.value);
                break;
              }
            }
            return frontmatter2;
          })();
          let description = (() => {
            if (frontmatter.description)
              return frontmatter.description;
            for (const node of ast.children) {
              if (node.type === "paragraph") {
                return node.children[0].value;
              }
            }
            return "";
          })();
          if (description.length > 200)
            description = `${description.slice(0, 200)}\u2026`;
          const title = (() => {
            if (frontmatter.title)
              return frontmatter.title;
            for (const node of ast.children) {
              if (node.type === "heading" && node.depth === 1) {
                return node.children[0].value;
              }
            }
            return "";
          })();
          const date = (() => {
            if (frontmatter.date)
              return frontmatter.date;
            const { mtime } = fs4.statSync(file);
            return mtime.toISOString();
          })();
          const path = `/${relative3(resolve9(rootDir, "pages"), file).replace(/\.(md|mdx)$/, "")}`;
          posts.push({
            authors: frontmatter.authors,
            date,
            description,
            path,
            title
          });
        }
        posts.sort((a, b) => {
          if (!a.date)
            return 1;
          if (!b.date)
            return -1;
          return new Date(b.date).getTime() - new Date(a.date).getTime();
        });
        return `export const posts = ${JSON.stringify(posts)};`;
      }
      return;
    },
    handleHotUpdate() {
      return;
    }
  };
}

// node_modules/vocs/_lib/vite/plugins/virtual-config.js
import {} from "file:///home/ptngs/Git/cnc_website/node_modules/vite/dist/node/index.js";
function virtualConfig() {
  const virtualModuleId2 = "virtual:config";
  const resolvedVirtualModuleId2 = `\0${virtualModuleId2}`;
  return {
    name: "vocs-config",
    async configureServer(server) {
      const { configPath } = await resolveVocsConfig();
      if (configPath) {
        server.watcher.add(configPath);
        server.watcher.on("change", async (path) => {
          if (path !== configPath)
            return;
          server.ws.send("vocs:config", (await resolveVocsConfig()).config);
        });
      }
    },
    resolveId(id2) {
      if (id2 === virtualModuleId2)
        return resolvedVirtualModuleId2;
      return;
    },
    async load(id2) {
      if (id2 === resolvedVirtualModuleId2) {
        const { config } = await resolveVocsConfig();
        return `export const config = ${JSON.stringify(config)}`;
      }
      return;
    },
    handleHotUpdate() {
      return;
    }
  };
}

// node_modules/vocs/_lib/vite/plugins/virtual-consumer-components.js
import { existsSync as existsSync3 } from "node:fs";
import { resolve as resolve10 } from "node:path";
import {} from "file:///home/ptngs/Git/cnc_website/node_modules/vite/dist/node/index.js";
function virtualConsumerComponents() {
  const virtualModuleId2 = "virtual:consumer-components";
  const resolvedVirtualModuleId2 = `\0${virtualModuleId2}`;
  return {
    name: "routes",
    resolveId(id2) {
      if (id2 === virtualModuleId2)
        return resolvedVirtualModuleId2;
      return;
    },
    async load(id2) {
      if (id2 !== resolvedVirtualModuleId2)
        return;
      const { config } = await resolveVocsConfig();
      const { rootDir } = config;
      return `
        ${exportComponent(resolve10(rootDir, "layout.js"), "Layout")}
        ${exportComponent(resolve10(rootDir, "footer.js"), "Footer")}
      `;
    }
  };
}
function exportComponent(path, name) {
  if (existsSync3(path))
    return `export { default as ${name} } from "${path}";`;
  return `export const ${name} = ({ children }) => children;`;
}

// node_modules/vocs/_lib/vite/plugins/virtual-routes.js
import { extname as extname2, resolve as resolve11 } from "node:path";
import { globby as globby3 } from "file:///home/ptngs/Git/cnc_website/node_modules/globby/index.js";

// node_modules/vocs/_lib/vite/utils/getGitTimestamp.js
import { spawn } from "file:///home/ptngs/Git/cnc_website/node_modules/cross-spawn/index.js";
import fs5 from "file:///home/ptngs/Git/cnc_website/node_modules/fs-extra/lib/index.js";
import { basename, dirname as dirname4 } from "path";
var cache = /* @__PURE__ */ new Map();
function getGitTimestamp(file) {
  const cached = cache.get(file);
  if (cached)
    return cached;
  return new Promise((resolve13, reject) => {
    const cwd = dirname4(file);
    if (!fs5.existsSync(cwd))
      return resolve13(0);
    const fileName = basename(file);
    const child = spawn("git", ["log", "-1", '--pretty="%ai"', fileName], {
      cwd
    });
    let output = "";
    child.stdout.on("data", (d) => output += String(d));
    child.on("close", () => {
      const timestamp = +new Date(output);
      cache.set(file, timestamp);
      resolve13(timestamp);
    });
    child.on("error", reject);
  });
}

// node_modules/vocs/_lib/vite/plugins/virtual-routes.js
function virtualRoutes() {
  const virtualModuleId2 = "virtual:routes";
  const resolvedVirtualModuleId2 = `\0${virtualModuleId2}`;
  let glob;
  let paths = [];
  return {
    name: "routes",
    async configureServer(server) {
      const { config } = await resolveVocsConfig();
      const { rootDir } = config;
      const pagesPath = resolve11(rootDir, "pages");
      if (pagesPath) {
        server.watcher.add(pagesPath);
        server.watcher.on("add", () => server.restart());
        server.watcher.on("unlink", () => server.restart());
      }
    },
    resolveId(id2) {
      if (id2 === virtualModuleId2)
        return resolvedVirtualModuleId2;
      return;
    },
    async load(id2) {
      if (id2 === resolvedVirtualModuleId2) {
        const { config } = await resolveVocsConfig();
        const { rootDir } = config;
        const pagesPath = resolve11(rootDir, "pages");
        let code = "export const routes = [";
        for (const path of paths) {
          const type = extname2(path).match(/(mdx|md)/) ? "mdx" : "jsx";
          const replacer = glob.split("*")[0];
          const filePath = path.replace(`${pagesPath}/`, "");
          const fileGitTimestamp = await getGitTimestamp(path);
          let lastUpdatedAt;
          if (fileGitTimestamp)
            lastUpdatedAt = fileGitTimestamp;
          let pagePath = path.replace(replacer, "").replace(/\.(.*)/, "");
          if (pagePath.endsWith("index"))
            pagePath = pagePath.replace("index", "").replace(/\/$/, "");
          code += `  { lazy: () => import("${path}"), path: "/${pagePath}", type: "${type}", filePath: "${filePath}", lastUpdatedAt: ${lastUpdatedAt} },`;
          if (pagePath)
            code += `  { lazy: () => import("${path}"), path: "/${pagePath}.html", type: "${type}", filePath: "${filePath}", lastUpdatedAt: ${lastUpdatedAt} },`;
        }
        code += "]";
        return code;
      }
      return;
    },
    async buildStart() {
      const { config } = await resolveVocsConfig();
      const { rootDir } = config;
      const pagesPath = resolve11(rootDir, "pages");
      glob = `${pagesPath}/**/*.{md,mdx,ts,tsx,js,jsx}`;
      paths = await globby3(glob);
    },
    handleHotUpdate() {
      return;
    }
  };
}

// node_modules/vocs/_lib/vite/plugins/virtual-styles.js
import { existsSync as existsSync4 } from "node:fs";
import { dirname as dirname5, resolve as resolve12 } from "node:path";
import { fileURLToPath as fileURLToPath4 } from "node:url";
import { default as fs6 } from "file:///home/ptngs/Git/cnc_website/node_modules/fs-extra/lib/index.js";
import {} from "file:///home/ptngs/Git/cnc_website/node_modules/vite/dist/node/index.js";
var __vite_injected_original_import_meta_url4 = "file:///home/ptngs/Git/cnc_website/node_modules/vocs/_lib/vite/plugins/virtual-styles.js";
var __dirname4 = dirname5(fileURLToPath4(__vite_injected_original_import_meta_url4));
function virtualStyles() {
  const virtualModuleId2 = "virtual:styles";
  const resolvedVirtualModuleId2 = `\0${virtualModuleId2}`;
  return {
    name: "styles",
    async buildStart() {
      const { config } = await resolveVocsConfig();
      const { theme } = config;
      createThemeStyles({ theme });
    },
    async configureServer(server) {
      const { configPath } = await resolveVocsConfig();
      if (configPath) {
        server.watcher.add(configPath);
        server.watcher.on("change", async (path) => {
          if (path !== configPath)
            return;
          const { config } = await resolveVocsConfig();
          const { theme } = config;
          createThemeStyles({ theme });
        });
      }
    },
    resolveId(id2) {
      if (id2 === virtualModuleId2)
        return resolvedVirtualModuleId2;
      return;
    },
    async load(id2) {
      if (id2 !== resolvedVirtualModuleId2)
        return;
      const { config } = await resolveVocsConfig();
      const { rootDir } = config;
      const themeStyles = resolve12(__dirname4, "../.vocs/theme.css");
      const rootStyles = resolve12(rootDir, "styles.css");
      let code = "";
      if (existsSync4(themeStyles))
        code += `import "${themeStyles}";`;
      if (existsSync4(rootStyles))
        code += `import "${rootStyles}";`;
      return code;
    }
  };
}
function createThemeStyles({ theme }) {
  const themeFile = resolve12(__dirname4, "../.vocs/theme.css");
  if (fs6.existsSync(themeFile))
    fs6.rmSync(themeFile);
  if (!theme)
    return;
  fs6.createFileSync(themeFile);
  function createVars(variables2) {
    let code = "";
    for (const scope in variables2) {
      for (const name in variables2[scope]) {
        const value = variables2[scope][name];
        if (typeof value === "string")
          code += `:root { --vocs-${scope}_${name}: ${value}; }
:root.dark { --vocs-${scope}_${name}: ${value}; }
`;
        else {
          if (value?.light)
            code += `:root { --vocs-${scope}_${name}: ${value.light}; }
`;
          if (value?.dark)
            code += `:root.dark { --vocs-${scope}_${name}: ${value.dark}; }
`;
        }
      }
    }
    return code;
  }
  const { accentColor, variables } = theme;
  if (accentColor)
    fs6.appendFileSync(themeFile, createVars({
      color: {
        backgroundAccent: accentColor.backgroundAccent,
        backgroundAccentHover: accentColor.backgroundAccentHover,
        backgroundAccentText: accentColor.backgroundAccentText,
        borderAccent: accentColor.borderAccent,
        textAccent: accentColor.textAccent,
        textAccentHover: accentColor.textAccentHover
      }
    }));
  if (variables)
    fs6.appendFileSync(themeFile, createVars(variables));
}

// node_modules/vocs/_lib/vite/vite.config.js
var vite_config_default = defineConfig2(async () => {
  const { config } = await resolveVocsConfig();
  const viteConfig = config.vite ?? {};
  return {
    ...viteConfig,
    build: {
      ...viteConfig?.build,
      cssCodeSplit: false
    },
    optimizeDeps: {
      ...viteConfig.optimizeDeps ?? {},
      include: [
        "acorn-jsx",
        "chroma-js",
        "debug",
        "extend",
        "mark.js",
        "react",
        "react-dom",
        "react-dom/client",
        "react-helmet",
        "style-to-object",
        ...viteConfig.optimizeDeps?.include ?? []
      ],
      exclude: ["vocs", ...viteConfig.optimizeDeps?.exclude ?? []]
    },
    plugins: [
      splitVendorChunkPlugin(),
      virtualConfig(),
      react(),
      vanillaExtractPlugin({
        identifiers({ filePath, debugId }) {
          const scope = basename2(filePath).replace(".css.js", "");
          return `vocs_${scope}${debugId ? `_${debugId}` : ""}`;
        },
        emitCssInSsr: true
      }),
      css(),
      mdx(),
      resolveVocsModules(),
      search2(),
      virtualBlog(),
      virtualConsumerComponents(),
      virtualRoutes(),
      virtualStyles(),
      ...viteConfig.plugins ?? []
    ],
    server: {
      ...viteConfig.server,
      fs: {
        ...viteConfig.server?.fs,
        allow: ["..", ...viteConfig.server?.fs?.allow ?? []]
      }
    }
  };
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS92aXRlLmNvbmZpZy50cyIsICJub2RlX21vZHVsZXMvdm9jcy92aXRlL3BsdWdpbnMvY3NzLnRzIiwgIm5vZGVfbW9kdWxlcy92b2NzL3ZpdGUvcGx1Z2lucy9tZHgudHMiLCAibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS91dGlscy9yZXNvbHZlVm9jc0NvbmZpZy50cyIsICJub2RlX21vZHVsZXMvdm9jcy9jb25maWcudHMiLCAibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS9wbHVnaW5zL3JlaHlwZS9kaXNwbGF5LXNoaWtpLW5vdGF0aW9uLnRzIiwgIm5vZGVfbW9kdWxlcy92b2NzL3ZpdGUvcGx1Z2lucy9yZWh5cGUvaW5saW5lLXNoaWtpLnRzIiwgIm5vZGVfbW9kdWxlcy92b2NzL3ZpdGUvcGx1Z2lucy9yZW1hcmsvYXV0aG9ycy50cyIsICJub2RlX21vZHVsZXMvdm9jcy92aXRlL3BsdWdpbnMvcmVtYXJrL2Jsb2ctcG9zdHMudHMiLCAibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS9wbHVnaW5zL3JlbWFyay9jYWxsb3V0LnRzIiwgIm5vZGVfbW9kdWxlcy92b2NzL3ZpdGUvcGx1Z2lucy9yZW1hcmsvY29kZS1ncm91cC50cyIsICJub2RlX21vZHVsZXMvdm9jcy92aXRlL3BsdWdpbnMvcmVtYXJrL2NvZGUudHMiLCAibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS9wbHVnaW5zL3JlbWFyay9kZXRhaWxzLnRzIiwgIm5vZGVfbW9kdWxlcy92b2NzL3ZpdGUvcGx1Z2lucy9yZW1hcmsvZmlsZW5hbWUudHMiLCAibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS9wbHVnaW5zL3NoaWtpL3RyYW5zZm9ybWVyTm90YXRpb25JbmNsdWRlLnRzIiwgIm5vZGVfbW9kdWxlcy92b2NzL3ZpdGUvcGx1Z2lucy9yZW1hcmsvaW5mZXJyZWQtZnJvbnRtYXR0ZXIudHMiLCAibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS9wbHVnaW5zL3JlbWFyay9saW5rcy50cyIsICJub2RlX21vZHVsZXMvdm9jcy92aXRlL3BsdWdpbnMvcmVtYXJrL3Nwb25zb3JzLnRzIiwgIm5vZGVfbW9kdWxlcy92b2NzL3ZpdGUvcGx1Z2lucy9yZW1hcmsvc3RlcHMudHMiLCAibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS9wbHVnaW5zL3JlbWFyay9zdHJvbmctYmxvY2sudHMiLCAibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS9wbHVnaW5zL3JlbWFyay9zdWJoZWFkaW5nLnRzIiwgIm5vZGVfbW9kdWxlcy92b2NzL3ZpdGUvcGx1Z2lucy9yZW1hcmsvdHdvc2xhc2gudHMiLCAibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS9wbHVnaW5zL3NoaWtpL3RyYW5zZm9ybWVyRW1wdHlMaW5lLnRzIiwgIm5vZGVfbW9kdWxlcy92b2NzL3ZpdGUvcGx1Z2lucy9zaGlraS90cmFuc2Zvcm1lckxpbmVOdW1iZXJzLnRzIiwgIm5vZGVfbW9kdWxlcy92b2NzL3ZpdGUvcGx1Z2lucy9zaGlraS90cmFuc2Zvcm1lclNwbGl0SWRlbnRpZmllcnMudHMiLCAibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS9wbHVnaW5zL3NoaWtpL3RyYW5zZm9ybWVyVGFnTGluZS50cyIsICJub2RlX21vZHVsZXMvdm9jcy92aXRlL3BsdWdpbnMvc2hpa2kvdHJhbnNmb3JtZXJUaXRsZS50cyIsICJub2RlX21vZHVsZXMvdm9jcy92aXRlL3BsdWdpbnMvc2hpa2kvdHdvc2xhc2hSZW5kZXJlci50cyIsICJub2RlX21vZHVsZXMvdm9jcy92aXRlL3BsdWdpbnMvc2hpa2kvdHJhbnNmb3JtZXJTaHJpbmtJbmRlbnQudHMiLCAibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS9wbHVnaW5zL3NoaWtpL3R3b3NsYXNoZXIudHMiLCAibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS91dGlscy9jYWNoZS50cyIsICJub2RlX21vZHVsZXMvdm9jcy92aXRlL3V0aWxzL2hhc2gudHMiLCAibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS9wbHVnaW5zL3Jlc29sdmUtdm9jcy1tb2R1bGVzLnRzIiwgIm5vZGVfbW9kdWxlcy92b2NzL3ZpdGUvcGx1Z2lucy9zZWFyY2gudHMiLCAibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS91dGlscy9zZWFyY2gudHMiLCAibm9kZV9tb2R1bGVzL3ZvY3Mvdml0ZS91dGlscy9zbGFzaC50cyIsICJub2RlX21vZHVsZXMvdm9jcy92aXRlL3BsdWdpbnMvdmlydHVhbC1ibG9nLnRzIiwgIm5vZGVfbW9kdWxlcy92b2NzL3ZpdGUvcGx1Z2lucy92aXJ0dWFsLWNvbmZpZy50cyIsICJub2RlX21vZHVsZXMvdm9jcy92aXRlL3BsdWdpbnMvdmlydHVhbC1jb25zdW1lci1jb21wb25lbnRzLnRzIiwgIm5vZGVfbW9kdWxlcy92b2NzL3ZpdGUvcGx1Z2lucy92aXJ0dWFsLXJvdXRlcy50cyIsICJub2RlX21vZHVsZXMvdm9jcy92aXRlL3V0aWxzL2dldEdpdFRpbWVzdGFtcC50cyIsICJub2RlX21vZHVsZXMvdm9jcy92aXRlL3BsdWdpbnMvdmlydHVhbC1zdHlsZXMudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IGJhc2VuYW1lIH0gZnJvbSAnbm9kZTpwYXRoJ1xuaW1wb3J0IHsgdmFuaWxsYUV4dHJhY3RQbHVnaW4gfSBmcm9tICdAdmFuaWxsYS1leHRyYWN0L3ZpdGUtcGx1Z2luJ1xuaW1wb3J0IHJlYWN0IGZyb20gJ0B2aXRlanMvcGx1Z2luLXJlYWN0J1xuaW1wb3J0IHsgZGVmaW5lQ29uZmlnLCBzcGxpdFZlbmRvckNodW5rUGx1Z2luIH0gZnJvbSAndml0ZSdcblxuaW1wb3J0IHsgY3NzIH0gZnJvbSAnLi9wbHVnaW5zL2Nzcy5qcydcbmltcG9ydCB7IG1keCB9IGZyb20gJy4vcGx1Z2lucy9tZHguanMnXG5pbXBvcnQgeyByZXNvbHZlVm9jc01vZHVsZXMgfSBmcm9tICcuL3BsdWdpbnMvcmVzb2x2ZS12b2NzLW1vZHVsZXMuanMnXG5pbXBvcnQgeyBzZWFyY2ggfSBmcm9tICcuL3BsdWdpbnMvc2VhcmNoLmpzJ1xuaW1wb3J0IHsgdmlydHVhbEJsb2cgfSBmcm9tICcuL3BsdWdpbnMvdmlydHVhbC1ibG9nLmpzJ1xuaW1wb3J0IHsgdmlydHVhbENvbmZpZyB9IGZyb20gJy4vcGx1Z2lucy92aXJ0dWFsLWNvbmZpZy5qcydcbmltcG9ydCB7IHZpcnR1YWxDb25zdW1lckNvbXBvbmVudHMgfSBmcm9tICcuL3BsdWdpbnMvdmlydHVhbC1jb25zdW1lci1jb21wb25lbnRzLmpzJ1xuaW1wb3J0IHsgdmlydHVhbFJvdXRlcyB9IGZyb20gJy4vcGx1Z2lucy92aXJ0dWFsLXJvdXRlcy5qcydcbmltcG9ydCB7IHZpcnR1YWxTdHlsZXMgfSBmcm9tICcuL3BsdWdpbnMvdmlydHVhbC1zdHlsZXMuanMnXG5pbXBvcnQgeyByZXNvbHZlVm9jc0NvbmZpZyB9IGZyb20gJy4vdXRpbHMvcmVzb2x2ZVZvY3NDb25maWcuanMnXG5cbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbmZpZyhhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHsgY29uZmlnIH0gPSBhd2FpdCByZXNvbHZlVm9jc0NvbmZpZygpXG4gIGNvbnN0IHZpdGVDb25maWcgPSBjb25maWcudml0ZSA/PyB7fVxuICByZXR1cm4ge1xuICAgIC4uLnZpdGVDb25maWcsXG4gICAgYnVpbGQ6IHtcbiAgICAgIC4uLnZpdGVDb25maWc/LmJ1aWxkLFxuICAgICAgY3NzQ29kZVNwbGl0OiBmYWxzZSxcbiAgICB9LFxuICAgIG9wdGltaXplRGVwczoge1xuICAgICAgLi4uKHZpdGVDb25maWcub3B0aW1pemVEZXBzID8/IHt9KSxcbiAgICAgIGluY2x1ZGU6IFtcbiAgICAgICAgJ2Fjb3JuLWpzeCcsXG4gICAgICAgICdjaHJvbWEtanMnLFxuICAgICAgICAnZGVidWcnLFxuICAgICAgICAnZXh0ZW5kJyxcbiAgICAgICAgJ21hcmsuanMnLFxuICAgICAgICAncmVhY3QnLFxuICAgICAgICAncmVhY3QtZG9tJyxcbiAgICAgICAgJ3JlYWN0LWRvbS9jbGllbnQnLFxuICAgICAgICAncmVhY3QtaGVsbWV0JyxcbiAgICAgICAgJ3N0eWxlLXRvLW9iamVjdCcsXG4gICAgICAgIC4uLih2aXRlQ29uZmlnLm9wdGltaXplRGVwcz8uaW5jbHVkZSA/PyBbXSksXG4gICAgICBdLFxuICAgICAgZXhjbHVkZTogWyd2b2NzJywgLi4uKHZpdGVDb25maWcub3B0aW1pemVEZXBzPy5leGNsdWRlID8/IFtdKV0sXG4gICAgfSxcbiAgICBwbHVnaW5zOiBbXG4gICAgICBzcGxpdFZlbmRvckNodW5rUGx1Z2luKCksXG4gICAgICB2aXJ0dWFsQ29uZmlnKCksXG4gICAgICByZWFjdCgpLFxuICAgICAgdmFuaWxsYUV4dHJhY3RQbHVnaW4oe1xuICAgICAgICBpZGVudGlmaWVycyh7IGZpbGVQYXRoLCBkZWJ1Z0lkIH0pIHtcbiAgICAgICAgICBjb25zdCBzY29wZSA9IGJhc2VuYW1lKGZpbGVQYXRoKS5yZXBsYWNlKCcuY3NzLnRzJywgJycpXG4gICAgICAgICAgcmV0dXJuIGB2b2NzXyR7c2NvcGV9JHtkZWJ1Z0lkID8gYF8ke2RlYnVnSWR9YCA6ICcnfWBcbiAgICAgICAgfSxcbiAgICAgICAgZW1pdENzc0luU3NyOiB0cnVlLFxuICAgICAgfSksXG4gICAgICBjc3MoKSxcbiAgICAgIG1keCgpLFxuICAgICAgcmVzb2x2ZVZvY3NNb2R1bGVzKCksXG4gICAgICBzZWFyY2goKSxcbiAgICAgIHZpcnR1YWxCbG9nKCksXG4gICAgICB2aXJ0dWFsQ29uc3VtZXJDb21wb25lbnRzKCksXG4gICAgICB2aXJ0dWFsUm91dGVzKCksXG4gICAgICB2aXJ0dWFsU3R5bGVzKCksXG4gICAgICAuLi4odml0ZUNvbmZpZy5wbHVnaW5zID8/IFtdKSxcbiAgICBdLFxuICAgIHNlcnZlcjoge1xuICAgICAgLi4udml0ZUNvbmZpZy5zZXJ2ZXIsXG4gICAgICBmczoge1xuICAgICAgICAuLi52aXRlQ29uZmlnLnNlcnZlcj8uZnMsXG4gICAgICAgIGFsbG93OiBbJy4uJywgLi4uKHZpdGVDb25maWcuc2VydmVyPy5mcz8uYWxsb3cgPz8gW10pXSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfVxufSlcbiIsICJpbXBvcnQgeyBhY2Nlc3NTeW5jIH0gZnJvbSAnbm9kZTpmcydcbmltcG9ydCB7IHJlc29sdmUgfSBmcm9tICdub2RlOnBhdGgnXG5pbXBvcnQgeyBkZWZhdWx0IGFzIGF1dG9wcmVmaXhlciB9IGZyb20gJ2F1dG9wcmVmaXhlcidcbmltcG9ydCB7IGRlZmF1bHQgYXMgdGFpbHdpbmRjc3MgfSBmcm9tICd0YWlsd2luZGNzcydcbmltcG9ydCB7IGRlZmF1bHQgYXMgdGFpbHdpbmRjc3NOZXN0aW5nIH0gZnJvbSAndGFpbHdpbmRjc3MvbmVzdGluZydcbmltcG9ydCB0eXBlIHsgUGx1Z2luT3B0aW9uIH0gZnJvbSAndml0ZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGNzcygpOiBQbHVnaW5PcHRpb24ge1xuICByZXR1cm4ge1xuICAgIG5hbWU6ICdjc3MnLFxuICAgIGFzeW5jIGNvbmZpZygpIHtcbiAgICAgIGNvbnN0IHRhaWx3aW5kQ29uZmlnID0gZmluZFRhaWx3aW5kQ29uZmlnKClcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNzczoge1xuICAgICAgICAgIHBvc3Rjc3M6IHtcbiAgICAgICAgICAgIHBsdWdpbnM6IFtcbiAgICAgICAgICAgICAgYXV0b3ByZWZpeGVyKCksXG4gICAgICAgICAgICAgIHRhaWx3aW5kY3NzTmVzdGluZygpLFxuICAgICAgICAgICAgICB0YWlsd2luZENvbmZpZyA/IHRhaWx3aW5kY3NzKCkgOiBudWxsLFxuICAgICAgICAgICAgXS5maWx0ZXIoQm9vbGVhbikgYXMgYW55LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgfSxcbiAgfVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gVGFpbHdpbmRcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRUYWlsd2luZENvbmZpZygpIHtcbiAgY29uc3QgY29uZmlnRmlsZXMgPSBbXG4gICAgJy4vdGFpbHdpbmQuY29uZmlnLmpzJyxcbiAgICAnLi90YWlsd2luZC5jb25maWcuY2pzJyxcbiAgICAnLi90YWlsd2luZC5jb25maWcubWpzJyxcbiAgICAnLi90YWlsd2luZC5jb25maWcudHMnLFxuICBdXG4gIGZvciAoY29uc3QgY29uZmlnRmlsZSBvZiBjb25maWdGaWxlcykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25maWdQYXRoID0gcmVzb2x2ZShwcm9jZXNzLmN3ZCgpLCBjb25maWdGaWxlKVxuICAgICAgYWNjZXNzU3luYyhjb25maWdQYXRoKVxuICAgICAgcmV0dXJuIGNvbmZpZ1BhdGhcbiAgICB9IGNhdGNoIChlcnIpIHt9XG4gIH1cblxuICByZXR1cm4gbnVsbFxufVxuIiwgImltcG9ydCBtZHhQbHVnaW4gZnJvbSAnQG1keC1qcy9yb2xsdXAnXG5pbXBvcnQgcmVoeXBlU2hpa2ksIHsgdHlwZSBSZWh5cGVTaGlraU9wdGlvbnMgfSBmcm9tICdAc2hpa2lqcy9yZWh5cGUnXG5pbXBvcnQge1xuICB0cmFuc2Zvcm1lck5vdGF0aW9uRGlmZixcbiAgdHJhbnNmb3JtZXJOb3RhdGlvbkZvY3VzLFxuICB0cmFuc2Zvcm1lck5vdGF0aW9uSGlnaGxpZ2h0LFxuICB0cmFuc2Zvcm1lck5vdGF0aW9uV29yZEhpZ2hsaWdodCxcbn0gZnJvbSAnQHNoaWtpanMvdHJhbnNmb3JtZXJzJ1xuaW1wb3J0IHtcbiAgZGVmYXVsdFR3b3NsYXNoT3B0aW9ucyBhcyBkZWZhdWx0VHdvc2xhc2hPcHRpb25zXyxcbiAgdHJhbnNmb3JtZXJUd29zbGFzaCxcbn0gZnJvbSAnQHNoaWtpanMvdHdvc2xhc2gnXG5pbXBvcnQgeyBoIH0gZnJvbSAnaGFzdHNjcmlwdCdcbmltcG9ydCByZWh5cGVBdXRvbGlua0hlYWRpbmdzIGZyb20gJ3JlaHlwZS1hdXRvbGluay1oZWFkaW5ncydcbmltcG9ydCByZWh5cGVTbHVnIGZyb20gJ3JlaHlwZS1zbHVnJ1xuaW1wb3J0IHJlbWFya0RpcmVjdGl2ZSBmcm9tICdyZW1hcmstZGlyZWN0aXZlJ1xuaW1wb3J0IHJlbWFya0Zyb250bWF0dGVyIGZyb20gJ3JlbWFyay1mcm9udG1hdHRlcidcbmltcG9ydCByZW1hcmtHZm0gZnJvbSAncmVtYXJrLWdmbSdcbmltcG9ydCByZW1hcmtNZHhGcm9udG1hdHRlciBmcm9tICdyZW1hcmstbWR4LWZyb250bWF0dGVyJ1xuaW1wb3J0IHR5cGUgeyBQbHVnZ2FibGVMaXN0IH0gZnJvbSAndW5pZmllZCdcbmltcG9ydCB7IHR5cGUgUGx1Z2luT3B0aW9uIH0gZnJvbSAndml0ZSdcblxuaW1wb3J0IHR5cGUgeyBQYXJzZWRDb25maWcgfSBmcm9tICcuLi8uLi9jb25maWcuanMnXG5pbXBvcnQgeyByZXNvbHZlVm9jc0NvbmZpZyB9IGZyb20gJy4uL3V0aWxzL3Jlc29sdmVWb2NzQ29uZmlnLmpzJ1xuaW1wb3J0IHsgcmVoeXBlU2hpa2lEaXNwbGF5Tm90YXRpb24gfSBmcm9tICcuL3JlaHlwZS9kaXNwbGF5LXNoaWtpLW5vdGF0aW9uLmpzJ1xuaW1wb3J0IHsgcmVoeXBlSW5saW5lU2hpa2kgfSBmcm9tICcuL3JlaHlwZS9pbmxpbmUtc2hpa2kuanMnXG5pbXBvcnQgeyByZW1hcmtBdXRob3JzIH0gZnJvbSAnLi9yZW1hcmsvYXV0aG9ycy5qcydcbmltcG9ydCB7IHJlbWFya0Jsb2dQb3N0cyB9IGZyb20gJy4vcmVtYXJrL2Jsb2ctcG9zdHMuanMnXG5pbXBvcnQgeyByZW1hcmtDYWxsb3V0IH0gZnJvbSAnLi9yZW1hcmsvY2FsbG91dC5qcydcbmltcG9ydCB7IHJlbWFya0NvZGVHcm91cCB9IGZyb20gJy4vcmVtYXJrL2NvZGUtZ3JvdXAuanMnXG5pbXBvcnQgeyByZW1hcmtDb2RlIH0gZnJvbSAnLi9yZW1hcmsvY29kZS5qcydcbmltcG9ydCB7IHJlbWFya0RldGFpbHMgfSBmcm9tICcuL3JlbWFyay9kZXRhaWxzLmpzJ1xuaW1wb3J0IHsgcmVtYXJrRmlsZW5hbWUgfSBmcm9tICcuL3JlbWFyay9maWxlbmFtZS5qcydcbmltcG9ydCB7IHJlbWFya0luZmVyRnJvbnRtYXR0ZXIgfSBmcm9tICcuL3JlbWFyay9pbmZlcnJlZC1mcm9udG1hdHRlci5qcydcbmltcG9ydCB7IHJlbWFya0xpbmtzIH0gZnJvbSAnLi9yZW1hcmsvbGlua3MuanMnXG5pbXBvcnQgeyByZW1hcmtTcG9uc29ycyB9IGZyb20gJy4vcmVtYXJrL3Nwb25zb3JzLmpzJ1xuaW1wb3J0IHsgcmVtYXJrU3RlcHMgfSBmcm9tICcuL3JlbWFyay9zdGVwcy5qcydcbmltcG9ydCB7IHJlbWFya1N0cm9uZ0Jsb2NrIH0gZnJvbSAnLi9yZW1hcmsvc3Ryb25nLWJsb2NrLmpzJ1xuaW1wb3J0IHsgcmVtYXJrU3ViaGVhZGluZyB9IGZyb20gJy4vcmVtYXJrL3N1YmhlYWRpbmcuanMnXG5pbXBvcnQgeyByZW1hcmtUd29zbGFzaCB9IGZyb20gJy4vcmVtYXJrL3R3b3NsYXNoLmpzJ1xuaW1wb3J0IHsgdHJhbnNmb3JtZXJFbXB0eUxpbmUgfSBmcm9tICcuL3NoaWtpL3RyYW5zZm9ybWVyRW1wdHlMaW5lLmpzJ1xuaW1wb3J0IHsgdHJhbnNmb3JtZXJMaW5lTnVtYmVycyB9IGZyb20gJy4vc2hpa2kvdHJhbnNmb3JtZXJMaW5lTnVtYmVycy5qcydcbmltcG9ydCB7IHRyYW5zZm9ybWVyTm90YXRpb25JbmNsdWRlIH0gZnJvbSAnLi9zaGlraS90cmFuc2Zvcm1lck5vdGF0aW9uSW5jbHVkZS5qcydcbmltcG9ydCB7IHRyYW5zZm9ybWVyU3BsaXRJZGVudGlmaWVycyB9IGZyb20gJy4vc2hpa2kvdHJhbnNmb3JtZXJTcGxpdElkZW50aWZpZXJzLmpzJ1xuaW1wb3J0IHsgdHJhbnNmb3JtZXJUYWdMaW5lIH0gZnJvbSAnLi9zaGlraS90cmFuc2Zvcm1lclRhZ0xpbmUuanMnXG5pbXBvcnQgeyB0cmFuc2Zvcm1lclRpdGxlIH0gZnJvbSAnLi9zaGlraS90cmFuc2Zvcm1lclRpdGxlLmpzJ1xuaW1wb3J0IHsgdHdvc2xhc2hSZW5kZXJlciB9IGZyb20gJy4vc2hpa2kvdHdvc2xhc2hSZW5kZXJlci5qcydcbmltcG9ydCB7IHR3b3NsYXNoZXIgfSBmcm9tICcuL3NoaWtpL3R3b3NsYXNoZXIuanMnXG5cbmNvbnN0IGRlZmF1bHRUd29zbGFzaE9wdGlvbnMgPSBkZWZhdWx0VHdvc2xhc2hPcHRpb25zXygpXG5cbnR5cGUgUmVtYXJrUGx1Z2luc1BhcmFtZXRlcnMgPSB7XG4gIG1hcmtkb3duPzogUGFyc2VkQ29uZmlnWydtYXJrZG93biddXG59XG5cbmV4cG9ydCBjb25zdCBnZXRSZW1hcmtQbHVnaW5zID0gKHsgbWFya2Rvd24gfTogUmVtYXJrUGx1Z2luc1BhcmFtZXRlcnMgPSB7fSkgPT5cbiAgW1xuICAgIHJlbWFya0RpcmVjdGl2ZSxcbiAgICByZW1hcmtJbmZlckZyb250bWF0dGVyLFxuICAgIHJlbWFya0Zyb250bWF0dGVyLFxuICAgIHJlbWFya01keEZyb250bWF0dGVyLFxuICAgIHJlbWFya0dmbSxcbiAgICByZW1hcmtMaW5rcyxcbiAgICByZW1hcmtCbG9nUG9zdHMsXG4gICAgcmVtYXJrQ2FsbG91dCxcbiAgICByZW1hcmtDb2RlLFxuICAgIHJlbWFya0NvZGVHcm91cCxcbiAgICByZW1hcmtEZXRhaWxzLFxuICAgIHJlbWFya0ZpbGVuYW1lLFxuICAgIHJlbWFya1Nwb25zb3JzLFxuICAgIHJlbWFya1N0ZXBzLFxuICAgIHJlbWFya1N0cm9uZ0Jsb2NrLFxuICAgIHJlbWFya1N1YmhlYWRpbmcsXG4gICAgcmVtYXJrVHdvc2xhc2gsXG4gICAgcmVtYXJrQXV0aG9ycyxcbiAgICAuLi4obWFya2Rvd24/LnJlbWFya1BsdWdpbnMgfHwgW10pLFxuICBdIGFzIFBsdWdnYWJsZUxpc3RcblxudHlwZSBSZWh5cGVQbHVnaW5zUGFyYW1ldGVycyA9IHtcbiAgbWFya2Rvd24/OiBQYXJzZWRDb25maWdbJ21hcmtkb3duJ11cbiAgcm9vdERpcj86IFBhcnNlZENvbmZpZ1sncm9vdERpciddXG4gIHR3b3NsYXNoPzogUGFyc2VkQ29uZmlnWyd0d29zbGFzaCddIHwgZmFsc2Vcbn1cblxuZXhwb3J0IGNvbnN0IGdldFJlaHlwZVBsdWdpbnMgPSAoe1xuICBtYXJrZG93bixcbiAgcm9vdERpciA9ICcnLFxuICB0d29zbGFzaCA9IHt9LFxufTogUmVoeXBlUGx1Z2luc1BhcmFtZXRlcnMgPSB7fSkgPT5cbiAgW1xuICAgIHJlaHlwZVNsdWcsXG4gICAgW1xuICAgICAgcmVoeXBlU2hpa2ksXG4gICAgICB7XG4gICAgICAgIHRyYW5zZm9ybWVyczogW1xuICAgICAgICAgIHRyYW5zZm9ybWVyTGluZU51bWJlcnMoKSxcbiAgICAgICAgICB0cmFuc2Zvcm1lck5vdGF0aW9uRGlmZigpLFxuICAgICAgICAgIHRyYW5zZm9ybWVyTm90YXRpb25Gb2N1cygpLFxuICAgICAgICAgIHRyYW5zZm9ybWVyTm90YXRpb25IaWdobGlnaHQoKSxcbiAgICAgICAgICB0cmFuc2Zvcm1lck5vdGF0aW9uV29yZEhpZ2hsaWdodCgpLFxuICAgICAgICAgIHRyYW5zZm9ybWVyTm90YXRpb25JbmNsdWRlKHsgcm9vdERpciB9KSxcbiAgICAgICAgICB0cmFuc2Zvcm1lckVtcHR5TGluZSgpLFxuICAgICAgICAgIHRyYW5zZm9ybWVyVGFnTGluZSgpLFxuICAgICAgICAgIHRyYW5zZm9ybWVyVGl0bGUoKSxcbiAgICAgICAgICB0d29zbGFzaCAhPT0gZmFsc2VcbiAgICAgICAgICAgID8gdHJhbnNmb3JtZXJUd29zbGFzaCh7XG4gICAgICAgICAgICAgICAgZXhwbGljaXRUcmlnZ2VyOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlbmRlcmVyOiB0d29zbGFzaFJlbmRlcmVyKCksXG4gICAgICAgICAgICAgICAgdHdvc2xhc2hlcixcbiAgICAgICAgICAgICAgICB0d29zbGFzaE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgIC4uLnR3b3NsYXNoLFxuICAgICAgICAgICAgICAgICAgY3VzdG9tVGFnczogW1xuICAgICAgICAgICAgICAgICAgICAuLi4oZGVmYXVsdFR3b3NsYXNoT3B0aW9ucy5jdXN0b21UYWdzID8/IFtdKSxcbiAgICAgICAgICAgICAgICAgICAgLi4uKHR3b3NsYXNoLmN1c3RvbVRhZ3MgPz8gW10pLFxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIGNvbXBpbGVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAuLi4odHdvc2xhc2guY29tcGlsZXJPcHRpb25zID8/IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgLi4uZGVmYXVsdFR3b3NsYXNoT3B0aW9ucy5jb21waWxlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgdHJhbnNmb3JtZXJTcGxpdElkZW50aWZpZXJzKCksXG4gICAgICAgIF0uZmlsdGVyKEJvb2xlYW4pLFxuICAgICAgICB0aGVtZXM6IHtcbiAgICAgICAgICBkYXJrOiAnZ2l0aHViLWRhcmstZGltbWVkJyxcbiAgICAgICAgICBsaWdodDogJ2dpdGh1Yi1saWdodCcsXG4gICAgICAgIH0sXG4gICAgICAgIC4uLm1hcmtkb3duPy5jb2RlLFxuICAgICAgfSBhcyBSZWh5cGVTaGlraU9wdGlvbnMsXG4gICAgXSxcbiAgICBbcmVoeXBlSW5saW5lU2hpa2ksIG1hcmtkb3duPy5jb2RlXSxcbiAgICByZWh5cGVTaGlraURpc3BsYXlOb3RhdGlvbixcbiAgICBbXG4gICAgICByZWh5cGVBdXRvbGlua0hlYWRpbmdzLFxuICAgICAge1xuICAgICAgICBiZWhhdmlvcjogJ2FwcGVuZCcsXG4gICAgICAgIGNvbnRlbnQoKSB7XG4gICAgICAgICAgcmV0dXJuIFtoKCdkaXYnLCB7IGRhdGFBdXRvbGlua0ljb246IHRydWUgfSldXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF0sXG4gICAgLi4uKG1hcmtkb3duPy5yZWh5cGVQbHVnaW5zIHx8IFtdKSxcbiAgXSBhcyBQbHVnZ2FibGVMaXN0XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtZHgoKTogUHJvbWlzZTxQbHVnaW5PcHRpb25bXT4ge1xuICBjb25zdCB7IGNvbmZpZyB9ID0gYXdhaXQgcmVzb2x2ZVZvY3NDb25maWcoKVxuICBjb25zdCB7IG1hcmtkb3duLCByb290RGlyLCB0d29zbGFzaCB9ID0gY29uZmlnXG4gIGNvbnN0IHJlbWFya1BsdWdpbnMgPSBnZXRSZW1hcmtQbHVnaW5zKHsgbWFya2Rvd24gfSlcbiAgY29uc3QgcmVoeXBlUGx1Z2lucyA9IGdldFJlaHlwZVBsdWdpbnMoeyBtYXJrZG93biwgcm9vdERpciwgdHdvc2xhc2ggfSlcbiAgcmV0dXJuIFtcbiAgICBtZHhQbHVnaW4oe1xuICAgICAgcHJvdmlkZXJJbXBvcnRTb3VyY2U6ICdAbWR4LWpzL3JlYWN0JyxcbiAgICAgIHJlbWFya1BsdWdpbnMsXG4gICAgICByZWh5cGVQbHVnaW5zLFxuICAgIH0pLFxuICBdXG59XG4iLCAiaW1wb3J0IHsgZXhpc3RzU3luYywgcmVhZEZpbGVTeW5jIH0gZnJvbSAnbm9kZTpmcydcbmltcG9ydCB7IHJlc29sdmUgfSBmcm9tICdub2RlOnBhdGgnXG5pbXBvcnQgdG9tbCBmcm9tICd0b21sJ1xuaW1wb3J0IHsgdHlwZSBDb25maWdFbnYsIGxvYWRDb25maWdGcm9tRmlsZSB9IGZyb20gJ3ZpdGUnXG5pbXBvcnQgeyB0eXBlIFBhcnNlZENvbmZpZywgZGVmaW5lQ29uZmlnLCBnZXREZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi4vLi4vY29uZmlnLmpzJ1xuXG5jb25zdCBtb2R1bGVFeHRlbnNpb25zID0gWydqcycsICdqc3gnLCAndHMnLCAndHN4JywgJ21qcycsICdtdHMnXVxuY29uc3Qgc3RhdGljRXh0ZW5zaW9ucyA9IFsndG9tbCcsICdqc29uJ11cbmNvbnN0IGV4dGVuc2lvbnMgPSBbLi4ubW9kdWxlRXh0ZW5zaW9ucywgLi4uc3RhdGljRXh0ZW5zaW9uc11cbmNvbnN0IGRlZmF1bHRDb25maWdQYXRocyA9IFsnLnZvY3MvY29uZmlnJywgJ3ZvY3MuY29uZmlnJywgJ1ZvY3MnXVxuXG50eXBlIFJlc29sdmVWb2NzQ29uZmlnUGFyYW1ldGVycyA9IHtcbiAgY29tbWFuZD86IENvbmZpZ0VudlsnY29tbWFuZCddXG4gIGNvbmZpZ1BhdGg/OiBzdHJpbmdcbiAgbW9kZT86IENvbmZpZ0VudlsnbW9kZSddXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNvbHZlVm9jc0NvbmZpZyhwYXJhbWV0ZXJzOiBSZXNvbHZlVm9jc0NvbmZpZ1BhcmFtZXRlcnMgPSB7fSkge1xuICBjb25zdCB7IGNvbW1hbmQgPSAnc2VydmUnLCBtb2RlID0gJ2RldmVsb3BtZW50JyB9ID0gcGFyYW1ldGVyc1xuXG4gIGNvbnN0IFtjb25maWdQYXRoLCBleHRdID0gKCgpID0+IHtcbiAgICBmb3IgKGNvbnN0IGV4dCBvZiBleHRlbnNpb25zKSB7XG4gICAgICBpZiAocGFyYW1ldGVycy5jb25maWdQYXRoKSByZXR1cm4gcGFyYW1ldGVycy5jb25maWdQYXRoXG4gICAgICBmb3IgKGNvbnN0IGZpbGVQYXRoIG9mIGRlZmF1bHRDb25maWdQYXRocylcbiAgICAgICAgaWYgKGV4aXN0c1N5bmMocmVzb2x2ZShwcm9jZXNzLmN3ZCgpLCBgJHtmaWxlUGF0aH0uJHtleHR9YCkpKVxuICAgICAgICAgIHJldHVybiBbYCR7ZmlsZVBhdGh9LiR7ZXh0fWAsIGV4dF1cbiAgICB9XG4gICAgcmV0dXJuIFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgfSkoKVxuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFleHQpIHJldHVyblxuXG4gICAgaWYgKG1vZHVsZUV4dGVuc2lvbnMuaW5jbHVkZXMoZXh0KSlcbiAgICAgIHJldHVybiBhd2FpdCBsb2FkQ29uZmlnRnJvbUZpbGUoeyBjb21tYW5kLCBtb2RlIH0sIGNvbmZpZ1BhdGgpXG5cbiAgICBpZiAoc3RhdGljRXh0ZW5zaW9ucy5pbmNsdWRlcyhleHQpKSB7XG4gICAgICBjb25zdCBmaWxlID0gcmVhZEZpbGVTeW5jKGNvbmZpZ1BhdGgsICd1dGY4JylcbiAgICAgIGNvbnN0IHJhd0NvbmZpZyA9ICgoKSA9PiB7XG4gICAgICAgIGlmIChleHQgPT09ICd0b21sJykgcmV0dXJuIGNhbWVsQ2FzZUtleXModG9tbC5wYXJzZShmaWxlKSlcbiAgICAgICAgaWYgKGV4dCA9PT0gJ2pzb24nKSByZXR1cm4gSlNPTi5wYXJzZShmaWxlKVxuICAgICAgICByZXR1cm5cbiAgICAgIH0pKClcblxuICAgICAgY29uc3QgY29uZmlnID0gYXdhaXQgZGVmaW5lQ29uZmlnKHJhd0NvbmZpZylcbiAgICAgIHJldHVybiBjb25maWcgPyB7IGNvbmZpZyB9IDogdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgcmV0dXJuXG4gIH0pKClcblxuICBjb25zdCBjb25maWcgPSAocmVzdWx0ID8gcmVzdWx0LmNvbmZpZyA6IGF3YWl0IGdldERlZmF1bHRDb25maWcoKSkgYXMgUGFyc2VkQ29uZmlnXG5cbiAgcmV0dXJuIHtcbiAgICBjb25maWcsXG4gICAgY29uZmlnUGF0aCxcbiAgfVxufVxuXG5mdW5jdGlvbiBjYW1lbENhc2VLZXlzKG9iajogb2JqZWN0KTogb2JqZWN0IHtcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSByZXR1cm4gb2JqXG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHJldHVybiBvYmoubWFwKGNhbWVsQ2FzZUtleXMpXG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgT2JqZWN0LmVudHJpZXMob2JqKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gW1xuICAgICAga2V5LnJlcGxhY2UoL1stX10oLikvZywgKF8sIGMpID0+IGMudG9VcHBlckNhc2UoKSksXG4gICAgICBjYW1lbENhc2VLZXlzKHZhbHVlKSxcbiAgICBdKSxcbiAgKVxufVxuIiwgImltcG9ydCB0eXBlIHsgUmVoeXBlU2hpa2lPcHRpb25zIH0gZnJvbSAnQHNoaWtpanMvcmVoeXBlJ1xuaW1wb3J0IHR5cGUgeyBSZWFjdEVsZW1lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB0eXBlIHsgVHdvc2xhc2hPcHRpb25zIH0gZnJvbSAndHdvc2xhc2gnXG5pbXBvcnQgdHlwZSB7IFBsdWdnYWJsZUxpc3QgfSBmcm9tICd1bmlmaWVkJ1xuaW1wb3J0IHR5cGUgeyBVc2VyQ29uZmlnIH0gZnJvbSAndml0ZSdcbmltcG9ydCB0eXBlIHtcbiAgYm9yZGVyUmFkaXVzVmFycyxcbiAgY29udGVudFZhcnMsXG4gIGZvbnRGYW1pbHlWYXJzLFxuICBmb250U2l6ZVZhcnMsXG4gIGZvbnRXZWlnaHRWYXJzLFxuICBsaW5lSGVpZ2h0VmFycyxcbiAgb3V0bGluZVZhcnMsXG4gIHByaW1pdGl2ZUNvbG9yVmFycyxcbiAgc2VtYW50aWNDb2xvclZhcnMsXG4gIHNpZGViYXJWYXJzLFxuICBzcGFjZVZhcnMsXG4gIHRvcE5hdlZhcnMsXG4gIHZpZXdwb3J0VmFycyxcbiAgekluZGV4VmFycyxcbn0gZnJvbSAnLi9hcHAvc3R5bGVzL3ZhcnMuY3NzLmpzJ1xuXG50eXBlIFJlcXVpcmVkQnk8VCwgSyBleHRlbmRzIGtleW9mIFQ+ID0gT21pdDxULCBLPiAmIFJlcXVpcmVkPFBpY2s8VCwgSz4+XG5cbnR5cGUgUmVxdWlyZWRQcm9wZXJ0aWVzID0gJ2Jsb2dEaXInIHwgJ21hcmtkb3duJyB8ICdyb290RGlyJyB8ICd0aXRsZScgfCAndGl0bGVUZW1wbGF0ZSdcblxuZXhwb3J0IHR5cGUgQ29uZmlnPFxuICBwYXJzZWQgZXh0ZW5kcyBib29sZWFuID0gZmFsc2UsXG4gIGNvbG9yU2NoZW1lIGV4dGVuZHMgQ29sb3JTY2hlbWUgPSBDb2xvclNjaGVtZSxcbj4gPSBSZXF1aXJlZEJ5PFxuICB7XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJhdGlvbiBmb3IgdGhlIGJhbm5lciBmaXhlZCB0byB0aGUgdG9wIG9mIHRoZSBwYWdlLlxuICAgICAqXG4gICAgICogQ2FuIGJlIGEgTWFya2Rvd24gc3RyaW5nLCBhIFJlYWN0IEVsZW1lbnQsIG9yIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgKiAtIGBkaXNtaXNzYWJsZWA6IFdoZXRoZXIgb3Igbm90IHRoZSBiYW5uZXIgY2FuIGJlIGRpc21pc3NlZC5cbiAgICAgKiAtIGBiYWNrZ3JvdW5kQ29sb3JgOiBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgYmFubmVyLlxuICAgICAqIC0gYGNvbnRlbnRgOiBUaGUgY29udGVudCBvZiB0aGUgYmFubmVyLlxuICAgICAqIC0gYGhlaWdodGA6IFRoZSBoZWlnaHQgb2YgdGhlIGJhbm5lci5cbiAgICAgKiAtIGB0ZXh0Q29sb3JgOiBUaGUgdGV4dCBjb2xvciBvZiB0aGUgYmFubmVyLlxuICAgICAqL1xuICAgIGJhbm5lcj86IEJhbm5lcjxwYXJzZWQ+XG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgcGF0aCB0aGUgZG9jdW1lbnRhdGlvbiB3aWxsIGJlIGRlcGxveWVkIGF0LiBBbGwgYXNzZXRzIGFuZCBwYWdlc1xuICAgICAqIHdpbGwgYmUgcHJlZml4ZWQgd2l0aCB0aGlzIHBhdGguIFRoaXMgaXMgdXNlZnVsIGZvciBkZXBsb3lpbmcgdG8gR2l0SHViIFBhZ2VzLlxuICAgICAqIEZvciBleGFtcGxlLCBpZiB5b3UgYXJlIGRlcGxveWluZyB0byBgaHR0cHM6Ly9leGFtcGxlLmdpdGh1Yi5pby9mb29gLCB0aGVuIHRoZVxuICAgICAqIGJhc2VQYXRoIHNob3VsZCBiZSBzZXQgdG8gYC9mb29gLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvZG9jc1xuICAgICAqL1xuICAgIGJhc2VQYXRoPzogc3RyaW5nXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgVVJMIGZvciB5b3VyIGRvY3VtZW50YXRpb24uIFRoaXMgaXMgdXNlZCB0byBwb3B1bGF0ZSB0aGUgYDxiYXNlPmAgdGFnIGluIHRoZVxuICAgICAqIGA8aGVhZD5gIG9mIHRoZSBwYWdlLCBhbmQgaXMgdXNlZCB0byBmb3JtIHRoZSBgJWxvZ29gIHZhcmlhYmxlIGZvciBkeW5hbWljIE9HIGltYWdlcy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogaHR0cHM6Ly92b2NzLmRldlxuICAgICAqL1xuICAgIGJhc2VVcmw/OiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBQYXRoIHRvIGJsb2cgcGFnZXMgcmVsYXRpdmUgdG8gcHJvamVjdCByb290LlxuICAgICAqIFVzZWQgdG8gZXh0cmFjdCBwb3N0cyBmcm9tIHRoZSBmaWxlc3lzdGVtLlxuICAgICAqXG4gICAgICogQGRlZmF1bHQgXCIuL3BhZ2VzL2Jsb2dcIlxuICAgICAqL1xuICAgIGJsb2dEaXI/OiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBHZW5lcmFsIGRlc2NyaXB0aW9uIGZvciB0aGUgZG9jdW1lbnRhdGlvbi5cbiAgICAgKi9cbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZ1xuICAgIC8qKlxuICAgICAqIEVkaXQgbG9jYXRpb24gZm9yIHRoZSBkb2N1bWVudGF0aW9uLlxuICAgICAqL1xuICAgIGVkaXRMaW5rPzogTm9ybWFsaXplPEVkaXRMaW5rPlxuICAgIC8qKlxuICAgICAqIEJhc2UgZm9udCBmYWNlLlxuICAgICAqXG4gICAgICogQGRlZmF1bHQgeyBnb29nbGU6IFwiSW50ZXJcIiB9XG4gICAgICovXG4gICAgZm9udD86IEZvbnRcbiAgICAvKipcbiAgICAgKiBBZGRpdGlvbmFsIHRhZ3MgdG8gaW5jbHVkZSBpbiB0aGUgYDxoZWFkPmAgdGFnIG9mIHRoZSBwYWdlIEhUTUwuXG4gICAgICovXG4gICAgaGVhZD86IFJlYWN0RWxlbWVudFxuICAgIC8qKlxuICAgICAqIEljb24gVVJMLlxuICAgICAqL1xuICAgIGljb25Vcmw/OiBOb3JtYWxpemU8SWNvblVybD5cbiAgICAvKipcbiAgICAgKiBMb2dvIFVSTC5cbiAgICAgKi9cbiAgICBsb2dvVXJsPzogTm9ybWFsaXplPExvZ29Vcmw+XG4gICAgLyoqXG4gICAgICogT0cgSW1hZ2UgVVJMLiBgbnVsbGAgdG8gZGlzYWJsZS5cbiAgICAgKlxuICAgICAqIFRlbXBsYXRlIHZhcmlhYmxlczogYCVsb2dvYCwgYCV0aXRsZWAsIGAlZGVzY3JpcHRpb25gXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCBcImh0dHBzOi8vdm9jcy5kZXYvYXBpL29nP2xvZ289JWxvZ28mdGl0bGU9JXRpdGxlJmRlc2NyaXB0aW9uPSVkZXNjcmlwdGlvblwiXG4gICAgICovXG4gICAgb2dJbWFnZVVybD86IHN0cmluZyB8IHsgW3BhdGg6IHN0cmluZ106IHN0cmluZyB9XG4gICAgLyoqXG4gICAgICogTWFya2Rvd24gY29uZmlndXJhdGlvbi5cbiAgICAgKi9cbiAgICBtYXJrZG93bj86IE5vcm1hbGl6ZTxNYXJrZG93bjxwYXJzZWQ+PlxuICAgIC8qKlxuICAgICAqIERvY3VtZW50YXRpb24gcm9vdCBkaXJlY3RvcnkuIENhbiBiZSBhbiBhYnNvbHV0ZSBwYXRoLCBvciBhIHBhdGggcmVsYXRpdmUgZnJvbVxuICAgICAqIHRoZSBsb2NhdGlvbiBvZiB0aGUgY29uZmlnIGZpbGUgaXRzZWxmLlxuICAgICAqXG4gICAgICogQGRlZmF1bHQgXCJkb2NzXCJcbiAgICAgKi9cbiAgICByb290RGlyPzogc3RyaW5nXG4gICAgLyoqXG4gICAgICogTmF2aWdhdGlvbiBkaXNwbGF5ZWQgb24gdGhlIHNpZGViYXIuXG4gICAgICovXG4gICAgc2lkZWJhcj86IE5vcm1hbGl6ZTxTaWRlYmFyPlxuICAgIC8qKlxuICAgICAqIFNvY2lhbCBsaW5rcyBkaXNwbGF5ZWQgaW4gdGhlIHRvcCBuYXZpZ2F0aW9uLlxuICAgICAqL1xuICAgIHNvY2lhbHM/OiBOb3JtYWxpemU8U29jaWFsczxwYXJzZWQ+PlxuICAgIC8qKlxuICAgICAqIFNldCBvZiBzcG9uc29ycyB0byBkaXNwbGF5IG9uIE1EWCBkaXJlY3RpdmVzIGFuZCAob3B0aW9uYWxseSkgdGhlIHNpZGViYXIuXG4gICAgICovXG4gICAgc3BvbnNvcnM/OiBTcG9uc29yU2V0W11cbiAgICAvKipcbiAgICAgKiBUaGVtZSBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIHRoZW1lPzogTm9ybWFsaXplPFRoZW1lPHBhcnNlZCwgY29sb3JTY2hlbWU+PlxuICAgIC8qKlxuICAgICAqIERvY3VtZW50YXRpb24gdGl0bGUuXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCBcIkRvY3NcIlxuICAgICAqL1xuICAgIHRpdGxlPzogc3RyaW5nXG4gICAgLyoqXG4gICAgICogVGVtcGxhdGUgZm9yIHRoZSBwYWdlIHRpdGxlLlxuICAgICAqXG4gICAgICogQGRlZmF1bHQgYCVzIFx1MjAxMyAke3RpdGxlfWBcbiAgICAgKi9cbiAgICB0aXRsZVRlbXBsYXRlPzogc3RyaW5nXG4gICAgLyoqXG4gICAgICogTmF2aWdhdGlvbiBkaXNwbGF5ZWQgb24gdGhlIHRvcC5cbiAgICAgKi9cbiAgICB0b3BOYXY/OiBOb3JtYWxpemU8VG9wTmF2PHBhcnNlZD4+XG4gICAgLyoqXG4gICAgICogVHdvU2xhc2ggY29uZmlndXJhdGlvbi5cbiAgICAgKi9cbiAgICB0d29zbGFzaD86IE5vcm1hbGl6ZTxUd29zbGFzaE9wdGlvbnM+XG4gICAgLyoqXG4gICAgICogVml0ZSBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIHZpdGU/OiBVc2VyQ29uZmlnXG4gIH0sXG4gIHBhcnNlZCBleHRlbmRzIHRydWUgPyBSZXF1aXJlZFByb3BlcnRpZXMgOiBuZXZlclxuPlxuXG5leHBvcnQgdHlwZSBQYXJzZWRDb25maWcgPSBDb25maWc8dHJ1ZT5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlZmluZUNvbmZpZzxjb2xvclNjaGVtZSBleHRlbmRzIENvbG9yU2NoZW1lID0gdW5kZWZpbmVkPih7XG4gIGJsb2dEaXIgPSAnLi9wYWdlcy9ibG9nJyxcbiAgZm9udCxcbiAgaGVhZCxcbiAgb2dJbWFnZVVybCxcbiAgcm9vdERpciA9ICdkb2NzJyxcbiAgdGl0bGUgPSAnRG9jcycsXG4gIHRpdGxlVGVtcGxhdGUgPSBgJXMgXHUyMDEzICR7dGl0bGV9YCxcbiAgLi4uY29uZmlnXG59OiBDb25maWc8ZmFsc2UsIGNvbG9yU2NoZW1lPik6IFByb21pc2U8UGFyc2VkQ29uZmlnPiB7XG4gIGNvbnN0IGJhc2VQYXRoID0gcGFyc2VCYXNlUGF0aChjb25maWcuYmFzZVBhdGgpXG4gIHJldHVybiB7XG4gICAgYmxvZ0RpcixcbiAgICBmb250LFxuICAgIGhlYWQsXG4gICAgb2dJbWFnZVVybCxcbiAgICByb290RGlyLFxuICAgIHRpdGxlLFxuICAgIHRpdGxlVGVtcGxhdGUsXG4gICAgLi4uY29uZmlnLFxuICAgIGJhc2VQYXRoLFxuICAgIGJhbm5lcjogYXdhaXQgcGFyc2VCYW5uZXIoY29uZmlnLmJhbm5lciA/PyAnJyksXG4gICAgaWNvblVybDogcGFyc2VJbWFnZVVybChjb25maWcuaWNvblVybCwge1xuICAgICAgYmFzZVBhdGgsXG4gICAgfSksXG4gICAgbG9nb1VybDogcGFyc2VJbWFnZVVybChjb25maWcubG9nb1VybCwge1xuICAgICAgYmFzZVBhdGgsXG4gICAgfSksXG4gICAgbWFya2Rvd246IHBhcnNlTWFya2Rvd24oY29uZmlnLm1hcmtkb3duID8/IHt9KSxcbiAgICBzb2NpYWxzOiBwYXJzZVNvY2lhbHMoY29uZmlnLnNvY2lhbHMgPz8gW10pLFxuICAgIHRvcE5hdjogcGFyc2VUb3BOYXYoY29uZmlnLnRvcE5hdiA/PyBbXSksXG4gICAgdGhlbWU6IGF3YWl0IHBhcnNlVGhlbWUoY29uZmlnLnRoZW1lID8/ICh7fSBhcyBUaGVtZSkpLFxuICAgIHZpdGU6IHBhcnNlVml0ZUNvbmZpZyhjb25maWcudml0ZSwge1xuICAgICAgYmFzZVBhdGgsXG4gICAgfSksXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRDb25maWcgPSBhc3luYyAoKSA9PiBhd2FpdCBkZWZpbmVDb25maWcoe30pXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gUGFyc2Vyc1xuXG5mdW5jdGlvbiBwYXJzZUJhc2VQYXRoKGJhc2VQYXRoXzogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gIGxldCBiYXNlUGF0aCA9IGJhc2VQYXRoX1xuICBpZiAoIWJhc2VQYXRoKSByZXR1cm4gJydcbiAgaWYgKCFiYXNlUGF0aC5zdGFydHNXaXRoKCcvJykpIGJhc2VQYXRoID0gYC8ke2Jhc2VQYXRofWBcbiAgaWYgKGJhc2VQYXRoLmVuZHNXaXRoKCcvJykpIGJhc2VQYXRoID0gYmFzZVBhdGguc2xpY2UoMCwgLTEpXG4gIHJldHVybiBiYXNlUGF0aFxufVxuXG5hc3luYyBmdW5jdGlvbiBwYXJzZUJhbm5lcihiYW5uZXI6IEJhbm5lcik6IFByb21pc2U8QmFubmVyPHRydWU+IHwgdW5kZWZpbmVkPiB7XG4gIGlmICghYmFubmVyKSByZXR1cm4gdW5kZWZpbmVkXG5cbiAgY29uc3QgYmFubmVyQ29udGVudCA9ICgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBiYW5uZXIgPT09ICdzdHJpbmcnKSByZXR1cm4gYmFubmVyXG4gICAgaWYgKHR5cGVvZiBiYW5uZXIgPT09ICdvYmplY3QnICYmICdjb250ZW50JyBpbiBiYW5uZXIpIHJldHVybiBiYW5uZXIuY29udGVudFxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfSkoKVxuXG4gIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCAoYXN5bmMgKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgYmFubmVyQ29udGVudCAhPT0gJ3N0cmluZycpIHJldHVybiBiYW5uZXJDb250ZW50XG5cbiAgICBjb25zdCB7IGNvbXBpbGUgfSA9IGF3YWl0IGltcG9ydCgnQG1keC1qcy9tZHgnKVxuICAgIGNvbnN0IHJlbWFya0dmbSA9IChhd2FpdCBpbXBvcnQoJ3JlbWFyay1nZm0nKSkuZGVmYXVsdFxuICAgIHJldHVybiBTdHJpbmcoXG4gICAgICBhd2FpdCBjb21waWxlKGJhbm5lckNvbnRlbnQsIHtcbiAgICAgICAgb3V0cHV0Rm9ybWF0OiAnZnVuY3Rpb24tYm9keScsXG4gICAgICAgIHJlbWFya1BsdWdpbnM6IFtyZW1hcmtHZm1dLFxuICAgICAgfSksXG4gICAgKVxuICB9KSgpXG5cbiAgaWYgKCFjb250ZW50KSByZXR1cm4gdW5kZWZpbmVkXG5cbiAgY29uc3QgdGV4dENvbG9yID0gYXdhaXQgKGFzeW5jICgpID0+IHtcbiAgICBpZiAodHlwZW9mIGJhbm5lciA9PT0gJ3N0cmluZycpIHJldHVybiB1bmRlZmluZWRcbiAgICBpZiAodHlwZW9mIGJhbm5lciA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmICgndGV4dENvbG9yJyBpbiBiYW5uZXIpIHJldHVybiBiYW5uZXIudGV4dENvbG9yXG4gICAgICBpZiAoJ2JhY2tncm91bmRDb2xvcicgaW4gYmFubmVyICYmIGJhbm5lci5iYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgY29uc3QgY2hyb21hID0gKGF3YWl0IGltcG9ydCgnY2hyb21hLWpzJykpLmRlZmF1bHRcbiAgICAgICAgcmV0dXJuIGNocm9tYS5jb250cmFzdChiYW5uZXIuYmFja2dyb3VuZENvbG9yLCAnd2hpdGUnKSA8IDQuNSA/ICdibGFjaycgOiAnd2hpdGUnXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfSkoKVxuXG4gIHJldHVybiB7XG4gICAgaGVpZ2h0OiAnMzJweCcsXG4gICAgLi4uKHR5cGVvZiBiYW5uZXIgPT09ICdvYmplY3QnID8gYmFubmVyIDoge30pLFxuICAgIGNvbnRlbnQsXG4gICAgdGV4dENvbG9yLFxuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlSW1hZ2VVcmwoXG4gIGltYWdlVXJsOiBJbWFnZVVybCB8IHVuZGVmaW5lZCxcbiAgeyBiYXNlUGF0aCB9OiB7IGJhc2VQYXRoPzogc3RyaW5nIH0sXG4pOiBJbWFnZVVybCB8IHVuZGVmaW5lZCB7XG4gIGlmICghaW1hZ2VVcmwpIHJldHVyblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHJldHVybiBpbWFnZVVybFxuICBpZiAodHlwZW9mIGltYWdlVXJsID09PSAnc3RyaW5nJykge1xuICAgIGlmIChpbWFnZVVybC5zdGFydHNXaXRoKCdodHRwJykpIHJldHVybiBpbWFnZVVybFxuICAgIHJldHVybiBgJHtiYXNlUGF0aH0ke2ltYWdlVXJsfWBcbiAgfVxuICByZXR1cm4ge1xuICAgIGRhcms6IGltYWdlVXJsLmRhcmsuc3RhcnRzV2l0aCgnaHR0cCcpID8gaW1hZ2VVcmwuZGFyayA6IGAke2Jhc2VQYXRofSR7aW1hZ2VVcmwuZGFya31gLFxuICAgIGxpZ2h0OiBpbWFnZVVybC5saWdodC5zdGFydHNXaXRoKCdodHRwJykgPyBpbWFnZVVybC5saWdodCA6IGAke2Jhc2VQYXRofSR7aW1hZ2VVcmwubGlnaHR9YCxcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZU1hcmtkb3duKG1hcmtkb3duOiBNYXJrZG93bik6IE1hcmtkb3duPHRydWU+IHtcbiAgcmV0dXJuIHtcbiAgICAuLi5tYXJrZG93bixcbiAgICBjb2RlOiB7XG4gICAgICB0aGVtZXM6IHtcbiAgICAgICAgZGFyazogJ2dpdGh1Yi1kYXJrLWRpbW1lZCcsXG4gICAgICAgIGxpZ2h0OiAnZ2l0aHViLWxpZ2h0JyxcbiAgICAgIH0sXG4gICAgICAuLi5tYXJrZG93bi5jb2RlLFxuICAgIH0sXG4gIH1cbn1cblxuY29uc3Qgc29jaWFsc01ldGEgPSB7XG4gIGRpc2NvcmQ6IHsgbGFiZWw6ICdEaXNjb3JkJywgdHlwZTogJ2Rpc2NvcmQnIH0sXG4gIGdpdGh1YjogeyBsYWJlbDogJ0dpdEh1YicsIHR5cGU6ICdnaXRodWInIH0sXG4gIHRlbGVncmFtOiB7IGxhYmVsOiAnVGVsZWdyYW0nLCB0eXBlOiAndGVsZWdyYW0nIH0sXG4gIHg6IHsgbGFiZWw6ICdYIChUd2l0dGVyKScsIHR5cGU6ICd4JyB9LFxufSBzYXRpc2ZpZXMgUmVjb3JkPFNvY2lhbEl0ZW1bJ2ljb24nXSwgeyBsYWJlbDogc3RyaW5nOyB0eXBlOiBTb2NpYWxUeXBlIH0+XG5cbmZ1bmN0aW9uIHBhcnNlU29jaWFscyhzb2NpYWxzOiBTb2NpYWxzKTogU29jaWFsczx0cnVlPiB7XG4gIHJldHVybiBzb2NpYWxzLm1hcCgoc29jaWFsKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IHNvY2lhbC5pY29uLFxuICAgICAgbGluazogc29jaWFsLmxpbmssXG4gICAgICAuLi5zb2NpYWxzTWV0YVtzb2NpYWwuaWNvbl0sXG4gICAgfVxuICB9KVxufVxuXG5sZXQgaWQgPSAwXG5cbmZ1bmN0aW9uIHBhcnNlVG9wTmF2KHRvcE5hdjogVG9wTmF2KTogVG9wTmF2PHRydWU+IHtcbiAgY29uc3QgcGFyc2VkVG9wTmF2OiBQYXJzZWRUb3BOYXZJdGVtW10gPSBbXVxuICBmb3IgKGNvbnN0IGl0ZW0gb2YgdG9wTmF2KSB7XG4gICAgcGFyc2VkVG9wTmF2LnB1c2goe1xuICAgICAgLi4uaXRlbSxcbiAgICAgIGlkOiBpZCsrLFxuICAgICAgaXRlbXM6IGl0ZW0uaXRlbXMgPyBwYXJzZVRvcE5hdihpdGVtLml0ZW1zKSA6IFtdLFxuICAgIH0pXG4gIH1cbiAgcmV0dXJuIHBhcnNlZFRvcE5hdlxufVxuXG5hc3luYyBmdW5jdGlvbiBwYXJzZVRoZW1lPGNvbG9yU2NoZW1lIGV4dGVuZHMgQ29sb3JTY2hlbWUgPSB1bmRlZmluZWQ+KFxuICB0aGVtZTogVGhlbWU8ZmFsc2UsIGNvbG9yU2NoZW1lPixcbik6IFByb21pc2U8VGhlbWU8dHJ1ZT4+IHtcbiAgY29uc3QgY2hyb21hID0gKGF3YWl0IGltcG9ydCgnY2hyb21hLWpzJykpLmRlZmF1bHRcbiAgY29uc3QgYWNjZW50Q29sb3IgPSAoKCkgPT4ge1xuICAgIGlmICghdGhlbWUuYWNjZW50Q29sb3IpIHJldHVybiB0aGVtZS5hY2NlbnRDb2xvclxuICAgIGlmIChcbiAgICAgIHR5cGVvZiB0aGVtZS5hY2NlbnRDb2xvciA9PT0gJ29iamVjdCcgJiZcbiAgICAgICFPYmplY3Qua2V5cyh0aGVtZS5hY2NlbnRDb2xvcikuaW5jbHVkZXMoJ2xpZ2h0JykgJiZcbiAgICAgICFPYmplY3Qua2V5cyh0aGVtZS5hY2NlbnRDb2xvcikuaW5jbHVkZXMoJ2RhcmsnKVxuICAgIClcbiAgICAgIHJldHVybiB0aGVtZS5hY2NlbnRDb2xvclxuXG4gICAgY29uc3QgYWNjZW50Q29sb3IgPSB0aGVtZS5hY2NlbnRDb2xvciBhcyBzdHJpbmcgfCB7IGxpZ2h0OiBzdHJpbmc7IGRhcms6IHN0cmluZyB9XG4gICAgY29uc3QgYWNjZW50Q29sb3JMaWdodCA9IHR5cGVvZiBhY2NlbnRDb2xvciA9PT0gJ29iamVjdCcgPyBhY2NlbnRDb2xvci5saWdodCA6IGFjY2VudENvbG9yXG4gICAgY29uc3QgYWNjZW50Q29sb3JEYXJrID0gdHlwZW9mIGFjY2VudENvbG9yID09PSAnb2JqZWN0JyA/IGFjY2VudENvbG9yLmRhcmsgOiBhY2NlbnRDb2xvclxuICAgIHJldHVybiB7XG4gICAgICBiYWNrZ3JvdW5kQWNjZW50OiB7XG4gICAgICAgIGRhcms6IGFjY2VudENvbG9yRGFyayxcbiAgICAgICAgbGlnaHQ6IGFjY2VudENvbG9yTGlnaHQsXG4gICAgICB9LFxuICAgICAgYmFja2dyb3VuZEFjY2VudEhvdmVyOiB7XG4gICAgICAgIGRhcms6IGNocm9tYShhY2NlbnRDb2xvckRhcmspLmRhcmtlbigwLjI1KS5oZXgoKSxcbiAgICAgICAgbGlnaHQ6IGNocm9tYShhY2NlbnRDb2xvckxpZ2h0KS5kYXJrZW4oMC4yNSkuaGV4KCksXG4gICAgICB9LFxuICAgICAgYmFja2dyb3VuZEFjY2VudFRleHQ6IHtcbiAgICAgICAgZGFyazogY2hyb21hLmNvbnRyYXN0KGFjY2VudENvbG9yRGFyaywgJ3doaXRlJykgPCA0LjUgPyAnYmxhY2snIDogJ3doaXRlJyxcbiAgICAgICAgbGlnaHQ6IGNocm9tYS5jb250cmFzdChhY2NlbnRDb2xvckxpZ2h0LCAnd2hpdGUnKSA8IDQuNSA/ICdibGFjaycgOiAnd2hpdGUnLFxuICAgICAgfSxcbiAgICAgIGJvcmRlckFjY2VudDoge1xuICAgICAgICBkYXJrOiBjaHJvbWEoYWNjZW50Q29sb3JEYXJrKS5icmlnaHRlbigwLjUpLmhleCgpLFxuICAgICAgICBsaWdodDogY2hyb21hKGFjY2VudENvbG9yTGlnaHQpLmRhcmtlbigwLjI1KS5oZXgoKSxcbiAgICAgIH0sXG4gICAgICB0ZXh0QWNjZW50OiB7XG4gICAgICAgIGRhcms6IGFjY2VudENvbG9yRGFyayxcbiAgICAgICAgbGlnaHQ6IGFjY2VudENvbG9yTGlnaHQsXG4gICAgICB9LFxuICAgICAgdGV4dEFjY2VudEhvdmVyOiB7XG4gICAgICAgIGRhcms6IGNocm9tYShhY2NlbnRDb2xvckRhcmspLmRhcmtlbigwLjUpLmhleCgpLFxuICAgICAgICBsaWdodDogY2hyb21hKGFjY2VudENvbG9yTGlnaHQpLmRhcmtlbigwLjUpLmhleCgpLFxuICAgICAgfSxcbiAgICB9IHNhdGlzZmllcyBUaGVtZTx0cnVlPlsnYWNjZW50Q29sb3InXVxuICB9KSgpXG4gIHJldHVybiB7XG4gICAgLi4udGhlbWUsXG4gICAgYWNjZW50Q29sb3IsXG4gIH0gYXMgVGhlbWU8dHJ1ZT5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVml0ZUNvbmZpZyhcbiAgdml0ZUNvbmZpZzogVXNlckNvbmZpZyB8IHVuZGVmaW5lZCxcbiAgeyBiYXNlUGF0aCB9OiB7IGJhc2VQYXRoPzogc3RyaW5nIH0sXG4pOiBVc2VyQ29uZmlnIHtcbiAgcmV0dXJuIHtcbiAgICAuLi52aXRlQ29uZmlnLFxuICAgIGJhc2U6IGJhc2VQYXRoLFxuICB9XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gVHlwZXNcblxudHlwZSBOb3JtYWxpemU8VD4gPSB7XG4gIFtLIGluIGtleW9mIFRdOiBUW0tdXG59ICYge31cblxuZXhwb3J0IHR5cGUgQmFubmVyPHBhcnNlZCBleHRlbmRzIGJvb2xlYW4gPSBmYWxzZT4gPSBFeGNsdWRlPFxuICB8IHN0cmluZ1xuICB8IFJlYWN0RWxlbWVudFxuICB8IHtcbiAgICAgIC8qKiBXaGV0aGVyIG9yIG5vdCB0aGUgYmFubmVyIGNhbiBiZSBkaXNtaXNzZWQuICovXG4gICAgICBkaXNtaXNzYWJsZT86IGJvb2xlYW5cbiAgICAgIC8qKiBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgYmFubmVyLiAqL1xuICAgICAgYmFja2dyb3VuZENvbG9yPzogc3RyaW5nXG4gICAgICAvKiogVGhlIGNvbnRlbnQgb2YgdGhlIGJhbm5lci4gKi9cbiAgICAgIGNvbnRlbnQ6IHN0cmluZyB8IFJlYWN0RWxlbWVudFxuICAgICAgLyoqIFRoZSBoZWlnaHQgb2YgdGhlIGJhbm5lci4gKi9cbiAgICAgIGhlaWdodD86IHN0cmluZ1xuICAgICAgLyoqIFRoZSB0ZXh0IGNvbG9yIG9mIHRoZSBiYW5uZXIuICovXG4gICAgICB0ZXh0Q29sb3I/OiBzdHJpbmdcbiAgICB9XG4gIHwgdW5kZWZpbmVkLFxuICBwYXJzZWQgZXh0ZW5kcyB0cnVlID8gc3RyaW5nIHwgUmVhY3RFbGVtZW50IDogbmV2ZXJcbj5cblxuZXhwb3J0IHR5cGUgQ29sb3JTY2hlbWUgPSAnbGlnaHQnIHwgJ2RhcmsnIHwgJ3N5c3RlbScgfCB1bmRlZmluZWRcblxuZXhwb3J0IHR5cGUgRWRpdExpbmsgPSB7XG4gIC8qKlxuICAgKiBMaW5rIHBhdHRlcm5cbiAgICovXG4gIHBhdHRlcm46IHN0cmluZyB8ICgoKSA9PiBzdHJpbmcpXG4gIC8qKlxuICAgKiBMaW5rIHRleHRcbiAgICpcbiAgICogQGRlZmF1bHQgXCJFZGl0IHBhZ2VcIlxuICAgKi9cbiAgdGV4dD86IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBGb250ID0ge1xuICAvKiogTmFtZSBvZiB0aGUgR29vZ2xlIEZvbnQgdG8gdXNlLiAqL1xuICBnb29nbGU/OiBzdHJpbmdcbn1cblxuZXhwb3J0IHR5cGUgSW1hZ2VVcmwgPSBzdHJpbmcgfCB7IGxpZ2h0OiBzdHJpbmc7IGRhcms6IHN0cmluZyB9XG5cbmV4cG9ydCB0eXBlIEljb25VcmwgPSBJbWFnZVVybFxuXG5leHBvcnQgdHlwZSBMb2dvVXJsID0gSW1hZ2VVcmxcblxuZXhwb3J0IHR5cGUgTWFya2Rvd248cGFyc2VkIGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlPiA9IFJlcXVpcmVkQnk8XG4gIHtcbiAgICBjb2RlPzogTm9ybWFsaXplPFJlaHlwZVNoaWtpT3B0aW9ucz5cbiAgICByZW1hcmtQbHVnaW5zPzogUGx1Z2dhYmxlTGlzdFxuICAgIHJlaHlwZVBsdWdpbnM/OiBQbHVnZ2FibGVMaXN0XG4gIH0sXG4gIHBhcnNlZCBleHRlbmRzIHRydWUgPyAnY29kZScgOiBuZXZlclxuPlxuXG5leHBvcnQgdHlwZSBTaWRlYmFySXRlbSA9IHtcbiAgLyoqIFdoZXRoZXIgb3Igbm90IHRvIGNvbGxhcHNlIHRoZSBzaWRlYmFyIGl0ZW0gYnkgZGVmYXVsdC4gKi9cbiAgY29sbGFwc2VkPzogYm9vbGVhblxuICAvKiogVGV4dCB0byBkaXNwbGF5IG9uIHRoZSBzaWRlYmFyLiAqL1xuICB0ZXh0OiBzdHJpbmdcbiAgLyoqIE9wdGlvbmFsIHBhdGhuYW1lIHRvIHRoZSB0YXJnZXQgZG9jdW1lbnRhdGlvbiBwYWdlLiAqL1xuICAvLyBUT0RPOiBzdXBwb3J0IGV4dGVybmFsIGxpbmtzXG4gIGxpbms/OiBzdHJpbmdcbiAgLyoqIE9wdGlvbmFsIGNoaWxkcmVuIHRvIG5lc3QgdW5kZXIgdGhpcyBpdGVtLiAqL1xuICBpdGVtcz86IFNpZGViYXJJdGVtW11cbn1cblxuZXhwb3J0IHR5cGUgU2lkZWJhciA9XG4gIHwgU2lkZWJhckl0ZW1bXVxuICB8IHsgW3BhdGg6IHN0cmluZ106IFNpZGViYXJJdGVtW10gfCB7IGJhY2tMaW5rPzogYm9vbGVhbjsgaXRlbXM6IFNpZGViYXJJdGVtW10gfSB9XG5cbmV4cG9ydCB0eXBlIFNvY2lhbFR5cGUgPSAnZGlzY29yZCcgfCAnZ2l0aHViJyB8ICd0ZWxlZ3JhbScgfCAneCdcbmV4cG9ydCB0eXBlIFNvY2lhbEl0ZW0gPSB7XG4gIC8qKiBTb2NpYWwgaWNvbiB0byBkaXNwbGF5LiAqL1xuICBpY29uOiBTb2NpYWxUeXBlIC8vIFRPRE86IFN1cHBvcnQgY3VzdG9tIFNWRyBpY29uc1xuICAvKiogTGFiZWwgZm9yIHRoZSBzb2NpYWwuICovXG4gIGxhYmVsPzogc3RyaW5nXG4gIC8qKiBMaW5rIHRvIHRoZSBzb2NpYWwuICovXG4gIGxpbms6IHN0cmluZ1xufVxuZXhwb3J0IHR5cGUgUGFyc2VkU29jaWFsSXRlbSA9IFJlcXVpcmVkPFNvY2lhbEl0ZW0+ICYge1xuICAvKiogVGhlIHR5cGUgb2Ygc29jaWFsIGl0ZW0uICovXG4gIHR5cGU6IFNvY2lhbFR5cGVcbn1cblxuZXhwb3J0IHR5cGUgU29jaWFsczxwYXJzZWQgZXh0ZW5kcyBib29sZWFuID0gZmFsc2U+ID0gcGFyc2VkIGV4dGVuZHMgdHJ1ZVxuICA/IFBhcnNlZFNvY2lhbEl0ZW1bXVxuICA6IFNvY2lhbEl0ZW1bXVxuXG5leHBvcnQgdHlwZSBTcG9uc29yID0ge1xuICAvKiogVGhlIG5hbWUgb2YgdGhlIHNwb25zb3IuICovXG4gIG5hbWU6IHN0cmluZ1xuICAvKiogVGhlIGxpbmsgdG8gdGhlIHNwb25zb3IncyB3ZWJzaXRlLiAqL1xuICBsaW5rOiBzdHJpbmdcbiAgLyoqIFRoZSBpbWFnZSB0byBkaXNwbGF5IGZvciB0aGUgc3BvbnNvci4gKi9cbiAgaW1hZ2U6IHN0cmluZ1xufVxuZXhwb3J0IHR5cGUgU3BvbnNvclNldCA9IHtcbiAgLyoqIFRoZSBsaXN0IG9mIHNwb25zb3JzIHRvIGRpc3BsYXkuICovXG4gIGl0ZW1zOiAoU3BvbnNvciB8IG51bGwpW11bXVxuICAvKiogVGhlIG5hbWUgb2YgdGhlIHNwb25zb3Igc2V0IChlLmcuIFwiR29sZCBTcG9uc29yc1wiLCBcIkNvbGxhYm9yYXRvcnNcIiwgZXRjKS4gKi9cbiAgbmFtZTogc3RyaW5nXG4gIC8qKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcG9uc29yIGltYWdlcy4gKi9cbiAgaGVpZ2h0PzogbnVtYmVyXG59XG5cbmV4cG9ydCB0eXBlIFRoZW1lVmFyaWFibGVzPHZhcmlhYmxlcyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LCB2YWx1ZT4gPSB7XG4gIFtrZXkgaW4ga2V5b2YgdmFyaWFibGVzXT86IHZhbHVlXG59XG5leHBvcnQgdHlwZSBUaGVtZTxcbiAgcGFyc2VkIGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlLFxuICBjb2xvclNjaGVtZSBleHRlbmRzIENvbG9yU2NoZW1lID0gQ29sb3JTY2hlbWUsXG4gIC8vL1xuICBjb2xvclZhbHVlID0gY29sb3JTY2hlbWUgZXh0ZW5kcyAnc3lzdGVtJyB8IHVuZGVmaW5lZCA/IHsgbGlnaHQ6IHN0cmluZzsgZGFyazogc3RyaW5nIH0gOiBzdHJpbmcsXG4+ID0ge1xuICBhY2NlbnRDb2xvcj86IEV4Y2x1ZGU8XG4gICAgfCBzdHJpbmdcbiAgICB8IChjb2xvclNjaGVtZSBleHRlbmRzICdzeXN0ZW0nIHwgdW5kZWZpbmVkID8geyBsaWdodDogc3RyaW5nOyBkYXJrOiBzdHJpbmcgfSA6IG5ldmVyKVxuICAgIHwgUmVxdWlyZWQ8XG4gICAgICAgIFRoZW1lVmFyaWFibGVzPFxuICAgICAgICAgIFBpY2s8XG4gICAgICAgICAgICB0eXBlb2YgcHJpbWl0aXZlQ29sb3JWYXJzLFxuICAgICAgICAgICAgfCAnYmFja2dyb3VuZEFjY2VudCdcbiAgICAgICAgICAgIHwgJ2JhY2tncm91bmRBY2NlbnRIb3ZlcidcbiAgICAgICAgICAgIHwgJ2JhY2tncm91bmRBY2NlbnRUZXh0J1xuICAgICAgICAgICAgfCAnYm9yZGVyQWNjZW50J1xuICAgICAgICAgICAgfCAndGV4dEFjY2VudCdcbiAgICAgICAgICAgIHwgJ3RleHRBY2NlbnRIb3ZlcidcbiAgICAgICAgICA+LFxuICAgICAgICAgIGNvbG9yVmFsdWVcbiAgICAgICAgPlxuICAgICAgPixcbiAgICBwYXJzZWQgZXh0ZW5kcyB0cnVlID8gc3RyaW5nIHwgeyBsaWdodDogc3RyaW5nOyBkYXJrOiBzdHJpbmcgfSA6IG5ldmVyXG4gID5cbiAgY29sb3JTY2hlbWU/OiBjb2xvclNjaGVtZVxuICB2YXJpYWJsZXM/OiB7XG4gICAgYm9yZGVyUmFkaXVzPzogVGhlbWVWYXJpYWJsZXM8dHlwZW9mIGJvcmRlclJhZGl1c1ZhcnMsIHN0cmluZz5cbiAgICBjb2xvcj86IFRoZW1lVmFyaWFibGVzPHR5cGVvZiBwcmltaXRpdmVDb2xvclZhcnMsIGNvbG9yVmFsdWU+ICZcbiAgICAgIFRoZW1lVmFyaWFibGVzPHR5cGVvZiBzZW1hbnRpY0NvbG9yVmFycywgY29sb3JWYWx1ZT5cbiAgICBjb250ZW50PzogVGhlbWVWYXJpYWJsZXM8dHlwZW9mIGNvbnRlbnRWYXJzLCBzdHJpbmc+XG4gICAgZm9udEZhbWlseT86IFRoZW1lVmFyaWFibGVzPHR5cGVvZiBmb250RmFtaWx5VmFycywgc3RyaW5nPlxuICAgIGZvbnRTaXplPzogVGhlbWVWYXJpYWJsZXM8dHlwZW9mIGZvbnRTaXplVmFycywgc3RyaW5nPlxuICAgIGZvbnRXZWlnaHQ/OiBUaGVtZVZhcmlhYmxlczx0eXBlb2YgZm9udFdlaWdodFZhcnMsIHN0cmluZz5cbiAgICBsaW5lSGVpZ2h0PzogVGhlbWVWYXJpYWJsZXM8dHlwZW9mIGxpbmVIZWlnaHRWYXJzLCBzdHJpbmc+XG4gICAgb3V0bGluZT86IFRoZW1lVmFyaWFibGVzPHR5cGVvZiBvdXRsaW5lVmFycywgc3RyaW5nPlxuICAgIHNpZGViYXI/OiBUaGVtZVZhcmlhYmxlczx0eXBlb2Ygc2lkZWJhclZhcnMsIHN0cmluZz5cbiAgICBzcGFjZT86IFRoZW1lVmFyaWFibGVzPHR5cGVvZiBzcGFjZVZhcnMsIHN0cmluZz5cbiAgICB0b3BOYXY/OiBUaGVtZVZhcmlhYmxlczx0eXBlb2YgdG9wTmF2VmFycywgc3RyaW5nPlxuICAgIHZpZXdwb3J0PzogVGhlbWVWYXJpYWJsZXM8dHlwZW9mIHZpZXdwb3J0VmFycywgc3RyaW5nPlxuICAgIHpJbmRleD86IFRoZW1lVmFyaWFibGVzPHR5cGVvZiB6SW5kZXhWYXJzLCBzdHJpbmc+XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgVG9wTmF2SXRlbTxwYXJzZWQgZXh0ZW5kcyBib29sZWFuID0gZmFsc2U+ID0ge1xuICBtYXRjaD86IHN0cmluZ1xuICB0ZXh0OiBzdHJpbmdcbn0gJiAoXG4gIHwgeyBsaW5rOiBzdHJpbmc7IGl0ZW1zPzogbmV2ZXIgfVxuICB8IHsgbGluaz86IHN0cmluZzsgaXRlbXM6IHBhcnNlZCBleHRlbmRzIHRydWUgPyBQYXJzZWRUb3BOYXZJdGVtW10gOiBUb3BOYXZJdGVtW10gfVxuKVxuZXhwb3J0IHR5cGUgUGFyc2VkVG9wTmF2SXRlbSA9IFRvcE5hdkl0ZW08dHJ1ZT4gJiB7XG4gIGlkOiBudW1iZXJcbn1cblxuZXhwb3J0IHR5cGUgVG9wTmF2PHBhcnNlZCBleHRlbmRzIGJvb2xlYW4gPSBmYWxzZT4gPSBwYXJzZWQgZXh0ZW5kcyB0cnVlXG4gID8gUGFyc2VkVG9wTmF2SXRlbVtdXG4gIDogVG9wTmF2SXRlbVtdXG4iLCAiLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJtZGFzdC11dGlsLXRvLWhhc3RcIiAvPlxuLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJtZGFzdC11dGlsLWRpcmVjdGl2ZVwiIC8+XG5cbmltcG9ydCB0eXBlIHsgUm9vdCB9IGZyb20gJ21kYXN0J1xuaW1wb3J0IHsgdmlzaXQgfSBmcm9tICd1bmlzdC11dGlsLXZpc2l0J1xuXG5leHBvcnQgZnVuY3Rpb24gcmVoeXBlU2hpa2lEaXNwbGF5Tm90YXRpb24oKSB7XG4gIHJldHVybiAodHJlZTogUm9vdCkgPT4ge1xuICAgIHZpc2l0KHRyZWUsICd0ZXh0JywgKG5vZGUpID0+IHtcbiAgICAgIGlmIChub2RlLnZhbHVlLmluY2x1ZGVzKCcvLyQnKSkgbm9kZS52YWx1ZSA9IG5vZGUudmFsdWUucmVwbGFjZSgnLy8kJywgJy8vJylcbiAgICB9KVxuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBSZWh5cGVTaGlraUNvcmVPcHRpb25zIH0gZnJvbSAnQHNoaWtpanMvcmVoeXBlL2NvcmUnXG5pbXBvcnQgdHlwZSB7IFJvb3QgfSBmcm9tICdoYXN0J1xuaW1wb3J0IHR5cGUgeyBCdWlsdGluTGFuZ3VhZ2UsIEJ1aWx0aW5UaGVtZSwgSGlnaGxpZ2h0ZXIgfSBmcm9tICdzaGlraSdcbmltcG9ydCB7IGJ1bmRsZWRMYW5ndWFnZXMsIGdldEhpZ2hsaWdodGVyIH0gZnJvbSAnc2hpa2knXG5pbXBvcnQgdHlwZSB7IExhbmd1YWdlSW5wdXQgfSBmcm9tICdzaGlraS9jb3JlJ1xuaW1wb3J0IHR5cGUgeyBQbHVnaW4gfSBmcm9tICd1bmlmaWVkJ1xuaW1wb3J0IHsgdmlzaXQgfSBmcm9tICd1bmlzdC11dGlsLXZpc2l0J1xuXG5jb25zdCBpbmxpbmVTaGlraVJlZ2V4ID0gLyguKil7OiguKil9JC9cblxuZXhwb3J0IHR5cGUgUmVoeXBlSW5saW5lU2hpa2lPcHRpb25zID0gUmVoeXBlU2hpa2lDb3JlT3B0aW9ucyAmIHtcbiAgLyoqXG4gICAqIExhbmd1YWdlIG5hbWVzIHRvIGluY2x1ZGUuXG4gICAqXG4gICAqIEBkZWZhdWx0IE9iamVjdC5rZXlzKGJ1bmRsZWRMYW5ndWFnZXMpXG4gICAqL1xuICBsYW5ncz86IEFycmF5PExhbmd1YWdlSW5wdXQgfCBCdWlsdGluTGFuZ3VhZ2U+XG59XG5cbmV4cG9ydCBjb25zdCByZWh5cGVJbmxpbmVTaGlraTogUGx1Z2luPFtSZWh5cGVJbmxpbmVTaGlraU9wdGlvbnNdLCBSb290PiA9IGZ1bmN0aW9uIChcbiAgb3B0aW9ucyA9IHt9IGFzIGFueSxcbikge1xuICBjb25zdCB0aGVtZU5hbWVzID0gKCd0aGVtZXMnIGluIG9wdGlvbnMgPyBPYmplY3QudmFsdWVzKG9wdGlvbnMudGhlbWVzKSA6IFtvcHRpb25zLnRoZW1lXSkuZmlsdGVyKFxuICAgIEJvb2xlYW4sXG4gICkgYXMgQnVpbHRpblRoZW1lW11cbiAgY29uc3QgbGFuZ3MgPSBvcHRpb25zLmxhbmdzIHx8IE9iamVjdC5rZXlzKGJ1bmRsZWRMYW5ndWFnZXMpXG5cbiAgbGV0IHByb21pc2U6IFByb21pc2U8SGlnaGxpZ2h0ZXI+XG5cbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uICh0cmVlKSB7XG4gICAgaWYgKCFwcm9taXNlKVxuICAgICAgcHJvbWlzZSA9IGdldEhpZ2hsaWdodGVyKHtcbiAgICAgICAgdGhlbWVzOiB0aGVtZU5hbWVzLFxuICAgICAgICBsYW5ncyxcbiAgICAgIH0pXG4gICAgY29uc3QgaGlnaGxpZ2h0ZXIgPSBhd2FpdCBwcm9taXNlXG4gICAgcmV0dXJuIHZpc2l0KHRyZWUsICdlbGVtZW50JywgKG5vZGUsIGluZGV4LCBwYXJlbnQpID0+IHtcbiAgICAgIGlmIChub2RlLnRhZ05hbWUgIT09ICdjb2RlJykgcmV0dXJuXG5cbiAgICAgIGNvbnN0IG1hdGNoID0gKG5vZGUuY2hpbGRyZW5bMF0gYXMgYW55KT8udmFsdWU/Lm1hdGNoKGlubGluZVNoaWtpUmVnZXgpXG4gICAgICBpZiAoIW1hdGNoKSByZXR1cm5cblxuICAgICAgY29uc3QgWywgY29kZSwgbGFuZ10gPSBtYXRjaFxuICAgICAgY29uc3QgaGFzdCA9IGhpZ2hsaWdodGVyLmNvZGVUb0hhc3QoY29kZSwgeyAuLi5vcHRpb25zLCBsYW5nIH0pXG5cbiAgICAgIGNvbnN0IGlubGluZUNvZGUgPSAoaGFzdC5jaGlsZHJlblswXSBhcyBhbnkpLmNoaWxkcmVuWzBdXG4gICAgICBpZiAoIWlubGluZUNvZGUpIHJldHVyblxuXG4gICAgICBwYXJlbnQ/LmNoaWxkcmVuLnNwbGljZShpbmRleCA/PyAwLCAxLCBpbmxpbmVDb2RlKVxuICAgIH0pXG4gIH1cbn1cbiIsICIvLy8gPHJlZmVyZW5jZSB0eXBlcz1cIm1kYXN0LXV0aWwtdG8taGFzdFwiIC8+XG4vLy8gPHJlZmVyZW5jZSB0eXBlcz1cIm1kYXN0LXV0aWwtZGlyZWN0aXZlXCIgLz5cblxuaW1wb3J0IHR5cGUgeyBSb290IH0gZnJvbSAnbWRhc3QnXG5pbXBvcnQgeyB2aXNpdCB9IGZyb20gJ3VuaXN0LXV0aWwtdmlzaXQnXG5cbmV4cG9ydCBmdW5jdGlvbiByZW1hcmtBdXRob3JzKCkge1xuICByZXR1cm4gKHRyZWU6IFJvb3QpID0+IHtcbiAgICB2aXNpdCh0cmVlLCAobm9kZSwgaW5kZXgsIHBhcmVudCkgPT4ge1xuICAgICAgaWYgKG5vZGUudHlwZSAhPT0gJ2xlYWZEaXJlY3RpdmUnKSByZXR1cm5cbiAgICAgIGlmIChub2RlLm5hbWUgIT09ICdhdXRob3JzJykgcmV0dXJuXG4gICAgICBpZiAoIWluZGV4KSByZXR1cm5cbiAgICAgIDsocGFyZW50Py5jaGlsZHJlbltpbmRleCAtIDFdIGFzIGFueSkuY2hpbGRyZW4ucHVzaCh7XG4gICAgICAgIHR5cGU6ICdwYXJhZ3JhcGgnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaE5hbWU6ICdkaXYnLFxuICAgICAgICAgIGhQcm9wZXJ0aWVzOiB7ICdkYXRhLWF1dGhvcnMnOiB0cnVlIH0sXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbiIsICIvLy8gPHJlZmVyZW5jZSB0eXBlcz1cIm1kYXN0LXV0aWwtdG8taGFzdFwiIC8+XG4vLy8gPHJlZmVyZW5jZSB0eXBlcz1cIm1kYXN0LXV0aWwtZGlyZWN0aXZlXCIgLz5cblxuaW1wb3J0IHR5cGUgeyBSb290IH0gZnJvbSAnbWRhc3QnXG5pbXBvcnQgeyB2aXNpdCB9IGZyb20gJ3VuaXN0LXV0aWwtdmlzaXQnXG5cbmV4cG9ydCBmdW5jdGlvbiByZW1hcmtCbG9nUG9zdHMoKSB7XG4gIHJldHVybiAodHJlZTogUm9vdCkgPT4ge1xuICAgIHZpc2l0KHRyZWUsIChub2RlKSA9PiB7XG4gICAgICBpZiAobm9kZS50eXBlICE9PSAnbGVhZkRpcmVjdGl2ZScpIHJldHVyblxuICAgICAgaWYgKG5vZGUubmFtZSAhPT0gJ2Jsb2ctcG9zdHMnKSByZXR1cm5cblxuICAgICAgY29uc3QgZGF0YSA9IG5vZGUuZGF0YSB8fCAobm9kZS5kYXRhID0ge30pXG4gICAgICBkYXRhLmhOYW1lID0gJ2RpdidcbiAgICAgIGRhdGEuaFByb3BlcnRpZXMgPSB7ICdkYXRhLWJsb2ctcG9zdHMnOiB0cnVlIH1cbiAgICB9KVxuICB9XG59XG4iLCAiLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJtZGFzdC11dGlsLXRvLWhhc3RcIiAvPlxuLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJtZGFzdC11dGlsLWRpcmVjdGl2ZVwiIC8+XG5cbmltcG9ydCB7IGggfSBmcm9tICdoYXN0c2NyaXB0J1xuaW1wb3J0IHR5cGUgeyBSb290IH0gZnJvbSAnbWRhc3QnXG5pbXBvcnQgeyB2aXNpdCB9IGZyb20gJ3VuaXN0LXV0aWwtdmlzaXQnXG5cbmV4cG9ydCBmdW5jdGlvbiByZW1hcmtDYWxsb3V0KCkge1xuICByZXR1cm4gKHRyZWU6IFJvb3QpID0+IHtcbiAgICB2aXNpdCh0cmVlLCAobm9kZSkgPT4ge1xuICAgICAgaWYgKG5vZGUudHlwZSAhPT0gJ2NvbnRhaW5lckRpcmVjdGl2ZScpIHJldHVyblxuICAgICAgaWYgKFxuICAgICAgICBub2RlLm5hbWUgIT09ICdjYWxsb3V0JyAmJlxuICAgICAgICBub2RlLm5hbWUgIT09ICdpbmZvJyAmJlxuICAgICAgICBub2RlLm5hbWUgIT09ICd3YXJuaW5nJyAmJlxuICAgICAgICBub2RlLm5hbWUgIT09ICdkYW5nZXInICYmXG4gICAgICAgIG5vZGUubmFtZSAhPT0gJ3RpcCcgJiZcbiAgICAgICAgbm9kZS5uYW1lICE9PSAnc3VjY2VzcycgJiZcbiAgICAgICAgbm9kZS5uYW1lICE9PSAnbm90ZSdcbiAgICAgIClcbiAgICAgICAgcmV0dXJuXG5cbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgIGNvbnN0IGxhYmVsID0gbm9kZS5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQuZGF0YT8uZGlyZWN0aXZlTGFiZWwpPy5jaGlsZHJlblswXS52YWx1ZVxuXG4gICAgICBjb25zdCBkYXRhID0gbm9kZS5kYXRhIHx8IChub2RlLmRhdGEgPSB7fSlcbiAgICAgIGNvbnN0IHRhZ05hbWUgPSAnYXNpZGUnXG5cbiAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICBub2RlLmNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbi5maWx0ZXIoKGNoaWxkOiBhbnkpID0+ICFjaGlsZC5kYXRhPy5kaXJlY3RpdmVMYWJlbClcbiAgICAgICAgbm9kZS5jaGlsZHJlbi51bnNoaWZ0KHtcbiAgICAgICAgICB0eXBlOiAncGFyYWdyYXBoJyxcbiAgICAgICAgICBkYXRhOiB7IGhQcm9wZXJ0aWVzOiB7ICdkYXRhLWNhbGxvdXQtdGl0bGUnOiB0cnVlIH0gfSxcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiAnc3Ryb25nJyxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFt7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IGxhYmVsIH1dLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBkYXRhLmhOYW1lID0gdGFnTmFtZVxuICAgICAgZGF0YS5oUHJvcGVydGllcyA9IHtcbiAgICAgICAgLi4uaCh0YWdOYW1lLCBub2RlLmF0dHJpYnV0ZXMgfHwge30pLnByb3BlcnRpZXMsXG4gICAgICAgICdkYXRhLWNhbGxvdXQnOiBub2RlLm5hbWUgIT09ICdjYWxsb3V0JyA/IG5vZGUubmFtZSA6IHRydWUsXG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuIiwgIi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwibWRhc3QtdXRpbC10by1oYXN0XCIgLz5cbi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwibWRhc3QtdXRpbC1kaXJlY3RpdmVcIiAvPlxuXG5pbXBvcnQgeyBoIH0gZnJvbSAnaGFzdHNjcmlwdCdcbmltcG9ydCB0eXBlIHsgQmxvY2tDb250ZW50LCBEZWZpbml0aW9uQ29udGVudCwgUm9vdCB9IGZyb20gJ21kYXN0J1xuaW1wb3J0IHsgdmlzaXQgfSBmcm9tICd1bmlzdC11dGlsLXZpc2l0J1xuXG5leHBvcnQgZnVuY3Rpb24gcmVtYXJrQ29kZUdyb3VwKCkge1xuICByZXR1cm4gKHRyZWU6IFJvb3QpID0+IHtcbiAgICB2aXNpdCh0cmVlLCAobm9kZSkgPT4ge1xuICAgICAgaWYgKG5vZGUudHlwZSAhPT0gJ2NvbnRhaW5lckRpcmVjdGl2ZScpIHJldHVyblxuICAgICAgaWYgKG5vZGUubmFtZSAhPT0gJ2NvZGUtZ3JvdXAnKSByZXR1cm5cblxuICAgICAgY29uc3QgZGF0YSA9IG5vZGUuZGF0YSB8fCAobm9kZS5kYXRhID0ge30pXG4gICAgICBjb25zdCB0YWdOYW1lID0gJ2RpdidcblxuICAgICAgbm9kZS5hdHRyaWJ1dGVzID0ge1xuICAgICAgICAuLi5ub2RlLmF0dHJpYnV0ZXMsXG4gICAgICAgIGNsYXNzOiAnY29kZS1ncm91cCcsXG4gICAgICB9XG5cbiAgICAgIGRhdGEuaE5hbWUgPSB0YWdOYW1lXG4gICAgICBkYXRhLmhQcm9wZXJ0aWVzID0gaCh0YWdOYW1lLCBub2RlLmF0dHJpYnV0ZXMgfHwge30pLnByb3BlcnRpZXNcblxuICAgICAgbm9kZS5jaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW5cbiAgICAgICAgLm1hcCgoY2hpbGQpID0+IHtcbiAgICAgICAgICBjb25zdCBtYXRjaCA9ICdtZXRhJyBpbiBjaGlsZCAmJiBjaGlsZD8ubWV0YT8ubWF0Y2goL1xcWyguKilcXF0vKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAncGFyYWdyYXBoJyxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbY2hpbGRdLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBoTmFtZTogJ2RpdicsXG4gICAgICAgICAgICAgIGhQcm9wZXJ0aWVzOiBtYXRjaFxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAnZGF0YS10aXRsZSc6IG1hdGNoWzFdLFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5maWx0ZXIoQm9vbGVhbikgYXMgKEJsb2NrQ29udGVudCB8IERlZmluaXRpb25Db250ZW50KVtdXG4gICAgfSlcbiAgfVxufVxuIiwgIi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwibWRhc3QtdXRpbC10by1oYXN0XCIgLz5cbi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwibWRhc3QtdXRpbC1kaXJlY3RpdmVcIiAvPlxuXG5pbXBvcnQgdHlwZSB7IFJvb3QgfSBmcm9tICdtZGFzdCdcbmltcG9ydCB7IHZpc2l0IH0gZnJvbSAndW5pc3QtdXRpbC12aXNpdCdcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbWFya0NvZGUoKSB7XG4gIHJldHVybiAodHJlZTogUm9vdCkgPT4ge1xuICAgIHZpc2l0KHRyZWUsIChub2RlLCBfLCBwYXJlbnQpID0+IHtcbiAgICAgIGlmIChub2RlLnR5cGUgIT09ICdjb2RlJykgcmV0dXJuXG4gICAgICBpZiAoIW5vZGUubGFuZykgbm9kZS5sYW5nID0gJ3R4dCdcbiAgICAgIGlmIChwYXJlbnQ/LnR5cGUgPT09ICdjb250YWluZXJEaXJlY3RpdmUnICYmIHBhcmVudC5uYW1lICE9PSAnc3RlcHMnKSByZXR1cm5cblxuICAgICAgY29uc3QgW21hdGNoLCB0aXRsZV0gPSBub2RlLm1ldGE/Lm1hdGNoKC9cXFsoLiopXFxdLykgfHwgW11cbiAgICAgIGlmIChtYXRjaCkgbm9kZS5tZXRhID0gbm9kZS5tZXRhPy5yZXBsYWNlKG1hdGNoLCBgdGl0bGU9XFxcIiR7dGl0bGV9XFxcImApXG4gICAgfSlcbiAgfVxufVxuIiwgIi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwibWRhc3QtdXRpbC10by1oYXN0XCIgLz5cbi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwibWRhc3QtdXRpbC1kaXJlY3RpdmVcIiAvPlxuXG5pbXBvcnQgdHlwZSB7IFJvb3QgfSBmcm9tICdtZGFzdCdcbmltcG9ydCB7IHZpc2l0IH0gZnJvbSAndW5pc3QtdXRpbC12aXNpdCdcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbWFya0RldGFpbHMoKSB7XG4gIHJldHVybiAodHJlZTogUm9vdCkgPT4ge1xuICAgIHZpc2l0KHRyZWUsIChub2RlKSA9PiB7XG4gICAgICBpZiAobm9kZS50eXBlICE9PSAnY29udGFpbmVyRGlyZWN0aXZlJykgcmV0dXJuXG4gICAgICBpZiAobm9kZS5uYW1lICE9PSAnZGV0YWlscycpIHJldHVyblxuXG4gICAgICBjb25zdCBkYXRhID0gbm9kZS5kYXRhIHx8IChub2RlLmRhdGEgPSB7fSlcbiAgICAgIGNvbnN0IHRhZ05hbWUgPSAnZGV0YWlscydcblxuICAgICAgY29uc3Qgc3VtbWFyeUNoaWxkID0gbm9kZS5jaGlsZHJlblswXVxuICAgICAgaWYgKHN1bW1hcnlDaGlsZC50eXBlID09PSAncGFyYWdyYXBoJyAmJiBzdW1tYXJ5Q2hpbGQuZGF0YT8uZGlyZWN0aXZlTGFiZWwpXG4gICAgICAgIHN1bW1hcnlDaGlsZC5kYXRhLmhOYW1lID0gJ3N1bW1hcnknXG4gICAgICBlbHNlXG4gICAgICAgIG5vZGUuY2hpbGRyZW4udW5zaGlmdCh7XG4gICAgICAgICAgdHlwZTogJ3BhcmFncmFwaCcsXG4gICAgICAgICAgY2hpbGRyZW46IFt7IHR5cGU6ICd0ZXh0JywgdmFsdWU6ICdEZXRhaWxzJyB9XSxcbiAgICAgICAgICBkYXRhOiB7IGhOYW1lOiAnc3VtbWFyeScgfSxcbiAgICAgICAgfSlcblxuICAgICAgZGF0YS5oTmFtZSA9IHRhZ05hbWVcbiAgICB9KVxuICB9XG59XG4iLCAiLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJtZGFzdC11dGlsLXRvLWhhc3RcIiAvPlxuLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJtZGFzdC11dGlsLWRpcmVjdGl2ZVwiIC8+XG5cbmltcG9ydCB0eXBlIHsgUm9vdCB9IGZyb20gJ21kYXN0J1xuaW1wb3J0IHsgdmlzaXQgfSBmcm9tICd1bmlzdC11dGlsLXZpc2l0J1xuXG5pbXBvcnQgeyBwcm9jZXNzSW5jbHVkZXMgfSBmcm9tICcuLi9zaGlraS90cmFuc2Zvcm1lck5vdGF0aW9uSW5jbHVkZS5qcydcblxuY29uc3QgZmlsZW5hbWVSZWdleCA9IC9maWxlbmFtZT1cIiguKilcIi9cbmNvbnN0IGltcG9ydFJlZ2V4ID0gL2Zyb20gKCd8XCIpKC4qKSgnfFwiKS9nXG5cbnR5cGUgRmlsZUhhc2ggPSBzdHJpbmdcbnR5cGUgRmlsZU5hbWUgPSBzdHJpbmdcblxuZXhwb3J0IGNvbnN0IGZpbGVuYW1lQ2FjaGUgPSBuZXcgTWFwPEZpbGVIYXNoLCBNYXA8RmlsZU5hbWUsIHN0cmluZz4+KClcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbWFya0ZpbGVuYW1lKCkge1xuICByZXR1cm4gKHRyZWU6IFJvb3QpID0+IHtcbiAgICB2aXNpdCh0cmVlLCAobm9kZSkgPT4ge1xuICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ2NvZGUnICYmIG5vZGUubWV0YT8uaW5jbHVkZXMoJ2ZpbGVuYW1lJykpIHtcbiAgICAgICAgLy8gSWYgdGhlIGNvZGUgYmxvY2sgaGFzIGEgYGZpbGVuYW1lYCBtZXRhLCB0aGVuIHdlIG5lZWQgdG8gcHJvY2Vzc1xuICAgICAgICAvLyB0aGUgdHJlZSBhbmQgZmluZCBpbXBvcnRzIG9yIGluY2x1ZGVzIHRvIGluamVjdCB0aGUgY29kZSBpbnRvLlxuICAgICAgICBjb25zdCBmaWxlbmFtZU1hdGNoID0gbm9kZS5tZXRhPy5tYXRjaChmaWxlbmFtZVJlZ2V4KVxuICAgICAgICBpZiAoZmlsZW5hbWVNYXRjaCkge1xuICAgICAgICAgIGNvbnN0IFssIGZpbGVOYW1lXSA9IGZpbGVuYW1lTWF0Y2hcbiAgICAgICAgICBjb25zdCBzb3VyY2VDb2RlID0gbm9kZS52YWx1ZVxuICAgICAgICAgIHZpc2l0KHRyZWUsICdjb2RlJywgKG5vZGUpID0+IHtcbiAgICAgICAgICAgIC8vIHByb2Nlc3MgYGltcG9ydGAgc3RhdGVtZW50cyBpZiB3ZSBhcmUgaW4gdHdvc2xhc2ggbW9kZVxuICAgICAgICAgICAgaWYgKG5vZGUubWV0YT8uaW5jbHVkZXMoJ3R3b3NsYXNoJykpIHtcbiAgICAgICAgICAgICAgbm9kZS52YWx1ZSA9IHByb2Nlc3NJbXBvcnRzKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBub2RlLnZhbHVlLFxuICAgICAgICAgICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAgICAgICAgIHNvdXJjZUNvZGUsXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHByb2Nlc3MgYC8vIFshaW5jbHVkZSAuLi5dYCBtYXJrZXJzXG4gICAgICAgICAgICBub2RlLnZhbHVlID0gcHJvY2Vzc0luY2x1ZGVzKHtcbiAgICAgICAgICAgICAgY29kZTogbm9kZS52YWx1ZSxcbiAgICAgICAgICAgICAgZ2V0U291cmNlOiAoc291cmNlRmlsZU5hbWUpID0+IChzb3VyY2VGaWxlTmFtZSA9PT0gZmlsZU5hbWUgPyBzb3VyY2VDb2RlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0ltcG9ydHMoe1xuICBjb2RlOiBjb2RlXyxcbiAgZmlsZU5hbWUsXG4gIHNvdXJjZUNvZGUsXG59OiB7IGNvZGU6IHN0cmluZzsgZmlsZU5hbWU6IHN0cmluZzsgc291cmNlQ29kZTogc3RyaW5nIH0pIHtcbiAgbGV0IGNvZGUgPSBjb2RlX1xuXG4gIGNvbnN0IGltcG9ydE1hdGNoZXMgPSBjb2RlLm1hdGNoQWxsKGltcG9ydFJlZ2V4KVxuICBmb3IgKGNvbnN0IGltcG9ydE1hdGNoIG9mIGltcG9ydE1hdGNoZXMpIHtcbiAgICBjb25zdCBzdHJpcHBlZEZpbGVOYW1lID0gc3RyaXBGaWxlTmFtZShmaWxlTmFtZSlcbiAgICBjb25zdCBzdHJpcHBlZFNvdXJjZUZpbGVOYW1lID0gc3RyaXBGaWxlTmFtZShpbXBvcnRNYXRjaD8uWzJdKVxuICAgIGlmIChzdHJpcHBlZFNvdXJjZUZpbGVOYW1lICE9PSBzdHJpcHBlZEZpbGVOYW1lKSBjb250aW51ZVxuXG4gICAgY29uc3QgcHJldmlvdXMgPSBjb2RlXG4gICAgY29kZSA9IGAvLyBAZmlsZW5hbWU6ICR7ZmlsZU5hbWV9XFxuJHtzb3VyY2VDb2RlfVxcbmBcbiAgICBpZiAoIXByZXZpb3VzLmluY2x1ZGVzKCdAZmlsZW5hbWU6IGV4YW1wbGUudHMnKSlcbiAgICAgIGNvZGUgKz0gJy8vIEBmaWxlbmFtZTogZXhhbXBsZS50c1xcbi8vIC0tLWN1dC0tLVxcbidcbiAgICBjb2RlICs9IHByZXZpb3VzXG4gIH1cblxuICByZXR1cm4gY29kZVxufVxuXG5mdW5jdGlvbiBzdHJpcEZpbGVOYW1lKGZpbGVOYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGZpbGVOYW1lLnJlcGxhY2UoL15cXC5cXC8vLCAnJykucmVwbGFjZSgvXFwuKHRzfGpzfHRzeHxqc3gpJC8sICcnKVxufVxuIiwgImltcG9ydCB7IHJlYWRGaWxlU3luYyB9IGZyb20gJ25vZGU6ZnMnXG5pbXBvcnQgeyByZXNvbHZlIH0gZnJvbSAnbm9kZTpwYXRoJ1xuaW1wb3J0IHR5cGUgeyBTaGlraVRyYW5zZm9ybWVyIH0gZnJvbSAnc2hpa2knXG5cbmNvbnN0IGluY2x1ZGVSZWdleCA9IC9cXC9cXC8gXFxbIWluY2x1ZGUgKC4qKVxcXS9cbmNvbnN0IHJlZ2lvblJlZ2V4ID0gL1xcL1xcLyBcXFshcmVnaW9uICguKilcXF0vXG5jb25zdCByZWdpb25SZWdleExpbmVHbG9iYWwgPSAvXFwvXFwvIFxcWyFyZWdpb24gKC4qKVxcXVxcbi9nXG5jb25zdCBlbmRSZWdpb25SZWdleCA9IC9cXC9cXC8gXFxbIWVuZHJlZ2lvbiAoLiopXFxdL1xuY29uc3QgZW5kUmVnaW9uUmVnZXhMaW5lR2xvYmFsID0gL1xcL1xcLyBcXFshZW5kcmVnaW9uICguKilcXF0oXFxufCQpL2dcblxuZXhwb3J0IHR5cGUgVHJhbnNmb3JtZXJOb3RhdGlvbkluY2x1ZGVPcHRpb25zID0ge1xuICByb290RGlyOiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybWVyTm90YXRpb25JbmNsdWRlID0gKHtcbiAgcm9vdERpcixcbn06IFRyYW5zZm9ybWVyTm90YXRpb25JbmNsdWRlT3B0aW9ucyk6IFNoaWtpVHJhbnNmb3JtZXIgPT4gKHtcbiAgbmFtZTogJ2luY2x1ZGVzJyxcbiAgcHJlcHJvY2Vzcyhjb2RlKSB7XG4gICAgaWYgKCFjb2RlKSByZXR1cm4gY29kZVxuICAgIHJldHVybiBwcm9jZXNzSW5jbHVkZXMoe1xuICAgICAgY29kZSxcbiAgICAgIGdldFNvdXJjZShmaWxlTmFtZSkge1xuICAgICAgICBpZiAoIWZpbGVOYW1lLnN0YXJ0c1dpdGgoJ34nKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgICBjb25zdCBwYXRoID0gcmVzb2x2ZShyb290RGlyLCBmaWxlTmFtZS5yZXBsYWNlKCd+JywgJy4nKSlcbiAgICAgICAgcmV0dXJuIHJlYWRGaWxlU3luYyhwYXRoLCB7IGVuY29kaW5nOiAndXRmLTgnIH0pLnJlcGxhY2UoL1xcbiQvLCAnJylcbiAgICAgIH0sXG4gICAgfSlcbiAgfSxcbn0pXG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzSW5jbHVkZXMoe1xuICBjb2RlLFxuICBnZXRTb3VyY2UsXG59OiB7IGNvZGU6IHN0cmluZzsgZ2V0U291cmNlOiAoZmlsZU5hbWU6IHN0cmluZykgPT4gc3RyaW5nIHwgdW5kZWZpbmVkIH0pIHtcbiAgY29uc3QgaW5jbHVkZXMgPSBjb2RlLmluY2x1ZGVzKCcvLyBbIWluY2x1ZGUnKVxuICBpZiAoIWluY2x1ZGVzKVxuICAgIHJldHVybiBjb2RlXG4gICAgICAucmVwbGFjZUFsbChyZWdpb25SZWdleExpbmVHbG9iYWwsICcnKVxuICAgICAgLnJlcGxhY2VBbGwoZW5kUmVnaW9uUmVnZXhMaW5lR2xvYmFsLCAnJylcbiAgICAgIC5yZXBsYWNlKC9cXG4kLywgJycpXG5cbiAgY29uc3QgbGluZXMgPSBjb2RlLnNwbGl0KCdcXG4nKVxuICBsZXQgaSA9IDBcbiAgd2hpbGUgKGkgPCBsaW5lcy5sZW5ndGgpIHtcbiAgICBjb25zdCBsaW5lID0gbGluZXNbaV1cbiAgICBjb25zdCBtYXRjaCA9IGxpbmUubWF0Y2goaW5jbHVkZVJlZ2V4KVxuICAgIGlmIChtYXRjaCkge1xuICAgICAgY29uc3QgWywgdmFsdWVdID0gbWF0Y2hcbiAgICAgIGNvbnN0IFtmaWxlLCAuLi5xdWVyeV0gPSB2YWx1ZS5zcGxpdCgnICcpXG4gICAgICBjb25zdCBbZmlsZU5hbWUsIHJlZ2lvbl0gPSBmaWxlLnNwbGl0KCc6JylcblxuICAgICAgbGV0IGNvbnRlbnRzID0gZ2V0U291cmNlKGZpbGVOYW1lKVxuICAgICAgaWYgKGNvbnRlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaSsrXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICBjb250ZW50cyA9IGV4dHJhY3RSZWdpb24oY29udGVudHMsIHJlZ2lvbilcbiAgICAgIGNvbnRlbnRzID0gZmluZEFuZFJlcGxhY2UoY29udGVudHMsIHF1ZXJ5KVxuXG4gICAgICBsaW5lcy5zcGxpY2UoaSwgMSwgY29udGVudHMpXG4gICAgfVxuICAgIGkrK1xuICB9XG4gIHJldHVybiBsaW5lcy5qb2luKCdcXG4nKS5yZXBsYWNlKC9cXG4kLywgJycpXG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RSZWdpb24oY29kZTogc3RyaW5nLCByZWdpb246IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICBjb25zdCBsaW5lcyA9IFtdXG5cbiAgbGV0IGluUmVnaW9uID0gIXJlZ2lvblxuICBmb3IgKGNvbnN0IGxpbmUgb2YgY29kZS5zcGxpdCgnXFxuJykpIHtcbiAgICBjb25zdCBzdGFydFJlZ2lvbk1hdGNoID0gbGluZS5tYXRjaChyZWdpb25SZWdleClcbiAgICBjb25zdCBlbmRSZWdpb25NYXRjaCA9IGxpbmUubWF0Y2goZW5kUmVnaW9uUmVnZXgpXG5cbiAgICAvLyBJZiB3ZSBhcmUgaW4gYSByZWdpb24sIGlnbm9yZSBhbnkgb3RoZXIgcmVnaW9uIG1hcmtlcnMuXG4gICAgaWYgKGluUmVnaW9uICYmICFzdGFydFJlZ2lvbk1hdGNoICYmICFlbmRSZWdpb25NYXRjaCkgbGluZXMucHVzaChsaW5lLnJlcGxhY2VBbGwoL19cXCRcXGQqL2csICcnKSlcbiAgICAvLyBJZiB3ZSBoYXZlIGhhdmUgZm91bmQgYSBgLy8gWyFyZWdpb24gJHtyZWdpb259XWAgbWFya2VyLCBzdGFydCBpbmNsdWRpbmcgbGluZXMuXG4gICAgZWxzZSBpZiAoc3RhcnRSZWdpb25NYXRjaCkge1xuICAgICAgY29uc3QgWywgcmVnaW9uTmFtZV0gPSBzdGFydFJlZ2lvbk1hdGNoXG4gICAgICBpZiAocmVnaW9uTmFtZSA9PT0gcmVnaW9uKSB7XG4gICAgICAgIGluUmVnaW9uID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBJZiB3ZSBoYXZlIGhhdmUgZm91bmQgYSBgLy8gWyFlbmRyZWdpb24gJHtyZWdpb259XWAgbWFya2VyLCBzdG9wIGluY2x1ZGluZyBsaW5lcy5cbiAgICBlbHNlIGlmIChlbmRSZWdpb25NYXRjaCkge1xuICAgICAgY29uc3QgWywgcmVnaW9uTmFtZV0gPSBlbmRSZWdpb25NYXRjaFxuICAgICAgaWYgKHJlZ2lvbk5hbWUgPT09IHJlZ2lvbikge1xuICAgICAgICBpblJlZ2lvbiA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxpbmVzLmpvaW4oJ1xcbicpXG59XG5cbmNvbnN0IGZpbmRBbmRSZXBsYWNlUmVnZXggPSAvXlxcLyguKikoW15cXFxcXSlcXC8oLiopXFwvJC9cblxuZnVuY3Rpb24gZmluZEFuZFJlcGxhY2UoY29kZV86IHN0cmluZywgcXVlcmllczogc3RyaW5nW10pIHtcbiAgaWYgKHF1ZXJpZXMubGVuZ3RoID09PSAwKSByZXR1cm4gY29kZV9cbiAgbGV0IGNvZGUgPSBjb2RlX1xuICBmb3IgKGNvbnN0IHF1ZXJ5IG9mIHF1ZXJpZXMpIHtcbiAgICBjb25zdCBtYXRjaCA9IHF1ZXJ5Lm1hdGNoKGZpbmRBbmRSZXBsYWNlUmVnZXgpXG4gICAgaWYgKCFtYXRjaCkgcmV0dXJuIGNvZGVcbiAgICBjb25zdCBbLCBmaW5kMSwgZmluZDIsIHJlcGxhY2UxXSA9IG1hdGNoXG4gICAgY29uc3QgZmluZCA9IChmaW5kMSArIGZpbmQyKS5yZXBsYWNlKCdcXFxcLycsICcvJylcbiAgICBjb25zdCByZXBsYWNlID0gcmVwbGFjZTEucmVwbGFjZSgnXFxcXC8nLCAnLycpXG4gICAgY29kZSA9IGNvZGUucmVwbGFjZUFsbChmaW5kLCByZXBsYWNlKVxuICB9XG4gIHJldHVybiBjb2RlXG59XG4iLCAiLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJtZGFzdC11dGlsLXRvLWhhc3RcIiAvPlxuLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJtZGFzdC11dGlsLWRpcmVjdGl2ZVwiIC8+XG5cbmltcG9ydCB0eXBlIHsgUm9vdCwgWWFtbCB9IGZyb20gJ21kYXN0J1xuaW1wb3J0IHsgdmlzaXQgfSBmcm9tICd1bmlzdC11dGlsLXZpc2l0J1xuXG5leHBvcnQgZnVuY3Rpb24gcmVtYXJrSW5mZXJGcm9udG1hdHRlcigpIHtcbiAgcmV0dXJuICh0cmVlOiBSb290KSA9PiB7XG4gICAgdmlzaXQodHJlZSwgKG5vZGUsIF8sIHBhcmVudCkgPT4ge1xuICAgICAgaWYgKHBhcmVudD8udHlwZSAhPT0gJ3Jvb3QnKSByZXR1cm5cblxuICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ2hlYWRpbmcnICYmIG5vZGUuZGVwdGggPT09IDEpIHtcbiAgICAgICAgaWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSByZXR1cm5cblxuICAgICAgICBjb25zdCBjaGlsZCA9IG5vZGUuY2hpbGRyZW5bMF1cbiAgICAgICAgaWYgKCEoJ3ZhbHVlJyBpbiBjaGlsZCkpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gY2hpbGQudmFsdWVcbiAgICAgICAgY29uc3QgWywgdGl0bGUsIGRlc2NyaXB0aW9uXSA9IHZhbHVlLmluY2x1ZGVzKCdbJylcbiAgICAgICAgICA/IHZhbHVlLm1hdGNoKC8oLiopIFxcWyguKilcXF0vKSB8fCBbXVxuICAgICAgICAgIDogW3VuZGVmaW5lZCwgdmFsdWVdXG5cbiAgICAgICAgY29uc3QgZnJvbnRtYXR0ZXJJbmRleCA9IHBhcmVudC5jaGlsZHJlbi5maW5kSW5kZXgoKGNoaWxkKSA9PiBjaGlsZC50eXBlID09PSAneWFtbCcpXG4gICAgICAgIGNvbnN0IGluZGV4ID0gZnJvbnRtYXR0ZXJJbmRleCA+IDAgPyBmcm9udG1hdHRlckluZGV4IDogMFxuXG4gICAgICAgIGNvbnN0IGZyb250bWF0dGVyID0ge1xuICAgICAgICAgIC4uLihwYXJlbnQuY2hpbGRyZW5bZnJvbnRtYXR0ZXJJbmRleF0gfHwge1xuICAgICAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICAgICAgdHlwZTogJ3lhbWwnLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9IGFzIFlhbWxcbiAgICAgICAgaWYgKCFmcm9udG1hdHRlci52YWx1ZS5pbmNsdWRlcygndGl0bGUnKSkgZnJvbnRtYXR0ZXIudmFsdWUgKz0gYFxcbnRpdGxlOiAke3RpdGxlfVxcbmBcbiAgICAgICAgaWYgKCFmcm9udG1hdHRlci52YWx1ZS5pbmNsdWRlcygnZGVzY3JpcHRpb24nKSlcbiAgICAgICAgICBmcm9udG1hdHRlci52YWx1ZSArPSBgXFxuZGVzY3JpcHRpb246ICR7ZGVzY3JpcHRpb259XFxuYFxuXG4gICAgICAgIGlmIChmcm9udG1hdHRlckluZGV4ID09PSAtMSkgdHJlZS5jaGlsZHJlbi51bnNoaWZ0KGZyb250bWF0dGVyKVxuICAgICAgICBlbHNlIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEsIGZyb250bWF0dGVyKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cbiIsICIvLy8gPHJlZmVyZW5jZSB0eXBlcz1cIm1kYXN0LXV0aWwtdG8taGFzdFwiIC8+XG4vLy8gPHJlZmVyZW5jZSB0eXBlcz1cIm1kYXN0LXV0aWwtZGlyZWN0aXZlXCIgLz5cblxuaW1wb3J0IHsgZGlybmFtZSwgcmVzb2x2ZSB9IGZyb20gJ25vZGU6cGF0aCdcbmltcG9ydCB7IGZpbGVVUkxUb1BhdGggfSBmcm9tICdub2RlOnVybCdcbmltcG9ydCB7IGRlZmF1bHQgYXMgZnMgfSBmcm9tICdmcy1leHRyYSdcbmltcG9ydCB7IGdsb2JieVN5bmMgfSBmcm9tICdnbG9iYnknXG5pbXBvcnQgdHlwZSB7IFJvb3QgfSBmcm9tICdtZGFzdCdcbmltcG9ydCB7IHZpc2l0IH0gZnJvbSAndW5pc3QtdXRpbC12aXNpdCdcbmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ3ZpdGUnXG5cbmltcG9ydCB7IHJlc29sdmVWb2NzQ29uZmlnIH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVzb2x2ZVZvY3NDb25maWcuanMnXG5cbmNvbnN0IF9fZGlybmFtZSA9IGRpcm5hbWUoZmlsZVVSTFRvUGF0aChpbXBvcnQubWV0YS51cmwpKVxuY29uc3QgZGVhZGxpbmtzUGF0aCA9IHJlc29sdmUoX19kaXJuYW1lLCAnLi4vLi4vLnZvY3MvY2FjaGUvZGVhZGxpbmtzLmpzb24nKVxuXG5jb25zdCBsb2dnZXIgPSBjcmVhdGVMb2dnZXIoJ2luZm8nKVxuXG5pZiAoZnMuZXhpc3RzU3luYyhkZWFkbGlua3NQYXRoKSkgZnMucmVtb3ZlU3luYyhkZWFkbGlua3NQYXRoKVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtYXJrTGlua3MoKSB7XG4gIGNvbnN0IGRlYWRsaW5rcyA9IG5ldyBTZXQ8W3N0cmluZywgc3RyaW5nXT4oKVxuXG4gIHJldHVybiBhc3luYyAodHJlZTogUm9vdCwgZmlsZTogYW55KSA9PiB7XG4gICAgY29uc3QgeyBjb25maWcgfSA9IGF3YWl0IHJlc29sdmVWb2NzQ29uZmlnKClcbiAgICBjb25zdCB7IHJvb3REaXIgfSA9IGNvbmZpZ1xuXG4gICAgdmlzaXQodHJlZSwgJ2xpbmsnLCAobm9kZSkgPT4ge1xuICAgICAgY29uc3QgZmlsZVBhdGggPSBmaWxlLmhpc3RvcnlbMF0gYXMgc3RyaW5nIHwgdW5kZWZpbmVkXG4gICAgICBpZiAoIWZpbGVQYXRoKSByZXR1cm5cblxuICAgICAgY29uc3QgZGlyZWN0b3J5ID0gZGlybmFtZShmaWxlUGF0aClcblxuICAgICAgY29uc3QgaXNFeHRlcm5hbExpbmsgPSAhbm9kZS51cmwubWF0Y2goL14oXFwuKlxcL3wjKS8pXG4gICAgICBpZiAoaXNFeHRlcm5hbExpbmspIHJldHVyblxuXG4gICAgICAvLyBUT0RPOiBoYW5kbGUgaGFzaCBsaW5rc1xuICAgICAgaWYgKG5vZGUudXJsLnN0YXJ0c1dpdGgoJyMnKSkgcmV0dXJuXG5cbiAgICAgIGNvbnN0IFt1cmwsIGFmdGVyXSA9IChub2RlLnVybCB8fCAnJykuc3BsaXQoJyMnKVxuXG4gICAgICBjb25zdCBbcGFnZVBhdGgsIGJhc2VEaXJdID0gKCgpID0+IHtcbiAgICAgICAgaWYgKHVybC5zdGFydHNXaXRoKCcuJykpIHJldHVybiBbcmVzb2x2ZShkaXJlY3RvcnksIHVybCksIGRpcmVjdG9yeV1cbiAgICAgICAgcmV0dXJuIFtyZXNvbHZlKHJvb3REaXIsIGAuL3BhZ2VzJHt1cmx9YCksIHJlc29sdmUocm9vdERpciwgJy4vcGFnZXMnKV1cbiAgICAgIH0pKClcblxuICAgICAgY29uc3QgaXNGaWxlID0gKCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZnMuc3RhdFN5bmMocGFnZVBhdGgpLmlzRmlsZSgpXG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KSgpXG4gICAgICBpZiAoaXNGaWxlKSB7XG4gICAgICAgIG5vZGUudXJsID0gcGFyc2VMaW5rKHBhZ2VQYXRoLCBiYXNlRGlyKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgW3Jlc29sdmVkUGFnZVBhdGhdID0gZ2xvYmJ5U3luYyhbXG4gICAgICAgIGAke3BhZ2VQYXRofS9pbmRleC57aHRtbCxtZCxtZHgsanMsanN4LHRzLHRzeH1gLFxuICAgICAgICBgJHtwYWdlUGF0aH0ue2h0bWwsbWQsbWR4LGpzLGpzeCx0cyx0c3h9YCxcbiAgICAgIF0pXG4gICAgICBpZiAoIXJlc29sdmVkUGFnZVBhdGgpIHtcbiAgICAgICAgZGVhZGxpbmtzLmFkZChbbm9kZS51cmwsIGZpbGVQYXRoXSlcbiAgICAgICAgZnMuZW5zdXJlRGlyU3luYyhyZXNvbHZlKF9fZGlybmFtZSwgJy4uLy4uLy52b2NzL2NhY2hlJykpXG4gICAgICAgIGZzLndyaXRlRmlsZVN5bmMoZGVhZGxpbmtzUGF0aCwgSlNPTi5zdHJpbmdpZnkoWy4uLmRlYWRsaW5rc10sIG51bGwsIDIpKVxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpXG4gICAgICAgICAgbG9nZ2VyLndhcm4oYGNvdWxkIG5vdCByZXNvbHZlIFVSTCBcIiR7bm9kZS51cmx9XCIgaW4gJHtmaWxlUGF0aH1cXG5gLCB7IHRpbWVzdGFtcDogdHJ1ZSB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIG5vZGUudXJsID0gYCR7cGFyc2VMaW5rKHJlc29sdmVkUGFnZVBhdGgsIGJhc2VEaXIpfSR7YWZ0ZXIgPyBgIyR7YWZ0ZXJ9YCA6ICcnfWBcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlTGluayhwYWdlUGF0aDogc3RyaW5nLCBiYXNlRGlyOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHBhZ2VQYXRoXG4gICAgLnJlcGxhY2UoYmFzZURpciwgJycpXG4gICAgLnJlcGxhY2UoLygoaW5kZXgpP1xcLihodG1sfG1kfG1keHxqc3xqc3h8dHN8dHN4KSkkLywgJycpXG4gICAgLnJlcGxhY2UoL1xcLyQvLCAnJylcbn1cbiIsICIvLy8gPHJlZmVyZW5jZSB0eXBlcz1cIm1kYXN0LXV0aWwtdG8taGFzdFwiIC8+XG4vLy8gPHJlZmVyZW5jZSB0eXBlcz1cIm1kYXN0LXV0aWwtZGlyZWN0aXZlXCIgLz5cblxuaW1wb3J0IHR5cGUgeyBSb290IH0gZnJvbSAnbWRhc3QnXG5pbXBvcnQgeyB2aXNpdCB9IGZyb20gJ3VuaXN0LXV0aWwtdmlzaXQnXG5cbmV4cG9ydCBmdW5jdGlvbiByZW1hcmtTcG9uc29ycygpIHtcbiAgcmV0dXJuICh0cmVlOiBSb290KSA9PiB7XG4gICAgdmlzaXQodHJlZSwgKG5vZGUsIGluZGV4LCBwYXJlbnQpID0+IHtcbiAgICAgIGlmIChub2RlLnR5cGUgIT09ICdsZWFmRGlyZWN0aXZlJykgcmV0dXJuXG4gICAgICBpZiAobm9kZS5uYW1lICE9PSAnc3BvbnNvcnMnKSByZXR1cm5cbiAgICAgIGlmICghaW5kZXgpIHJldHVyblxuICAgICAgOyhwYXJlbnQ/LmNoaWxkcmVuW2luZGV4XSBhcyBhbnkpLmNoaWxkcmVuLnB1c2goe1xuICAgICAgICB0eXBlOiAncGFyYWdyYXBoJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGhOYW1lOiAnZGl2JyxcbiAgICAgICAgICBoUHJvcGVydGllczogeyAnZGF0YS1zcG9uc29ycyc6IHRydWUgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuIiwgIi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwibWRhc3QtdXRpbC10by1oYXN0XCIgLz5cbi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwibWRhc3QtdXRpbC1kaXJlY3RpdmVcIiAvPlxuXG5pbXBvcnQgeyBoIH0gZnJvbSAnaGFzdHNjcmlwdCdcbmltcG9ydCB0eXBlIHsgSGVhZGluZywgUm9vdCB9IGZyb20gJ21kYXN0J1xuaW1wb3J0IHsgdmlzaXQgfSBmcm9tICd1bmlzdC11dGlsLXZpc2l0J1xuXG5leHBvcnQgZnVuY3Rpb24gcmVtYXJrU3RlcHMoKSB7XG4gIHJldHVybiAodHJlZTogUm9vdCkgPT4ge1xuICAgIHZpc2l0KHRyZWUsIChub2RlKSA9PiB7XG4gICAgICBpZiAobm9kZS50eXBlICE9PSAnY29udGFpbmVyRGlyZWN0aXZlJykgcmV0dXJuXG4gICAgICBpZiAobm9kZS5uYW1lICE9PSAnc3RlcHMnKSByZXR1cm5cblxuICAgICAgY29uc3QgZGF0YSA9IG5vZGUuZGF0YSB8fCAobm9kZS5kYXRhID0ge30pXG4gICAgICBjb25zdCB0YWdOYW1lID0gJ2RpdidcblxuICAgICAgbm9kZS5hdHRyaWJ1dGVzID0ge1xuICAgICAgICAuLi5ub2RlLmF0dHJpYnV0ZXMsXG4gICAgICAgICdkYXRhLXZvY3Mtc3RlcHMnOiAndHJ1ZScsXG4gICAgICB9XG5cbiAgICAgIGRhdGEuaE5hbWUgPSB0YWdOYW1lXG4gICAgICBkYXRhLmhQcm9wZXJ0aWVzID0gaCh0YWdOYW1lLCBub2RlLmF0dHJpYnV0ZXMgfHwge30pLnByb3BlcnRpZXNcblxuICAgICAgY29uc3QgZGVwdGggPSAobm9kZS5jaGlsZHJlbi5maW5kKChjaGlsZCkgPT4gY2hpbGQudHlwZSA9PT0gJ2hlYWRpbmcnKSBhcyBIZWFkaW5nKT8uZGVwdGggPz8gMlxuXG4gICAgICBsZXQgY3VycmVudENoaWxkXG4gICAgICBjb25zdCBjaGlsZHJlbiA9IFtdXG4gICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09ICdoZWFkaW5nJyAmJiBjaGlsZC5kZXB0aCA9PT0gZGVwdGgpIHtcbiAgICAgICAgICBpZiAoY3VycmVudENoaWxkICYmIGN1cnJlbnRDaGlsZC5jaGlsZHJlbi5sZW5ndGggPiAwKSBjaGlsZHJlbi5wdXNoKGN1cnJlbnRDaGlsZClcbiAgICAgICAgICBjdXJyZW50Q2hpbGQgPSB7XG4gICAgICAgICAgICB0eXBlOiAncGFyYWdyYXBoJyxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgaE5hbWU6ICdkaXYnLFxuICAgICAgICAgICAgICBoUHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICdkYXRhLWRlcHRoJzogZGVwdGgsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0gYXMgYW55XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudENoaWxkIS5jaGlsZHJlbi5wdXNoKGNoaWxkKVxuICAgICAgfVxuICAgICAgY2hpbGRyZW4ucHVzaChjdXJyZW50Q2hpbGQpXG5cbiAgICAgIG5vZGUuY2hpbGRyZW4gPSBjaGlsZHJlblxuICAgIH0pXG4gIH1cbn1cbiIsICIvLy8gPHJlZmVyZW5jZSB0eXBlcz1cIm1kYXN0LXV0aWwtdG8taGFzdFwiIC8+XG4vLy8gPHJlZmVyZW5jZSB0eXBlcz1cIm1kYXN0LXV0aWwtZGlyZWN0aXZlXCIgLz5cblxuaW1wb3J0IHR5cGUgeyBSb290IH0gZnJvbSAnbWRhc3QnXG5pbXBvcnQgeyB2aXNpdCB9IGZyb20gJ3VuaXN0LXV0aWwtdmlzaXQnXG5cbmV4cG9ydCBmdW5jdGlvbiByZW1hcmtTdHJvbmdCbG9jaygpIHtcbiAgcmV0dXJuICh0cmVlOiBSb290KSA9PiB7XG4gICAgdmlzaXQodHJlZSwgJ3N0cm9uZycsIChub2RlLCBfLCBwYXJlbnQpID0+IHtcbiAgICAgIGlmICghcGFyZW50KSByZXR1cm5cbiAgICAgIGlmIChwYXJlbnQudHlwZSAhPT0gJ3BhcmFncmFwaCcpIHJldHVyblxuICAgICAgaWYgKHBhcmVudC5jaGlsZHJlbi5sZW5ndGggPiAxKSByZXR1cm5cblxuICAgICAgcGFyZW50LnR5cGUgPSAnc3Ryb25nJyBhcyBhbnlcbiAgICAgIHBhcmVudC5jaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW5cbiAgICB9KVxuICB9XG59XG4iLCAiLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJtZGFzdC11dGlsLXRvLWhhc3RcIiAvPlxuLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJtZGFzdC11dGlsLWRpcmVjdGl2ZVwiIC8+XG5cbmltcG9ydCB0eXBlIHsgUm9vdCB9IGZyb20gJ21kYXN0J1xuaW1wb3J0IHsgdmlzaXQgfSBmcm9tICd1bmlzdC11dGlsLXZpc2l0J1xuXG5leHBvcnQgZnVuY3Rpb24gcmVtYXJrU3ViaGVhZGluZygpIHtcbiAgcmV0dXJuICh0cmVlOiBSb290KSA9PiB7XG4gICAgdmlzaXQodHJlZSwgJ2hlYWRpbmcnLCAobm9kZSwgaW5kZXgsIHBhcmVudCkgPT4ge1xuICAgICAgaWYgKCFpbmRleCkgcmV0dXJuXG4gICAgICBpZiAobm9kZS5kZXB0aCAhPT0gMSkgcmV0dXJuXG4gICAgICBpZiAobm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHJldHVyblxuXG4gICAgICBjb25zdCBzdWJoZWFkaW5nUmVnZXggPSAvIFxcWyguKilcXF0kL1xuICAgICAgY29uc3Qgc3ViaGVhZGluZ0NoaWxkID0gbm9kZS5jaGlsZHJlbi5maW5kKFxuICAgICAgICAoY2hpbGQpID0+XG4gICAgICAgICAgJ3ZhbHVlJyBpbiBjaGlsZCAmJiB0eXBlb2YgY2hpbGQudmFsdWUgPT09ICdzdHJpbmcnICYmIGNoaWxkLnZhbHVlLm1hdGNoKHN1YmhlYWRpbmdSZWdleCksXG4gICAgICApIGFzIGFueVxuICAgICAgY29uc3QgW21hdGNoLCBzdWJoZWFkaW5nXSA9IHN1YmhlYWRpbmdDaGlsZD8udmFsdWU/Lm1hdGNoKHN1YmhlYWRpbmdSZWdleCkgPz8gW11cbiAgICAgIGlmIChzdWJoZWFkaW5nQ2hpbGQpIHN1YmhlYWRpbmdDaGlsZC52YWx1ZSA9IHN1YmhlYWRpbmdDaGlsZD8udmFsdWU/LnJlcGxhY2UobWF0Y2gsICcnKVxuXG4gICAgICAvLyByZW1vdmUgb3JpZ2luYWwgaGVhZGluZ1xuICAgICAgcGFyZW50Py5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpXG5cbiAgICAgIGNvbnN0IGhlYWRlciA9IHtcbiAgICAgICAgdHlwZTogJ3BhcmFncmFwaCcsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBoTmFtZTogJ2hlYWRlcicsXG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgbm9kZSxcbiAgICAgICAgICBzdWJoZWFkaW5nXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncGFyYWdyYXBoJyxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW3sgdHlwZTogJ3RleHQnLCB2YWx1ZTogc3ViaGVhZGluZyB9XSxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICBoTmFtZTogJ2RpdicsXG4gICAgICAgICAgICAgICAgICBoUHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICByb2xlOiAnZG9jLXN1YnRpdGxlJyxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIF0uZmlsdGVyKEJvb2xlYW4pLFxuICAgICAgfSBhcyBhbnlcbiAgICAgIHBhcmVudD8uY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBoZWFkZXIpXG4gICAgfSlcbiAgfVxufVxuIiwgIi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwibWRhc3QtdXRpbC10by1oYXN0XCIgLz5cbi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwibWRhc3QtdXRpbC1kaXJlY3RpdmVcIiAvPlxuXG5pbXBvcnQgdHlwZSB7IFJvb3QgfSBmcm9tICdtZGFzdCdcbmltcG9ydCB7IHZpc2l0IH0gZnJvbSAndW5pc3QtdXRpbC12aXNpdCdcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbWFya1R3b3NsYXNoKCkge1xuICByZXR1cm4gKHRyZWU6IFJvb3QpID0+IHtcbiAgICB2aXNpdCh0cmVlLCAobm9kZSkgPT4ge1xuICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ2NvZGUnKSB7XG4gICAgICAgIC8vIEFkZCBleHRyYSBuZXcgbGluZXMgYmV0d2VlbiBtdWx0aXBsZSB0d29zbGFzaCBhbm5vdGF0aW9ucyAoQGxvZywgQGVycm9yLCBldGMpXG4gICAgICAgIC8vIHNvIHRoYXQgdGhleSBjYW4gcmVuZGVyIGNvcnJlY3RseS5cbiAgICAgICAgbm9kZS52YWx1ZSA9IG5vZGUudmFsdWVcbiAgICAgICAgICAucmVwbGFjZSgvKFxcL1xcL1xcc0AuKjpcXHMuKilcXG4oXFwvXFwvKS9nLCAnJDFcXG5cXG4kMicpXG4gICAgICAgICAgLnJlcGxhY2UoLyhcXC9cXC9cXHNALio6XFxzLiopXFxuKFxcL1xcLykvZywgJyQxXFxuXFxuJDInKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IFNoaWtpVHJhbnNmb3JtZXIgfSBmcm9tICdzaGlraSdcblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybWVyRW1wdHlMaW5lID0gKCk6IFNoaWtpVHJhbnNmb3JtZXIgPT4gKHtcbiAgbmFtZTogJ2VtcHR5LWxpbmUnLFxuICBsaW5lKGhhc3QpIHtcbiAgICBjb25zdCBjaGlsZCA9IGhhc3QuY2hpbGRyZW5bMF1cbiAgICBpZiAoY2hpbGQpIHJldHVyblxuICAgIGhhc3QucHJvcGVydGllc1snZGF0YS1lbXB0eS1saW5lJ10gPSB0cnVlXG4gICAgaGFzdC5jaGlsZHJlbiA9IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICB2YWx1ZTogJyAnLFxuICAgICAgfSxcbiAgICBdXG4gIH0sXG59KVxuIiwgImltcG9ydCB0eXBlIHsgU2hpa2lUcmFuc2Zvcm1lciB9IGZyb20gJ3NoaWtpJ1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtZXJMaW5lTnVtYmVycyA9ICgpOiBTaGlraVRyYW5zZm9ybWVyID0+ICh7XG4gIG5hbWU6ICdsaW5lLW51bWJlcnMnLFxuICBjb2RlKGhhc3QpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5tZXRhPy5fX3Jhdz8uaW5jbHVkZXMoJ3Nob3dMaW5lTnVtYmVycycpKSByZXR1cm5cbiAgICBoYXN0LnByb3BlcnRpZXNbJ2RhdGEtbGluZS1udW1iZXJzJ10gPSB0cnVlXG4gIH0sXG59KVxuIiwgImltcG9ydCB0eXBlIHsgU2hpa2lUcmFuc2Zvcm1lciB9IGZyb20gJ3NoaWtpJ1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtZXJTcGxpdElkZW50aWZpZXJzID0gKCk6IFNoaWtpVHJhbnNmb3JtZXIgPT4gKHtcbiAgbmFtZTogJ3NwbGl0LWlkZW50aWZpZXJzJyxcbiAgc3BhbihoYXN0KSB7XG4gICAgLy8gb25seSBhcHBseSBmb3IgdHdvc2xhc2ggY29kZSBibG9ja3NcbiAgICBpZiAoIXRoaXMubWV0YS50d29zbGFzaCkgcmV0dXJuXG5cbiAgICBjb25zdCBjaGlsZCA9IGhhc3QuY2hpbGRyZW5bMF1cbiAgICBpZiAoY2hpbGQudHlwZSAhPT0gJ3RleHQnKSByZXR1cm5cbiAgICBpZiAoY2hpbGQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG4gICAgaWYgKGNoaWxkLnZhbHVlLm1hdGNoKC9cXC9cXC8gXFxbIS8pKSByZXR1cm5cblxuICAgIGxldCBpZGVudGlmaWVyID0gZmFsc2VcbiAgICBsZXQgaXRlbSA9ICcnXG4gICAgY29uc3QgaXRlbXMgPSBbXVxuXG4gICAgZm9yIChjb25zdCBjaGFyIG9mIGNoaWxkLnZhbHVlKSB7XG4gICAgICBpZiAoY2hhci5tYXRjaCgvXFx3LykpIHtcbiAgICAgICAgaWYgKCFpZGVudGlmaWVyKSB7XG4gICAgICAgICAgaXRlbXMucHVzaChpdGVtKVxuICAgICAgICAgIGl0ZW0gPSAnJ1xuICAgICAgICB9XG4gICAgICAgIGlkZW50aWZpZXIgPSB0cnVlXG4gICAgICAgIGl0ZW0gKz0gY2hhclxuICAgICAgfSBlbHNlIGlmIChjaGFyLm1hdGNoKC9cXFcvKSkge1xuICAgICAgICBpZiAoaWRlbnRpZmllcikge1xuICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSlcbiAgICAgICAgICBpdGVtID0gJydcbiAgICAgICAgfVxuICAgICAgICBpZGVudGlmaWVyID0gZmFsc2VcbiAgICAgICAgaXRlbSArPSBjaGFyXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGl0ZW0pIGl0ZW1zLnB1c2goaXRlbSlcblxuICAgIGhhc3QuY2hpbGRyZW4gPSBpdGVtcy5tYXAoKGl0ZW0pID0+ICh7IHR5cGU6ICd0ZXh0JywgdmFsdWU6IGl0ZW0gfSkpXG4gIH0sXG59KVxuIiwgImltcG9ydCB0eXBlIHsgU2hpa2lUcmFuc2Zvcm1lciB9IGZyb20gJ3NoaWtpJ1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtZXJUYWdMaW5lID0gKCk6IFNoaWtpVHJhbnNmb3JtZXIgPT4gKHtcbiAgbmFtZTogJ3RhZy1saW5lJyxcbiAgcm9vdChoYXN0KSB7XG4gICAgY29uc3QgbGluZXMgPSAoaGFzdC5jaGlsZHJlblswXSBhcyBhbnkpPy5jaGlsZHJlblswXT8uY2hpbGRyZW5cbiAgICBpZiAoIWxpbmVzKSByZXR1cm5cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tpXVxuICAgICAgaWYgKGxpbmUucHJvcGVydGllcz8uY2xhc3MuaW5jbHVkZXMoJ3R3b3NsYXNoLXRhZy1saW5lJykpIHtcbiAgICAgICAgbGluZXMuc3BsaWNlKGkgLSAxLCAwLCBsaW5lKVxuICAgICAgICBsaW5lcy5zcGxpY2UoaSArIDEsIDEpXG4gICAgICAgIGlmIChpICsgMSA9PT0gbGluZXMubGVuZ3RoKSBsaW5lcy5zcGxpY2UoaSwgMSlcbiAgICAgIH1cbiAgICB9XG4gIH0sXG59KVxuIiwgImltcG9ydCB0eXBlIHsgU2hpa2lUcmFuc2Zvcm1lciB9IGZyb20gJ3NoaWtpJ1xuXG5jb25zdCB0aXRsZVJlZ2V4ID0gL3RpdGxlPVwiKC4qKVwifFxcWyguKilcXF0vXG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm1lclRpdGxlID0gKCk6IFNoaWtpVHJhbnNmb3JtZXIgPT4gKHtcbiAgbmFtZTogJ3RpdGxlJyxcbiAgcm9vdChoYXN0KSB7XG4gICAgY29uc3QgdGl0bGVNYXRjaCA9IHRoaXMub3B0aW9ucy5tZXRhPy5fX3Jhdz8ubWF0Y2godGl0bGVSZWdleClcbiAgICBpZiAoIXRpdGxlTWF0Y2gpIHJldHVyblxuXG4gICAgY29uc3QgdGl0bGUgPSB0aXRsZU1hdGNoWzFdIHx8IHRpdGxlTWF0Y2hbMl1cbiAgICBjb25zdCBjaGlsZCA9IGhhc3QuY2hpbGRyZW5bMF0gYXMgYW55XG4gICAgaGFzdC5jaGlsZHJlbiA9IFtcbiAgICAgIHtcbiAgICAgICAgLi4uY2hpbGQsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAuLi5jaGlsZC5wcm9wZXJ0aWVzLFxuICAgICAgICAgICdkYXRhLXRpdGxlJzogdGl0bGUsXG4gICAgICAgICAgJ2RhdGEtbGFuZyc6IHRoaXMub3B0aW9ucy5sYW5nLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICBdXG4gIH0sXG59KVxuIiwgImltcG9ydCB0eXBlIHsgVHdvc2xhc2hSZW5kZXJlciB9IGZyb20gJ0BzaGlraWpzL3R3b3NsYXNoJ1xuaW1wb3J0IHR5cGUgeyBFbGVtZW50IH0gZnJvbSAnaGFzdCdcbmltcG9ydCB7IGZyb21NYXJrZG93biB9IGZyb20gJ21kYXN0LXV0aWwtZnJvbS1tYXJrZG93bidcbmltcG9ydCB7IGdmbUZyb21NYXJrZG93biB9IGZyb20gJ21kYXN0LXV0aWwtZ2ZtJ1xuaW1wb3J0IHsgZGVmYXVsdEhhbmRsZXJzLCB0b0hhc3QgfSBmcm9tICdtZGFzdC11dGlsLXRvLWhhc3QnXG5pbXBvcnQgdHlwZSB7IFNoaWtpVHJhbnNmb3JtZXJDb250ZXh0Q29tbW9uIH0gZnJvbSAnc2hpa2knXG5cbmltcG9ydCB7IHRyYW5zZm9ybWVyU2hyaW5rSW5kZW50IH0gZnJvbSAnLi90cmFuc2Zvcm1lclNocmlua0luZGVudC5qcydcblxuZXhwb3J0IGZ1bmN0aW9uIHR3b3NsYXNoUmVuZGVyZXIoKTogVHdvc2xhc2hSZW5kZXJlciB7XG4gIGZ1bmN0aW9uIGhpZ2h0bGlnaHRQb3B1cENvbnRlbnQoXG4gICAgY29kZVRvSGFzdDogU2hpa2lUcmFuc2Zvcm1lckNvbnRleHRDb21tb25bJ2NvZGVUb0hhc3QnXSxcbiAgICBzaGlraU9wdGlvbnM6IFNoaWtpVHJhbnNmb3JtZXJDb250ZXh0Q29tbW9uWydvcHRpb25zJ10sXG4gICAgaW5mbzogeyB0ZXh0Pzogc3RyaW5nOyBkb2NzPzogc3RyaW5nIH0sXG4gICkge1xuICAgIGlmICghaW5mby50ZXh0KSByZXR1cm4gW11cblxuICAgIGNvbnN0IHRleHQgPSBwcm9jZXNzSG92ZXJJbmZvKGluZm8udGV4dCkgPz8gaW5mby50ZXh0XG4gICAgaWYgKCF0ZXh0LnRyaW0oKSkgcmV0dXJuIFtdXG5cbiAgICBjb25zdCB0aGVtZWRDb250ZW50ID0gKFxuICAgICAgKFxuICAgICAgICBjb2RlVG9IYXN0KHRleHQsIHtcbiAgICAgICAgICAuLi5zaGlraU9wdGlvbnMsXG4gICAgICAgICAgdHJhbnNmb3JtZXJzOiBbdHJhbnNmb3JtZXJTaHJpbmtJbmRlbnQoKV0sXG4gICAgICAgIH0pLmNoaWxkcmVuWzBdIGFzIEVsZW1lbnRcbiAgICAgICkuY2hpbGRyZW5bMF0gYXMgRWxlbWVudFxuICAgICkuY2hpbGRyZW5cblxuICAgIGlmIChpbmZvLmRvY3MpIHtcbiAgICAgIGNvbnN0IHNhbnRpemVkID0gaW5mby5kb2NzXG4gICAgICAgIC5yZXBsYWNlKC9cXG4/eyhALiopP1xccypcXG4/L2csICcnKVxuICAgICAgICAucmVwbGFjZSgvXFxzKn1cXG4/L2csICcnKVxuICAgICAgICAucmVwbGFjZSgvKC4pXFxuKC4pL2csICckMSAkMicpXG4gICAgICAgIC5yZXBsYWNlKC9cXG4/LVxccy9nLCAnXFxuJylcbiAgICAgIGNvbnN0IG1kYXN0ID0gZnJvbU1hcmtkb3duKHNhbnRpemVkLCB7XG4gICAgICAgIG1kYXN0RXh0ZW5zaW9uczogW2dmbUZyb21NYXJrZG93bigpXSxcbiAgICAgIH0pXG4gICAgICBjb25zdCBoYXN0ID0gdG9IYXN0KG1kYXN0LCB7XG4gICAgICAgIGhhbmRsZXJzOiB7XG4gICAgICAgICAgY29kZTogKHN0YXRlLCBub2RlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsYW5nID0gbm9kZS5sYW5nIHx8ICcnXG4gICAgICAgICAgICBpZiAobGFuZykge1xuICAgICAgICAgICAgICByZXR1cm4gY29kZVRvSGFzdChub2RlLnZhbHVlLCB7XG4gICAgICAgICAgICAgICAgLi4uc2hpa2lPcHRpb25zLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybWVyczogW10sXG4gICAgICAgICAgICAgICAgbGFuZyxcbiAgICAgICAgICAgICAgfSkuY2hpbGRyZW5bMF0gYXMgRWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVycy5jb2RlKHN0YXRlLCBub2RlKVxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KSBhcyBFbGVtZW50XG4gICAgICBpZiAoaW5mby5kb2NzKSB7XG4gICAgICAgIHRoZW1lZENvbnRlbnQucHVzaCh7XG4gICAgICAgICAgdHlwZTogJ2VsZW1lbnQnLFxuICAgICAgICAgIHRhZ05hbWU6ICdkaXYnLFxuICAgICAgICAgIHByb3BlcnRpZXM6IHsgY2xhc3M6ICd0d29zbGFzaC1wb3B1cC1qc2RvYycgfSxcbiAgICAgICAgICBjaGlsZHJlbjogaGFzdC5jaGlsZHJlbixcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhlbWVkQ29udGVudFxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBub2RlU3RhdGljSW5mbyhpbmZvLCBub2RlKSB7XG4gICAgICBjb25zdCB0aGVtZWRDb250ZW50ID0gaGlnaHRsaWdodFBvcHVwQ29udGVudCh0aGlzLmNvZGVUb0hhc3QsIHRoaXMub3B0aW9ucywgaW5mbylcblxuICAgICAgaWYgKCF0aGVtZWRDb250ZW50Lmxlbmd0aCkgcmV0dXJuIG5vZGVcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2VsZW1lbnQnLFxuICAgICAgICB0YWdOYW1lOiAnc3BhbicsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBjbGFzczogJ3R3b3NsYXNoLWhvdmVyJyxcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiAnZWxlbWVudCcsXG4gICAgICAgICAgICB0YWdOYW1lOiAnZGl2JyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgY2xhc3M6ICd0d29zbGFzaC1wb3B1cC1pbmZvLWhvdmVyJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZHJlbjogdGhlbWVkQ29udGVudCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6ICdlbGVtZW50JyxcbiAgICAgICAgICAgIHRhZ05hbWU6ICdzcGFuJyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgY2xhc3M6ICd0d29zbGFzaC10YXJnZXQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbbm9kZV0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgbm9kZVF1ZXJ5KGluZm8sIG5vZGUpIHtcbiAgICAgIGlmICghaW5mby50ZXh0KSByZXR1cm4ge31cblxuICAgICAgY29uc3QgdGhlbWVkQ29udGVudCA9IGhpZ2h0bGlnaHRQb3B1cENvbnRlbnQodGhpcy5jb2RlVG9IYXN0LCB0aGlzLm9wdGlvbnMsIGluZm8pXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdlbGVtZW50JyxcbiAgICAgICAgdGFnTmFtZTogJ3NwYW4nLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgY2xhc3M6ICd0d29zbGFzaC1xdWVyeS1wZXJzaXN0ZWQnLFxuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6ICdlbGVtZW50JyxcbiAgICAgICAgICAgIHRhZ05hbWU6ICdzcGFuJyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgY2xhc3M6ICd0d29zbGFzaC1wb3B1cC1pbmZvJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2VsZW1lbnQnLFxuICAgICAgICAgICAgICAgIHRhZ05hbWU6ICdkaXYnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgY2xhc3M6ICd0d29zbGFzaC1wb3B1cC1hcnJvdycgfSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZWxlbWVudCcsXG4gICAgICAgICAgICAgICAgdGFnTmFtZTogJ2RpdicsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczogeyBjbGFzczogJ3R3b3NsYXNoLXBvcHVwLXNjcm9sbC1jb250YWluZXInIH0sXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IHRoZW1lZENvbnRlbnQsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbm9kZSxcbiAgICAgICAgXSxcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgbm9kZUNvbXBsZXRpb24ocXVlcnksIG5vZGUpIHtcbiAgICAgIGlmIChub2RlLnR5cGUgIT09ICd0ZXh0JylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBbc2hpa2ktdHdvc2xhc2hdIG5vZGVDb21wbGV0aW9uIG9ubHkgd29ya3Mgb24gdGV4dCBub2RlcywgZ290ICR7bm9kZS50eXBlfWAsXG4gICAgICAgIClcblxuICAgICAgY29uc3QgbGVmdFBhcnQgPSBxdWVyeS5jb21wbGV0aW9uc1ByZWZpeCB8fCAnJ1xuICAgICAgY29uc3QgcmlnaHRQYXJ0ID0gbm9kZS52YWx1ZS5zbGljZShsZWZ0UGFydC5sZW5ndGggfHwgMClcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2VsZW1lbnQnLFxuICAgICAgICB0YWdOYW1lOiAnc3BhbicsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIHZhbHVlOiBsZWZ0UGFydCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6ICdlbGVtZW50JyxcbiAgICAgICAgICAgIHRhZ05hbWU6ICdzcGFuJyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgY2xhc3M6ICd0d29zbGFzaC1jb21wbGV0aW9uLWN1cnNvcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdlbGVtZW50JyxcbiAgICAgICAgICAgICAgICB0YWdOYW1lOiAnZGl2JyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICBjbGFzczogJ3R3b3NsYXNoLWNvbXBsZXRpb24tbGlzdCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogcXVlcnkuY29tcGxldGlvbnMhLm1hcCgoaSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdlbGVtZW50JyxcbiAgICAgICAgICAgICAgICAgIHRhZ05hbWU6ICdkaXYnLFxuICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBjbGFzczogJ3R3b3NsYXNoLWNvbXBsZXRpb24tbGlzdC1pdGVtJyxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2VsZW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICAgIHRhZ05hbWU6ICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2tpbmRNb2RpZmllcnMnIGluIGkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGkua2luZE1vZGlmaWVycyA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaS5raW5kTW9kaWZpZXJzPy5zcGxpdCgnLCcpLmluY2x1ZGVzKCdkZXByZWNhdGVkJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdkZXByZWNhdGVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2VsZW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdOYW1lOiAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgY2xhc3M6ICd0d29zbGFzaC1jb21wbGV0aW9ucy1tYXRjaGVkJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpLm5hbWUuc3RhcnRzV2l0aChxdWVyeS5jb21wbGV0aW9uc1ByZWZpeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBxdWVyeS5jb21wbGV0aW9uc1ByZWZpeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZWxlbWVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ05hbWU6ICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogeyBjbGFzczogJ3R3b3NsYXNoLWNvbXBsZXRpb25zLXVubWF0Y2hlZCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaS5uYW1lLnN0YXJ0c1dpdGgocXVlcnkuY29tcGxldGlvbnNQcmVmaXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaS5uYW1lLnNsaWNlKHF1ZXJ5LmNvbXBsZXRpb25zUHJlZml4Lmxlbmd0aCB8fCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGkubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgdmFsdWU6IHJpZ2h0UGFydCxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfVxuICAgIH0sXG5cbiAgICBub2RlRXJyb3IoXywgbm9kZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2VsZW1lbnQnLFxuICAgICAgICB0YWdOYW1lOiAnc3BhbicsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBjbGFzczogJ3R3b3NsYXNoLWVycm9yJyxcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGRyZW46IFtub2RlXSxcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgbGluZUVycm9yKGVycm9yKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2VsZW1lbnQnLFxuICAgICAgICAgIHRhZ05hbWU6ICdkaXYnLFxuICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIGNsYXNzOiAndHdvc2xhc2gtbWV0YS1saW5lIHR3b3NsYXNoLWVycm9yLWxpbmUnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICB2YWx1ZTogZXJyb3IudGV4dCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIF1cbiAgICB9LFxuXG4gICAgbGluZUN1c3RvbVRhZyh0YWcpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnZWxlbWVudCcsXG4gICAgICAgICAgdGFnTmFtZTogJ2RpdicsXG4gICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgY2xhc3M6IGB0d29zbGFzaC10YWctbGluZSB0d29zbGFzaC10YWctJHt0YWcubmFtZX0tbGluZWAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgIHZhbHVlOiB0YWcudGV4dCB8fCAnJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIF1cbiAgICB9LFxuXG4gICAgbm9kZXNIaWdobGlnaHQoXywgbm9kZXMpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnZWxlbWVudCcsXG4gICAgICAgICAgdGFnTmFtZTogJ3NwYW4nLFxuICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIGNsYXNzOiAndHdvc2xhc2gtaGlnaGxpZ2h0ZWQnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2hpbGRyZW46IG5vZGVzLFxuICAgICAgICB9LFxuICAgICAgXVxuICAgIH0sXG4gIH1cbn1cblxuY29uc3QgcmVnZXhUeXBlID0gL15bQS1aXVthLXpBLVowLTlfXSooXFw8W15cXD5dKlxcPik/Oi9cbmNvbnN0IHJlZ2V4RnVuY3Rpb24gPSAvXlthLXpBLVowLTlfXSpcXCgvXG5cbi8qKlxuICogVGhlIGRlZmF1bHQgaG92ZXIgaW5mbyBwcm9jZXNzb3IsIHdoaWNoIHdpbGwgZG8gc29tZSBiYXNpYyBjbGVhbnVwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzSG92ZXJJbmZvKHR5cGU6IHN0cmluZykge1xuICBsZXQgY29udGVudCA9IHR5cGVcbiAgICAvLyByZW1vdmUgbGVhZGluZyBgKHByb3BlcnR5KWAgb3IgYChtZXRob2QpYCBvbiBlYWNoIGxpbmVcbiAgICAucmVwbGFjZSgvXlxcKChbXFx3LV0rPylcXClcXHMrL2dtLCAnJylcbiAgICAvLyByZW1vdmUgaW1wb3J0IHN0YXRlbWVudFxuICAgIC5yZXBsYWNlKC9cXG5pbXBvcnQgLiokLywgJycpXG4gICAgLy8gcmVtb3ZlIGludGVyZmFjZSBvciBuYW1lc3BhY2UgbGluZXMgd2l0aCBvbmx5IHRoZSBuYW1lXG4gICAgLnJlcGxhY2UoL14oaW50ZXJmYWNlfG5hbWVzcGFjZSkgXFx3KyQvZ20sICcnKVxuICAgIC50cmltKClcblxuICAvLyBBZGQgYHR5cGVgIG9yIGBmdW5jdGlvbmAga2V5d29yZCBpZiBuZWVkZWRcbiAgaWYgKGNvbnRlbnQubWF0Y2gocmVnZXhUeXBlKSkgY29udGVudCA9IGB0eXBlICR7Y29udGVudH1gXG4gIGVsc2UgaWYgKGNvbnRlbnQubWF0Y2gocmVnZXhGdW5jdGlvbikpIGNvbnRlbnQgPSBgZnVuY3Rpb24gJHtjb250ZW50fWBcblxuICByZXR1cm4gY29udGVudFxufVxuIiwgImltcG9ydCB0eXBlIHsgU2hpa2lUcmFuc2Zvcm1lciB9IGZyb20gJ3NoaWtpJ1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtZXJTaHJpbmtJbmRlbnQgPSAoKTogU2hpa2lUcmFuc2Zvcm1lciA9PiAoe1xuICBuYW1lOiAnaW5kZW50JyxcbiAgc3BhbihoYXN0LCBfLCBfXywgbGluZUVsZW1lbnQpIHtcbiAgICBjb25zdCBjaGlsZCA9IGhhc3QuY2hpbGRyZW5bMF1cbiAgICBpZiAoY2hpbGQudHlwZSAhPT0gJ3RleHQnKSByZXR1cm5cbiAgICBpZiAoIWNoaWxkLnZhbHVlKSByZXR1cm5cbiAgICBpZiAoY2hpbGQudmFsdWUudHJpbSgpLmxlbmd0aCAhPT0gMCkgcmV0dXJuXG4gICAgaWYgKGxpbmVFbGVtZW50LmNoaWxkcmVuLmxlbmd0aCAhPT0gMCkgcmV0dXJuXG4gICAgaGFzdC5jaGlsZHJlblswXSA9IHsgdHlwZTogJ3RleHQnLCB2YWx1ZTogY2hpbGQudmFsdWUucmVwbGFjZSgvXFxzXFxzL2csICcgJykgfVxuICB9LFxufSlcbiIsICJpbXBvcnQgeyBjcmVhdGVUd29zbGFzaGVyIH0gZnJvbSAndHdvc2xhc2gnXG5pbXBvcnQgKiBhcyBjYWNoZSBmcm9tICcuLi8uLi91dGlscy9jYWNoZS5qcydcbmltcG9ydCB7IGhhc2ggfSBmcm9tICcuLi8uLi91dGlscy9oYXNoLmpzJ1xuXG5jb25zdCB0d29zbGFzaGVyXyA9IGNyZWF0ZVR3b3NsYXNoZXIoKVxuXG5leHBvcnQgZnVuY3Rpb24gdHdvc2xhc2hlcihcbiAgLi4ucGFyYW1ldGVyczogUGFyYW1ldGVyczx0eXBlb2YgdHdvc2xhc2hlcl8+XG4pOiBSZXR1cm5UeXBlPHR5cGVvZiB0d29zbGFzaGVyXz4ge1xuICBjb25zdCBjb2RlSGFzaCA9IGhhc2gocGFyYW1ldGVyc1swXSlcbiAgaWYgKGNhY2hlLnR3b3NsYXNoLmdldChjb2RlSGFzaCkpIHJldHVybiBjYWNoZS50d29zbGFzaC5nZXQoY29kZUhhc2gpXG4gIHRyeSB7XG4gICAgY29uc3QgdHdvc2xhc2ggPSB0d29zbGFzaGVyXyguLi5wYXJhbWV0ZXJzKVxuICAgIGNhY2hlLnR3b3NsYXNoLnNldChjb2RlSGFzaCwgdHdvc2xhc2gpXG4gICAgcmV0dXJuIHR3b3NsYXNoXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zdCBlcnJvciA9IGUgYXMgRXJyb3JcbiAgICBjb25zdCBsaW5lcyA9IHBhcmFtZXRlcnNbMF0uc3BsaXQoJ1xcbicpXG4gICAgY29uc3QgbGluZSA9IGxpbmVzLmxlbmd0aCAtIDFcbiAgICByZXR1cm4ge1xuICAgICAgY29kZTogcGFyYW1ldGVyc1swXSxcbiAgICAgIG5vZGVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBmaWxlbmFtZTogJycsXG4gICAgICAgICAgbGV2ZWw6ICdlcnJvcicsXG4gICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICBjb2RlOiAwLFxuICAgICAgICAgIGxlbmd0aDogMTAwLFxuICAgICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICAgIGxpbmUsXG4gICAgICAgICAgY2hhcmFjdGVyOiAwLFxuICAgICAgICAgIHRleHQ6IGVycm9yLm1lc3NhZ2UucmVwbGFjZSgnXFxuJywgJycpLFxuICAgICAgICAgIGlkOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICBtZXRhOiB7fSxcbiAgICAgIHF1ZXJpZXM6IFtdLFxuICAgICAgY29tcGxldGlvbnM6IFtdLFxuICAgICAgZXJyb3JzOiBbXSxcbiAgICAgIGhpZ2hsaWdodHM6IFtdLFxuICAgICAgaG92ZXJzOiBbXSxcbiAgICAgIHRhZ3M6IFtdLFxuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7IGRpcm5hbWUsIHJlc29sdmUgfSBmcm9tICdub2RlOnBhdGgnXG5pbXBvcnQgeyBmaWxlVVJMVG9QYXRoIH0gZnJvbSAnbm9kZTp1cmwnXG5pbXBvcnQgeyBkZWZhdWx0IGFzIGZzIH0gZnJvbSAnZnMtZXh0cmEnXG5cbmNvbnN0IF9fZGlybmFtZSA9IGRpcm5hbWUoZmlsZVVSTFRvUGF0aChpbXBvcnQubWV0YS51cmwpKVxuXG5leHBvcnQgY29uc3Qgc2VhcmNoID0gY3JlYXRlKCdzZWFyY2gnKVxuZXhwb3J0IGNvbnN0IHR3b3NsYXNoID0gY3JlYXRlKCd0d29zbGFzaCcpXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoXG4gIGtleTogc3RyaW5nLFxuICB7IGNhY2hlRGlyID0gcmVzb2x2ZShfX2Rpcm5hbWUsICcuLi8udm9jcy9jYWNoZScpIH06IHsgY2FjaGVEaXI/OiBzdHJpbmcgfSA9IHt9LFxuKSB7XG4gIGxldCBjYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KClcblxuICBsZXQgaHlkcmF0ZWQgPSBmYWxzZVxuICBmdW5jdGlvbiBoeWRyYXRlKCkge1xuICAgIGNvbnN0IGRhdGEgPSBmcy5yZWFkSlNPTlN5bmMocmVzb2x2ZShjYWNoZURpciwgYCR7a2V5fS5qc29uYCksIHsgdGhyb3dzOiBmYWxzZSB9KVxuICAgIGlmIChkYXRhKSBjYWNoZSA9IG5ldyBNYXAoSlNPTi5wYXJzZShkYXRhKSlcbiAgICBoeWRyYXRlZCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIHNhdmUoKSB7XG4gICAgZnMuZW5zdXJlRGlyU3luYyhjYWNoZURpcilcbiAgICBmcy53cml0ZUpTT05TeW5jKHJlc29sdmUoY2FjaGVEaXIsIGAke2tleX0uanNvbmApLCBKU09OLnN0cmluZ2lmeShbLi4uY2FjaGVdKSlcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0KGtleTogc3RyaW5nKSB7XG4gICAgICBpZiAoIWh5ZHJhdGVkKSBoeWRyYXRlKClcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KVxuICAgIH0sXG4gICAgc2V0PHY+KGtleTogc3RyaW5nLCB2YWx1ZTogdikge1xuICAgICAgaWYgKCFoeWRyYXRlZCkgaHlkcmF0ZSgpXG4gICAgICBjYWNoZS5zZXQoa2V5LCB2YWx1ZSlcbiAgICAgIHNhdmUoKVxuICAgIH0sXG4gICAgZGVsZXRlKGtleTogc3RyaW5nKSB7XG4gICAgICBpZiAoIWh5ZHJhdGVkKSBoeWRyYXRlKClcbiAgICAgIGNhY2hlLmRlbGV0ZShrZXkpXG4gICAgICBzYXZlKClcbiAgICB9LFxuICAgIGNsZWFyKCkge1xuICAgICAgY2FjaGUuY2xlYXIoKVxuICAgICAgc2F2ZSgpXG4gICAgfSxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIoe1xuICBjYWNoZURpciA9IHJlc29sdmUoX19kaXJuYW1lLCAnLi4vLnZvY3MvY2FjaGUnKSxcbn06IHsgY2FjaGVEaXI/OiBzdHJpbmcgfSA9IHt9KSB7XG4gIGlmICghZnMuZXhpc3RzU3luYyhjYWNoZURpcikpIHJldHVyblxuICBmcy5ybVN5bmMoY2FjaGVEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pXG59XG4iLCAiaW1wb3J0IHsgY3JlYXRlSGFzaCB9IGZyb20gJ25vZGU6Y3J5cHRvJ1xuXG5leHBvcnQgZnVuY3Rpb24gaGFzaCh0ZXh0OiBCdWZmZXIgfCBzdHJpbmcsIGxlbmd0aD86IG51bWJlcik6IHN0cmluZyB7XG4gIGxldCBoYXNoID0gY3JlYXRlSGFzaCgnc2hhMjU2JykudXBkYXRlKHRleHQpLmRpZ2VzdCgnaGV4JylcbiAgaWYgKGxlbmd0aCkgaGFzaCA9IGhhc2guc3Vic3RyaW5nKDAsIGxlbmd0aClcbiAgcmV0dXJuIGhhc2hcbn1cbiIsICJpbXBvcnQgeyBkaXJuYW1lLCBleHRuYW1lLCByZXNvbHZlIH0gZnJvbSAnbm9kZTpwYXRoJ1xuaW1wb3J0IHsgZmlsZVVSTFRvUGF0aCB9IGZyb20gJ25vZGU6dXJsJ1xuaW1wb3J0IHsgdHlwZSBQbHVnaW5PcHRpb24gfSBmcm9tICd2aXRlJ1xuXG5pbXBvcnQgdHlwZSB7IFBhcnNlZENvbmZpZyB9IGZyb20gJy4uLy4uL2NvbmZpZy5qcydcbmltcG9ydCB7IHJlc29sdmVWb2NzQ29uZmlnIH0gZnJvbSAnLi4vdXRpbHMvcmVzb2x2ZVZvY3NDb25maWcuanMnXG5cbmNvbnN0IF9fZGlybmFtZSA9IGRpcm5hbWUoZmlsZVVSTFRvUGF0aChpbXBvcnQubWV0YS51cmwpKVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVZvY3NNb2R1bGVzKCk6IFBsdWdpbk9wdGlvbiB7XG4gIGxldCBjb25maWc6IFBhcnNlZENvbmZpZ1xuICByZXR1cm4ge1xuICAgIG5hbWU6ICdyZXNvbHZlLXZvY3MnLFxuICAgIGFzeW5jIGJ1aWxkU3RhcnQoKSB7XG4gICAgICBjb25maWcgPSAoYXdhaXQgcmVzb2x2ZVZvY3NDb25maWcoKSkuY29uZmlnXG4gICAgfSxcbiAgICB0cmFuc2Zvcm0oY29kZV8sIGlkKSB7XG4gICAgICBsZXQgY29kZSA9IGNvZGVfXG4gICAgICBpZiAoaWQuc3RhcnRzV2l0aChyZXNvbHZlKGNvbmZpZy5yb290RGlyKSkpIHtcbiAgICAgICAgaWYgKFsnLmpzJywgJy5qc3gnLCAnLnRzJywgJy50c3gnLCAnLm1kJywgJy5tZHgnXS5pbmNsdWRlcyhleHRuYW1lKGlkKSkpIHtcbiAgICAgICAgICBjb2RlID0gY29kZS5yZXBsYWNlKFxuICAgICAgICAgICAgL2ltcG9ydCAoLiopIGZyb20gKFwifCcpdm9jcyhcInwnKS9nLFxuICAgICAgICAgICAgYGltcG9ydCAkMSBmcm9tICQyJHtyZXNvbHZlKF9fZGlybmFtZSwgJy4uLy4uJyl9JDNgLFxuICAgICAgICAgIClcbiAgICAgICAgICBjb2RlID0gY29kZS5yZXBsYWNlKFxuICAgICAgICAgICAgL2ltcG9ydCAoLiopIGZyb20gKFwifCcpdm9jc1xcL2NvbXBvbmVudHMoXCJ8JykvZyxcbiAgICAgICAgICAgIGBpbXBvcnQgJDEgZnJvbSAkMiR7cmVzb2x2ZShfX2Rpcm5hbWUsICcuLi8uLi9jb21wb25lbnRzJyl9JDNgLFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNvZGVcbiAgICB9LFxuICB9XG59XG4iLCAiaW1wb3J0IHsgZXhpc3RzU3luYywgcmVhZEZpbGVTeW5jIH0gZnJvbSAnbm9kZTpmcydcbmltcG9ydCB7IHJlbGF0aXZlLCByZXNvbHZlIH0gZnJvbSAnbm9kZTpwYXRoJ1xuaW1wb3J0IE1pbmlTZWFyY2ggZnJvbSAnbWluaXNlYXJjaCdcbmltcG9ydCB7IHR5cGUgUGx1Z2luLCB0eXBlIFVzZXJDb25maWcsIHR5cGUgVml0ZURldlNlcnZlciwgY3JlYXRlTG9nZ2VyIH0gZnJvbSAndml0ZSdcblxuaW1wb3J0ICogYXMgY2FjaGUgZnJvbSAnLi4vdXRpbHMvY2FjaGUuanMnXG5pbXBvcnQgeyBoYXNoIGFzIGhhc2hfIH0gZnJvbSAnLi4vdXRpbHMvaGFzaC5qcydcbmltcG9ydCB7IHJlc29sdmVWb2NzQ29uZmlnIH0gZnJvbSAnLi4vdXRpbHMvcmVzb2x2ZVZvY3NDb25maWcuanMnXG5pbXBvcnQge1xuICBidWlsZEluZGV4LFxuICBkZWJ1ZyxcbiAgZ2V0RG9jSWQsXG4gIHByb2Nlc3NNZHgsXG4gIHNhdmVJbmRleCxcbiAgc3BsaXRQYWdlSW50b1NlY3Rpb25zLFxufSBmcm9tICcuLi91dGlscy9zZWFyY2guanMnXG5pbXBvcnQgeyBzbGFzaCB9IGZyb20gJy4uL3V0aWxzL3NsYXNoLmpzJ1xuXG5jb25zdCB2aXJ0dWFsTW9kdWxlSWQgPSAndmlydHVhbDpzZWFyY2hJbmRleCdcbmNvbnN0IHJlc29sdmVkVmlydHVhbE1vZHVsZUlkID0gYFxcMCR7dmlydHVhbE1vZHVsZUlkfWBcblxuY29uc3QgbG9nZ2VyID0gY3JlYXRlTG9nZ2VyKClcblxudHlwZSBJbmRleE9iamVjdCA9IHtcbiAgaHJlZjogc3RyaW5nXG4gIGh0bWw6IHN0cmluZ1xuICBpZDogc3RyaW5nXG4gIGlzUGFnZTogYm9vbGVhblxuICB0ZXh0OiBzdHJpbmdcbiAgdGl0bGU6IHN0cmluZ1xuICB0aXRsZXM6IHN0cmluZ1tdXG59XG5cbmNvbnN0IGRldiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2goKTogUHJvbWlzZTxQbHVnaW4+IHtcbiAgY29uc3QgeyBjb25maWcgfSA9IGF3YWl0IHJlc29sdmVWb2NzQ29uZmlnKClcblxuICBsZXQgaGFzaDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGxldCBpbmRleDogTWluaVNlYXJjaDxJbmRleE9iamVjdD5cbiAgbGV0IHNlYXJjaFByb21pc2U6IFByb21pc2U8TWluaVNlYXJjaDxJbmRleE9iamVjdD4+IHwgdW5kZWZpbmVkXG4gIGxldCBzZXJ2ZXI6IFZpdGVEZXZTZXJ2ZXIgfCB1bmRlZmluZWRcbiAgbGV0IHZpdGVDb25maWc6IFVzZXJDb25maWcgfCB1bmRlZmluZWRcblxuICBmdW5jdGlvbiBvbkluZGV4VXBkYXRlZCgpIHtcbiAgICBpZiAoIXNlcnZlcikgcmV0dXJuXG5cbiAgICBzZXJ2ZXIubW9kdWxlR3JhcGgub25GaWxlQ2hhbmdlKHJlc29sdmVkVmlydHVhbE1vZHVsZUlkKVxuICAgIC8vIEhNUlxuICAgIGNvbnN0IG1vZCA9IHNlcnZlci5tb2R1bGVHcmFwaC5nZXRNb2R1bGVCeUlkKHJlc29sdmVkVmlydHVhbE1vZHVsZUlkKVxuICAgIGlmICghbW9kKSByZXR1cm5cblxuICAgIHNlcnZlci53cy5zZW5kKHtcbiAgICAgIHR5cGU6ICd1cGRhdGUnLFxuICAgICAgdXBkYXRlczogW1xuICAgICAgICB7XG4gICAgICAgICAgYWNjZXB0ZWRQYXRoOiBtb2QudXJsLFxuICAgICAgICAgIHBhdGg6IG1vZC51cmwsXG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgIHR5cGU6ICdqcy11cGRhdGUnLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAndm9jczpzZWFyY2gnLFxuICAgIGNvbmZpZyhjb25maWcpIHtcbiAgICAgIHZpdGVDb25maWcgPSBjb25maWdcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9wdGltaXplRGVwczoge1xuICAgICAgICAgIGluY2x1ZGU6IFsndm9jcyA+IG1pbmlzZWFyY2gnXSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGJ1aWxkU3RhcnQoKSB7XG4gICAgICBpZiAoIXZpdGVDb25maWc/LmJ1aWxkPy5zc3IpIHtcbiAgICAgICAgY29uc3QgYnVpbGRTZWFyY2hJbmRleCA9IGNhY2hlLnNlYXJjaC5nZXQoJ2J1aWxkU2VhcmNoSW5kZXgnKVxuICAgICAgICBpZiAoIWRldiAmJiAhYnVpbGRTZWFyY2hJbmRleCkgcmV0dXJuXG5cbiAgICAgICAgc2VhcmNoUHJvbWlzZSA9IGJ1aWxkSW5kZXgoeyBiYXNlRGlyOiBjb25maWcucm9vdERpciB9KVxuICAgICAgICBpZiAoZGV2KSB7XG4gICAgICAgICAgbG9nZ2VyLmluZm8oJ2J1aWxkaW5nIHNlYXJjaCBpbmRleC4uLicsIHsgdGltZXN0YW1wOiB0cnVlIH0pXG4gICAgICAgICAgaW5kZXggPSBhd2FpdCBzZWFyY2hQcm9taXNlXG4gICAgICAgICAgb25JbmRleFVwZGF0ZWQoKVxuICAgICAgICAgIHNlYXJjaFByb21pc2UgPSB1bmRlZmluZWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgY29uZmlndXJlU2VydmVyKGRldlNlcnZlcikge1xuICAgICAgc2VydmVyID0gZGV2U2VydmVyXG4gICAgfSxcbiAgICByZXNvbHZlSWQoaWQpIHtcbiAgICAgIGlmIChpZCAhPT0gdmlydHVhbE1vZHVsZUlkKSByZXR1cm5cbiAgICAgIHJldHVybiByZXNvbHZlZFZpcnR1YWxNb2R1bGVJZFxuICAgIH0sXG4gICAgYXN5bmMgbG9hZChpZCkge1xuICAgICAgaWYgKGlkICE9PSByZXNvbHZlZFZpcnR1YWxNb2R1bGVJZCkgcmV0dXJuXG4gICAgICBpZiAoZGV2KVxuICAgICAgICByZXR1cm4gYGV4cG9ydCBjb25zdCBnZXRTZWFyY2hJbmRleCA9IGFzeW5jICgpID0+ICR7SlNPTi5zdHJpbmdpZnkoSlNPTi5zdHJpbmdpZnkoaW5kZXgpKX1gXG5cbiAgICAgIGlmIChzZWFyY2hQcm9taXNlKSB7XG4gICAgICAgIGluZGV4ID0gYXdhaXQgc2VhcmNoUHJvbWlzZVxuICAgICAgICBzZWFyY2hQcm9taXNlID0gdW5kZWZpbmVkXG4gICAgICAgIGhhc2ggPSBzYXZlSW5kZXgodml0ZUNvbmZpZz8uYnVpbGQ/Lm91dERpciEsIGluZGV4KVxuICAgICAgfSBlbHNlIGlmICghaGFzaCkge1xuICAgICAgICBpZiAoIXZpdGVDb25maWc/LmJ1aWxkPy5zc3IpIGhhc2ggPSBoYXNoXyhEYXRlLm5vdygpLnRvU3RyaW5nKCksIDgpXG4gICAgICAgIGVsc2UgaGFzaCA9IGNhY2hlLnNlYXJjaC5nZXQoJ2hhc2gnKVxuICAgICAgfVxuXG4gICAgICBjYWNoZS5zZWFyY2guc2V0KCdoYXNoJywgaGFzaClcblxuICAgICAgcmV0dXJuIGBleHBvcnQgY29uc3QgZ2V0U2VhcmNoSW5kZXggPSBhc3luYyAoKSA9PiBKU09OLnN0cmluZ2lmeShhd2FpdCAoKGF3YWl0IGZldGNoKFwiJHtjb25maWcuYmFzZVBhdGh9Ly52b2NzL3NlYXJjaC1pbmRleC0ke2hhc2h9Lmpzb25cIikpLmpzb24oKSkpYFxuICAgIH0sXG4gICAgYXN5bmMgaGFuZGxlSG90VXBkYXRlKHsgZmlsZSB9KSB7XG4gICAgICBpZiAoIWZpbGUuZW5kc1dpdGgoJy5tZCcpICYmICFmaWxlLmVuZHNXaXRoKCcubWR4JykpIHJldHVyblxuXG4gICAgICBjb25zdCBmaWxlSWQgPSBnZXREb2NJZChjb25maWcucm9vdERpciwgZmlsZSlcbiAgICAgIGlmICghZXhpc3RzU3luYyhmaWxlKSkgcmV0dXJuXG5cbiAgICAgIGNvbnN0IG1keCA9IHJlYWRGaWxlU3luYyhmaWxlLCAndXRmLTgnKVxuICAgICAgY29uc3QgcmVuZGVyZWQgPSBhd2FpdCBwcm9jZXNzTWR4KG1keClcbiAgICAgIGNvbnN0IHNlY3Rpb25zID0gc3BsaXRQYWdlSW50b1NlY3Rpb25zKHJlbmRlcmVkKVxuICAgICAgaWYgKHNlY3Rpb25zLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG5cbiAgICAgIGNvbnN0IHBhZ2VzRGlyUGF0aCA9IHJlc29sdmUoY29uZmlnLnJvb3REaXIsICdwYWdlcycpXG4gICAgICBjb25zdCByZWxhdGl2ZVBhZ2VzRGlyUGF0aCA9IHJlbGF0aXZlKGNvbmZpZy5yb290RGlyLCBwYWdlc0RpclBhdGgpXG5cbiAgICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBzZWN0aW9ucykge1xuICAgICAgICBjb25zdCBpZCA9IGAke2ZpbGVJZH0jJHtzZWN0aW9uLmFuY2hvcn1gXG4gICAgICAgIGlmIChpbmRleC5oYXMoaWQpKSB7XG4gICAgICAgICAgaW5kZXguZGlzY2FyZChpZClcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWxGaWxlID0gc2xhc2gocmVsYXRpdmUoY29uZmlnLnJvb3REaXIsIGZpbGVJZCkpXG4gICAgICAgIGNvbnN0IGhyZWYgPSByZWxGaWxlLnJlcGxhY2UocmVsYXRpdmVQYWdlc0RpclBhdGgsICcnKS5yZXBsYWNlKC9cXC4oLiopLywgJycpXG4gICAgICAgIGluZGV4LmFkZCh7XG4gICAgICAgICAgaHJlZjogYCR7aHJlZn0jJHtzZWN0aW9uLmFuY2hvcn1gLFxuICAgICAgICAgIGh0bWw6IHNlY3Rpb24uaHRtbCxcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBpc1BhZ2U6IHNlY3Rpb24uaXNQYWdlLFxuICAgICAgICAgIHRleHQ6IHNlY3Rpb24udGV4dCxcbiAgICAgICAgICB0aXRsZTogc2VjdGlvbi50aXRsZXMuYXQoLTEpISxcbiAgICAgICAgICB0aXRsZXM6IHNlY3Rpb24udGl0bGVzLnNsaWNlKDAsIC0xKSxcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgZGVidWcoJ3ZvY3M6c2VhcmNoID4gdXBkYXRlZCcsIGZpbGUpXG5cbiAgICAgIG9uSW5kZXhVcGRhdGVkKClcbiAgICB9LFxuICB9XG59XG4iLCAiaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSAnbm9kZTpmcydcbmltcG9ydCB7IGpvaW4sIHJlbGF0aXZlLCByZXNvbHZlIH0gZnJvbSAnbm9kZTpwYXRoJ1xuaW1wb3J0IHsgcGF0aFRvRmlsZVVSTCB9IGZyb20gJ3VybCdcbmltcG9ydCB7IGNvbXBpbGUsIHJ1biB9IGZyb20gJ0BtZHgtanMvbWR4J1xuaW1wb3J0IGRlYnVnXyBmcm9tICdkZWJ1ZydcbmltcG9ydCB7IGRlZmF1bHQgYXMgZnMgfSBmcm9tICdmcy1leHRyYSdcbmltcG9ydCB7IGdsb2JieSB9IGZyb20gJ2dsb2JieSdcbmltcG9ydCBNaW5pU2VhcmNoIGZyb20gJ21pbmlzZWFyY2gnXG5pbXBvcnQgeyBGcmFnbWVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgcmVuZGVyVG9TdGF0aWNNYXJrdXAgfSBmcm9tICdyZWFjdC1kb20vc2VydmVyJ1xuaW1wb3J0ICogYXMgcnVudGltZSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSdcblxuaW1wb3J0IHsgZ2V0UmVoeXBlUGx1Z2lucywgZ2V0UmVtYXJrUGx1Z2lucyB9IGZyb20gJy4uL3BsdWdpbnMvbWR4LmpzJ1xuaW1wb3J0ICogYXMgY2FjaGUgZnJvbSAnLi9jYWNoZS5qcydcbmltcG9ydCB7IGhhc2ggfSBmcm9tICcuL2hhc2guanMnXG5pbXBvcnQgeyBzbGFzaCB9IGZyb20gJy4vc2xhc2guanMnXG5cbmV4cG9ydCBjb25zdCBkZWJ1ZyA9IGRlYnVnXygndm9jczpzZWFyY2gnKVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYnVpbGRJbmRleCh7XG4gIGJhc2VEaXIsXG59OiB7XG4gIGJhc2VEaXI6IHN0cmluZ1xufSkge1xuICBjb25zdCBwYWdlc1BhdGhzID0gYXdhaXQgZ2xvYmJ5KGAke3Jlc29sdmUoYmFzZURpciwgJ3BhZ2VzJyl9LyoqLyoue21kLG1keH1gKVxuXG4gIGNvbnN0IGRvY3VtZW50cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgIHBhZ2VzUGF0aHMubWFwKGFzeW5jIChwYWdlUGF0aCkgPT4ge1xuICAgICAgY29uc3QgbWR4ID0gcmVhZEZpbGVTeW5jKHBhZ2VQYXRoLCAndXRmLTgnKVxuICAgICAgY29uc3Qga2V5ID0gYGluZGV4LiR7aGFzaChwYWdlUGF0aCl9YFxuICAgICAgY29uc3QgcGFnZUNhY2hlID0gY2FjaGUuc2VhcmNoLmdldChrZXkpID8/IHt9XG4gICAgICBpZiAocGFnZUNhY2hlLm1keCA9PT0gbWR4KSByZXR1cm4gcGFnZUNhY2hlLmRvY3VtZW50XG5cbiAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCBwcm9jZXNzTWR4KG1keClcblxuICAgICAgY29uc3Qgc2VjdGlvbnMgPSBzcGxpdFBhZ2VJbnRvU2VjdGlvbnMoaHRtbClcbiAgICAgIGlmIChzZWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY2FjaGUuc2VhcmNoLnNldChrZXksIHsgbWR4LCBkb2N1bWVudDogW10gfSlcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGZpbGVJZCA9IGdldERvY0lkKGJhc2VEaXIsIHBhZ2VQYXRoKVxuXG4gICAgICBjb25zdCByZWxGaWxlID0gc2xhc2gocmVsYXRpdmUoYmFzZURpciwgZmlsZUlkKSlcbiAgICAgIGNvbnN0IGhyZWYgPSByZWxGaWxlXG4gICAgICAgIC5yZXBsYWNlKHJlbGF0aXZlKGJhc2VEaXIsIHJlc29sdmUoYmFzZURpciwgJ3BhZ2VzJykpLCAnJylcbiAgICAgICAgLnJlcGxhY2UoL1xcLiguKikvLCAnJylcblxuICAgICAgY29uc3QgZG9jdW1lbnQgPSBzZWN0aW9ucy5tYXAoKHNlY3Rpb24pID0+ICh7XG4gICAgICAgIGhyZWY6IGAke2hyZWZ9IyR7c2VjdGlvbi5hbmNob3J9YCxcbiAgICAgICAgaHRtbDogc2VjdGlvbi5odG1sLFxuICAgICAgICBpZDogYCR7ZmlsZUlkfSMke3NlY3Rpb24uYW5jaG9yfWAsXG4gICAgICAgIGlzUGFnZTogc2VjdGlvbi5pc1BhZ2UsXG4gICAgICAgIHRleHQ6IHNlY3Rpb24udGV4dCxcbiAgICAgICAgdGl0bGU6IHNlY3Rpb24udGl0bGVzLmF0KC0xKSEsXG4gICAgICAgIHRpdGxlczogc2VjdGlvbi50aXRsZXMuc2xpY2UoMCwgLTEpLFxuICAgICAgfSkpXG5cbiAgICAgIGNhY2hlLnNlYXJjaC5zZXQoa2V5LCB7IG1keCwgZG9jdW1lbnQgfSlcblxuICAgICAgcmV0dXJuIGRvY3VtZW50XG4gICAgfSksXG4gIClcblxuICBjb25zdCBpbmRleCA9IG5ldyBNaW5pU2VhcmNoKHtcbiAgICBmaWVsZHM6IFsndGl0bGUnLCAndGl0bGVzJywgJ3RleHQnXSxcbiAgICBzdG9yZUZpZWxkczogWydocmVmJywgJ2h0bWwnLCAnaXNQYWdlJywgJ3RleHQnLCAndGl0bGUnLCAndGl0bGVzJ10sXG4gICAgLy8gVE9ET1xuICAgIC8vIC4uLm9wdGlvbnMubWluaVNlYXJjaD8ub3B0aW9ucyxcbiAgfSlcbiAgYXdhaXQgaW5kZXguYWRkQWxsQXN5bmMoZG9jdW1lbnRzLmZsYXQoKSlcblxuICBkZWJ1Zyhgdm9jczpzZWFyY2ggPiBpbmRleGVkICR7cGFnZXNQYXRocy5sZW5ndGh9IGZpbGVzYClcblxuICByZXR1cm4gaW5kZXhcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVJbmRleChvdXREaXI6IHN0cmluZywgaW5kZXg6IE1pbmlTZWFyY2gpIHtcbiAgY29uc3QganNvbiA9IGluZGV4LnRvSlNPTigpXG4gIGNvbnN0IGhhc2hfID0gY2FjaGUuc2VhcmNoLmdldCgnaGFzaCcpIHx8IGhhc2goSlNPTi5zdHJpbmdpZnkoanNvbiksIDgpXG4gIGNvbnN0IGRpciA9IGpvaW4ob3V0RGlyLCAnLnZvY3MnKVxuICBmcy5lbnN1cmVEaXJTeW5jKGRpcilcbiAgZnMud3JpdGVKU09OU3luYyhqb2luKGRpciwgYHNlYXJjaC1pbmRleC0ke2hhc2hffS5qc29uYCksIGpzb24pXG4gIHJldHVybiBoYXNoX1xufVxuXG5jb25zdCByZW1hcmtQbHVnaW5zID0gZ2V0UmVtYXJrUGx1Z2lucygpXG5jb25zdCByZWh5cGVQbHVnaW5zID0gZ2V0UmVoeXBlUGx1Z2lucyh7IHR3b3NsYXNoOiBmYWxzZSB9KVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc01keChmaWxlOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjb21waWxlZCA9IGF3YWl0IGNvbXBpbGUoZmlsZSwge1xuICAgICAgYmFzZVVybDogcGF0aFRvRmlsZVVSTChmaWxlKS5ocmVmLFxuICAgICAgb3V0cHV0Rm9ybWF0OiAnZnVuY3Rpb24tYm9keScsXG4gICAgICByZW1hcmtQbHVnaW5zLFxuICAgICAgcmVoeXBlUGx1Z2lucyxcbiAgICB9KVxuICAgIGNvbnN0IHsgZGVmYXVsdDogTURYQ29udGVudCB9ID0gYXdhaXQgcnVuKGNvbXBpbGVkLCB7IC4uLnJ1bnRpbWUsIEZyYWdtZW50IH0pXG4gICAgY29uc3QgaHRtbCA9IHJlbmRlclRvU3RhdGljTWFya3VwKFxuICAgICAgTURYQ29udGVudCh7XG4gICAgICAgIC8vIFRPRE86IFBhc3MgY29tcG9uZW50cyAtIHZhbmlsbGEgZXh0cmFjdCBhbmQgdmlydHVhbCBtb2R1bGUgZXJyb3JzXG4gICAgICAgIC8vIGNvbXBvbmVudHMsXG4gICAgICB9KSxcbiAgICApXG4gICAgcmV0dXJuIGh0bWxcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBUT0RPOiBSZXNvbHZlIGltcG9ydHMgKGUuZy4gdmlydHVhbCBtb2R1bGVzKVxuICAgIHJldHVybiAnJ1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREb2NJZChiYXNlRGlyOiBzdHJpbmcsIGZpbGU6IHN0cmluZykge1xuICBjb25zdCByZWxGaWxlID0gc2xhc2gocmVsYXRpdmUoYmFzZURpciwgZmlsZSkpXG4gIGxldCBpZCA9IHNsYXNoKGpvaW4oYmFzZURpciwgcmVsRmlsZSkpXG4gIGlkID0gaWQucmVwbGFjZSgvKF58XFwvKWluZGV4XFwuKG1keHxodG1sKT8kLywgJyQxJylcbiAgcmV0dXJuIGlkXG59XG5cbmNvbnN0IGhlYWRpbmdSZWdleCA9IC88aChcXGQqKS4qPz4oLio/PGEuKj8gaHJlZj1cIi4qP1wiLio/Pi4qPzxcXC9hPik8XFwvaFxcMT4vZ2lcbmNvbnN0IGhlYWRpbmdDb250ZW50UmVnZXggPSAvKC4qPyk8YS4qPyBocmVmPVwiLio/IyguKj8pXCIuKj8+Lio/PFxcL2E+L2lcblxudHlwZSBQYWdlU2VjdGlvbiA9IHtcbiAgYW5jaG9yOiBzdHJpbmdcbiAgaHRtbDogc3RyaW5nXG4gIGlzUGFnZTogYm9vbGVhblxuICB0ZXh0OiBzdHJpbmdcbiAgdGl0bGVzOiBzdHJpbmdbXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRQYWdlSW50b1NlY3Rpb25zKGh0bWw6IHN0cmluZykge1xuICBjb25zdCByZXN1bHQgPSBodG1sLnNwbGl0KGhlYWRpbmdSZWdleClcbiAgcmVzdWx0LnNoaWZ0KClcblxuICBsZXQgcGFyZW50VGl0bGVzOiBzdHJpbmdbXSA9IFtdXG4gIGNvbnN0IHNlY3Rpb25zOiBQYWdlU2VjdGlvbltdID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpICs9IDMpIHtcbiAgICBjb25zdCBsZXZlbCA9IHBhcnNlSW50KHJlc3VsdFtpXSkgLSAxXG4gICAgY29uc3QgaGVhZGluZyA9IHJlc3VsdFtpICsgMV1cbiAgICBjb25zdCBoZWFkaW5nUmVzdWx0ID0gaGVhZGluZ0NvbnRlbnRSZWdleC5leGVjKGhlYWRpbmcpXG4gICAgY29uc3QgdGl0bGUgPSBjbGVhckh0bWxUYWdzKGhlYWRpbmdSZXN1bHQ/LlsxXSA/PyAnJykudHJpbSgpXG4gICAgY29uc3QgYW5jaG9yID0gaGVhZGluZ1Jlc3VsdD8uWzJdID8/ICcnXG4gICAgY29uc3QgY29udGVudCA9IHJlc3VsdFtpICsgMl1cbiAgICBpZiAoIXRpdGxlIHx8ICFjb250ZW50KSBjb250aW51ZVxuXG4gICAgY29uc3QgdGl0bGVzID0gcGFyZW50VGl0bGVzLnNsaWNlKDAsIGxldmVsKVxuICAgIHRpdGxlc1tsZXZlbF0gPSB0aXRsZVxuICAgIHNlY3Rpb25zLnB1c2goe1xuICAgICAgYW5jaG9yLFxuICAgICAgaHRtbDogY29udGVudCxcbiAgICAgIGlzUGFnZTogaSA9PT0gMCxcbiAgICAgIHRpdGxlcyxcbiAgICAgIHRleHQ6IGdldFNlYXJjaGFibGVUZXh0KGNvbnRlbnQpLFxuICAgIH0pXG5cbiAgICBpZiAobGV2ZWwgPT09IDApIHBhcmVudFRpdGxlcyA9IFt0aXRsZV1cbiAgICBlbHNlIHBhcmVudFRpdGxlc1tsZXZlbF0gPSB0aXRsZVxuICB9XG5cbiAgcmV0dXJuIHNlY3Rpb25zXG59XG5cbmZ1bmN0aW9uIGdldFNlYXJjaGFibGVUZXh0KGNvbnRlbnQ6IHN0cmluZykge1xuICByZXR1cm4gY2xlYXJIdG1sVGFncyhjb250ZW50KVxufVxuXG5mdW5jdGlvbiBjbGVhckh0bWxUYWdzKHN0cjogc3RyaW5nKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvPFtePl0qPi9nLCAnJylcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gc2xhc2gocDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHAucmVwbGFjZSgvXFxcXC9nLCAnLycpXG59XG4iLCAiaW1wb3J0IHsgcmVsYXRpdmUsIHJlc29sdmUgfSBmcm9tICdub2RlOnBhdGgnXG5pbXBvcnQgeyBkZWZhdWx0IGFzIGZzIH0gZnJvbSAnZnMtZXh0cmEnXG5pbXBvcnQgeyBnbG9iYnkgfSBmcm9tICdnbG9iYnknXG5pbXBvcnQgcmVtYXJrUGFyc2UgZnJvbSAncmVtYXJrLXBhcnNlJ1xuaW1wb3J0IHsgdHlwZSBQbHVnaW4sIHVuaWZpZWQgfSBmcm9tICd1bmlmaWVkJ1xuaW1wb3J0IHsgdHlwZSBQbHVnaW5PcHRpb24gfSBmcm9tICd2aXRlJ1xuaW1wb3J0IHsgcGFyc2UgfSBmcm9tICd5YW1sJ1xuXG5pbXBvcnQgdHlwZSB7IEJsb2dQb3N0LCBGcm9udG1hdHRlciB9IGZyb20gJy4uLy4uL2FwcC90eXBlcy5qcydcbmltcG9ydCB7IHJlc29sdmVWb2NzQ29uZmlnIH0gZnJvbSAnLi4vdXRpbHMvcmVzb2x2ZVZvY3NDb25maWcuanMnXG5pbXBvcnQgeyBnZXRSZW1hcmtQbHVnaW5zIH0gZnJvbSAnLi9tZHguanMnXG5cbmNvbnN0IHJlbWFya1BsdWdpbnMgPSBnZXRSZW1hcmtQbHVnaW5zKClcblxuZXhwb3J0IGZ1bmN0aW9uIHZpcnR1YWxCbG9nKCk6IFBsdWdpbk9wdGlvbiB7XG4gIGNvbnN0IHZpcnR1YWxNb2R1bGVJZCA9ICd2aXJ0dWFsOmJsb2cnXG4gIGNvbnN0IHJlc29sdmVkVmlydHVhbE1vZHVsZUlkID0gYFxcMCR7dmlydHVhbE1vZHVsZUlkfWBcblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdibG9nJyxcbiAgICByZXNvbHZlSWQoaWQpIHtcbiAgICAgIGlmIChpZCA9PT0gdmlydHVhbE1vZHVsZUlkKSByZXR1cm4gcmVzb2x2ZWRWaXJ0dWFsTW9kdWxlSWRcbiAgICAgIHJldHVyblxuICAgIH0sXG4gICAgYXN5bmMgbG9hZChpZCkge1xuICAgICAgaWYgKGlkID09PSByZXNvbHZlZFZpcnR1YWxNb2R1bGVJZCkge1xuICAgICAgICBjb25zdCB7IGNvbmZpZyB9ID0gYXdhaXQgcmVzb2x2ZVZvY3NDb25maWcoKVxuICAgICAgICBjb25zdCB7IGJsb2dEaXIsIHJvb3REaXIgfSA9IGNvbmZpZ1xuXG4gICAgICAgIGNvbnN0IGJsb2dEaXJfcmVzb2x2ZWQgPSByZXNvbHZlKHJvb3REaXIsIGJsb2dEaXIpXG5cbiAgICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCBnbG9iYnkoYCR7YmxvZ0Rpcl9yZXNvbHZlZH0vKiovKi57bWQsbWR4fWApXG5cbiAgICAgICAgY29uc3QgcG9zdHM6IEJsb2dQb3N0W10gPSBbXVxuXG4gICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgICAgICAgIGlmIChmaWxlLnN0YXJ0c1dpdGgoYCR7YmxvZ0Rpcl9yZXNvbHZlZH0vaW5kZXhgKSkgY29udGludWVcbiAgICAgICAgICBjb25zdCBjb250ZW50cyA9IGZzLnJlYWRGaWxlU3luYyhmaWxlLCAndXRmLTgnKVxuICAgICAgICAgIGNvbnN0IHBhcnNlciA9IHVuaWZpZWQoKS51c2UocmVtYXJrUGFyc2UpXG4gICAgICAgICAgZm9yIChjb25zdCBwbHVnaW4gb2YgcmVtYXJrUGx1Z2lucykge1xuICAgICAgICAgICAgcGFyc2VyLnVzZShwbHVnaW4gYXMgUGx1Z2luKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBhc3QgPSBwYXJzZXIucGFyc2UoY29udGVudHMpXG5cbiAgICAgICAgICBjb25zdCBmcm9udG1hdHRlciA9ICgoKSA9PiB7XG4gICAgICAgICAgICBsZXQgZnJvbnRtYXR0ZXIgPSB7fVxuICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGFzdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICBpZiAobm9kZS50eXBlID09PSAneWFtbCcpIHtcbiAgICAgICAgICAgICAgICBmcm9udG1hdHRlciA9IHBhcnNlKG5vZGUudmFsdWUpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZyb250bWF0dGVyIGFzIEZyb250bWF0dGVyXG4gICAgICAgICAgfSkoKVxuXG4gICAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChmcm9udG1hdHRlci5kZXNjcmlwdGlvbikgcmV0dXJuIGZyb250bWF0dGVyLmRlc2NyaXB0aW9uXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgYXN0LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgIGlmIChub2RlLnR5cGUgPT09ICdwYXJhZ3JhcGgnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChub2RlLmNoaWxkcmVuWzBdIGFzIGFueSkudmFsdWUgYXMgc3RyaW5nXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnJ1xuICAgICAgICAgIH0pKClcbiAgICAgICAgICBpZiAoZGVzY3JpcHRpb24ubGVuZ3RoID4gMjAwKSBkZXNjcmlwdGlvbiA9IGAke2Rlc2NyaXB0aW9uLnNsaWNlKDAsIDIwMCl9XHUyMDI2YFxuXG4gICAgICAgICAgY29uc3QgdGl0bGUgPSAoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGZyb250bWF0dGVyLnRpdGxlKSByZXR1cm4gZnJvbnRtYXR0ZXIudGl0bGVcbiAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBhc3QuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ2hlYWRpbmcnICYmIG5vZGUuZGVwdGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKG5vZGUuY2hpbGRyZW5bMF0gYXMgYW55KS52YWx1ZSBhcyBzdHJpbmdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICcnXG4gICAgICAgICAgfSkoKVxuXG4gICAgICAgICAgY29uc3QgZGF0ZSA9ICgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZnJvbnRtYXR0ZXIuZGF0ZSkgcmV0dXJuIGZyb250bWF0dGVyLmRhdGVcbiAgICAgICAgICAgIGNvbnN0IHsgbXRpbWUgfSA9IGZzLnN0YXRTeW5jKGZpbGUpXG4gICAgICAgICAgICByZXR1cm4gbXRpbWUudG9JU09TdHJpbmcoKVxuICAgICAgICAgIH0pKClcblxuICAgICAgICAgIGNvbnN0IHBhdGggPSBgLyR7cmVsYXRpdmUocmVzb2x2ZShyb290RGlyLCAncGFnZXMnKSwgZmlsZSkucmVwbGFjZSgvXFwuKG1kfG1keCkkLywgJycpfWBcblxuICAgICAgICAgIHBvc3RzLnB1c2goe1xuICAgICAgICAgICAgYXV0aG9yczogZnJvbnRtYXR0ZXIuYXV0aG9ycyxcbiAgICAgICAgICAgIGRhdGUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcG9zdHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgIGlmICghYS5kYXRlKSByZXR1cm4gMVxuICAgICAgICAgIGlmICghYi5kYXRlKSByZXR1cm4gLTFcbiAgICAgICAgICByZXR1cm4gbmV3IERhdGUoYi5kYXRlKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLmRhdGUpLmdldFRpbWUoKVxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBgZXhwb3J0IGNvbnN0IHBvc3RzID0gJHtKU09OLnN0cmluZ2lmeShwb3N0cyl9O2BcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH0sXG4gICAgaGFuZGxlSG90VXBkYXRlKCkge1xuICAgICAgLy8gVE9ETzogaGFuZGxlIGNoYW5nZXNcbiAgICAgIHJldHVyblxuICAgIH0sXG4gIH1cbn1cbiIsICJpbXBvcnQgeyB0eXBlIFBsdWdpbk9wdGlvbiB9IGZyb20gJ3ZpdGUnXG5cbmltcG9ydCB7IHJlc29sdmVWb2NzQ29uZmlnIH0gZnJvbSAnLi4vdXRpbHMvcmVzb2x2ZVZvY3NDb25maWcuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiB2aXJ0dWFsQ29uZmlnKCk6IFBsdWdpbk9wdGlvbiB7XG4gIGNvbnN0IHZpcnR1YWxNb2R1bGVJZCA9ICd2aXJ0dWFsOmNvbmZpZydcbiAgY29uc3QgcmVzb2x2ZWRWaXJ0dWFsTW9kdWxlSWQgPSBgXFwwJHt2aXJ0dWFsTW9kdWxlSWR9YFxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogJ3ZvY3MtY29uZmlnJyxcbiAgICBhc3luYyBjb25maWd1cmVTZXJ2ZXIoc2VydmVyKSB7XG4gICAgICBjb25zdCB7IGNvbmZpZ1BhdGggfSA9IGF3YWl0IHJlc29sdmVWb2NzQ29uZmlnKClcbiAgICAgIGlmIChjb25maWdQYXRoKSB7XG4gICAgICAgIHNlcnZlci53YXRjaGVyLmFkZChjb25maWdQYXRoKVxuICAgICAgICBzZXJ2ZXIud2F0Y2hlci5vbignY2hhbmdlJywgYXN5bmMgKHBhdGgpID0+IHtcbiAgICAgICAgICBpZiAocGF0aCAhPT0gY29uZmlnUGF0aCkgcmV0dXJuXG4gICAgICAgICAgc2VydmVyLndzLnNlbmQoJ3ZvY3M6Y29uZmlnJywgKGF3YWl0IHJlc29sdmVWb2NzQ29uZmlnKCkpLmNvbmZpZylcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlc29sdmVJZChpZCkge1xuICAgICAgaWYgKGlkID09PSB2aXJ0dWFsTW9kdWxlSWQpIHJldHVybiByZXNvbHZlZFZpcnR1YWxNb2R1bGVJZFxuICAgICAgcmV0dXJuXG4gICAgfSxcbiAgICBhc3luYyBsb2FkKGlkKSB7XG4gICAgICBpZiAoaWQgPT09IHJlc29sdmVkVmlydHVhbE1vZHVsZUlkKSB7XG4gICAgICAgIGNvbnN0IHsgY29uZmlnIH0gPSBhd2FpdCByZXNvbHZlVm9jc0NvbmZpZygpXG4gICAgICAgIC8vIFRPRE86IHNlcmlhbGl6ZSBmbnNcbiAgICAgICAgcmV0dXJuIGBleHBvcnQgY29uc3QgY29uZmlnID0gJHtKU09OLnN0cmluZ2lmeShjb25maWcpfWBcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH0sXG4gICAgaGFuZGxlSG90VXBkYXRlKCkge1xuICAgICAgLy8gVE9ETzogaGFuZGxlIGNoYW5nZXNcbiAgICAgIHJldHVyblxuICAgIH0sXG4gIH1cbn1cbiIsICJpbXBvcnQgeyBleGlzdHNTeW5jIH0gZnJvbSAnbm9kZTpmcydcbmltcG9ydCB7IHJlc29sdmUgfSBmcm9tICdub2RlOnBhdGgnXG5pbXBvcnQgeyB0eXBlIFBsdWdpbk9wdGlvbiB9IGZyb20gJ3ZpdGUnXG5cbmltcG9ydCB7IHJlc29sdmVWb2NzQ29uZmlnIH0gZnJvbSAnLi4vdXRpbHMvcmVzb2x2ZVZvY3NDb25maWcuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiB2aXJ0dWFsQ29uc3VtZXJDb21wb25lbnRzKCk6IFBsdWdpbk9wdGlvbiB7XG4gIGNvbnN0IHZpcnR1YWxNb2R1bGVJZCA9ICd2aXJ0dWFsOmNvbnN1bWVyLWNvbXBvbmVudHMnXG4gIGNvbnN0IHJlc29sdmVkVmlydHVhbE1vZHVsZUlkID0gYFxcMCR7dmlydHVhbE1vZHVsZUlkfWBcblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdyb3V0ZXMnLFxuICAgIHJlc29sdmVJZChpZCkge1xuICAgICAgaWYgKGlkID09PSB2aXJ0dWFsTW9kdWxlSWQpIHJldHVybiByZXNvbHZlZFZpcnR1YWxNb2R1bGVJZFxuICAgICAgcmV0dXJuXG4gICAgfSxcbiAgICBhc3luYyBsb2FkKGlkKSB7XG4gICAgICBpZiAoaWQgIT09IHJlc29sdmVkVmlydHVhbE1vZHVsZUlkKSByZXR1cm5cblxuICAgICAgY29uc3QgeyBjb25maWcgfSA9IGF3YWl0IHJlc29sdmVWb2NzQ29uZmlnKClcbiAgICAgIGNvbnN0IHsgcm9vdERpciB9ID0gY29uZmlnXG4gICAgICByZXR1cm4gYFxuICAgICAgICAke2V4cG9ydENvbXBvbmVudChyZXNvbHZlKHJvb3REaXIsICdsYXlvdXQudHN4JyksICdMYXlvdXQnKX1cbiAgICAgICAgJHtleHBvcnRDb21wb25lbnQocmVzb2x2ZShyb290RGlyLCAnZm9vdGVyLnRzeCcpLCAnRm9vdGVyJyl9XG4gICAgICBgXG4gICAgfSxcbiAgfVxufVxuXG5mdW5jdGlvbiBleHBvcnRDb21wb25lbnQocGF0aDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpIHtcbiAgaWYgKGV4aXN0c1N5bmMocGF0aCkpIHJldHVybiBgZXhwb3J0IHsgZGVmYXVsdCBhcyAke25hbWV9IH0gZnJvbSBcIiR7cGF0aH1cIjtgXG4gIHJldHVybiBgZXhwb3J0IGNvbnN0ICR7bmFtZX0gPSAoeyBjaGlsZHJlbiB9KSA9PiBjaGlsZHJlbjtgXG59XG4iLCAiaW1wb3J0IHsgZXh0bmFtZSwgcmVzb2x2ZSB9IGZyb20gJ25vZGU6cGF0aCdcbmltcG9ydCB7IGdsb2JieSB9IGZyb20gJ2dsb2JieSdcbmltcG9ydCB0eXBlIHsgUGx1Z2luT3B0aW9uIH0gZnJvbSAndml0ZSdcblxuaW1wb3J0IHsgcmVzb2x2ZVZvY3NDb25maWcgfSBmcm9tICcuLi91dGlscy9yZXNvbHZlVm9jc0NvbmZpZy5qcydcbmltcG9ydCB7IGdldEdpdFRpbWVzdGFtcCB9IGZyb20gJy4uL3V0aWxzL2dldEdpdFRpbWVzdGFtcC5qcydcblxuZXhwb3J0IGZ1bmN0aW9uIHZpcnR1YWxSb3V0ZXMoKTogUGx1Z2luT3B0aW9uIHtcbiAgY29uc3QgdmlydHVhbE1vZHVsZUlkID0gJ3ZpcnR1YWw6cm91dGVzJ1xuICBjb25zdCByZXNvbHZlZFZpcnR1YWxNb2R1bGVJZCA9IGBcXDAke3ZpcnR1YWxNb2R1bGVJZH1gXG5cbiAgbGV0IGdsb2I6IHN0cmluZ1xuICBsZXQgcGF0aHM6IHN0cmluZ1tdID0gW11cblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdyb3V0ZXMnLFxuICAgIGFzeW5jIGNvbmZpZ3VyZVNlcnZlcihzZXJ2ZXIpIHtcbiAgICAgIGNvbnN0IHsgY29uZmlnIH0gPSBhd2FpdCByZXNvbHZlVm9jc0NvbmZpZygpXG4gICAgICBjb25zdCB7IHJvb3REaXIgfSA9IGNvbmZpZ1xuICAgICAgY29uc3QgcGFnZXNQYXRoID0gcmVzb2x2ZShyb290RGlyLCAncGFnZXMnKVxuICAgICAgaWYgKHBhZ2VzUGF0aCkge1xuICAgICAgICBzZXJ2ZXIud2F0Y2hlci5hZGQocGFnZXNQYXRoKVxuICAgICAgICBzZXJ2ZXIud2F0Y2hlci5vbignYWRkJywgKCkgPT4gc2VydmVyLnJlc3RhcnQoKSlcbiAgICAgICAgc2VydmVyLndhdGNoZXIub24oJ3VubGluaycsICgpID0+IHNlcnZlci5yZXN0YXJ0KCkpXG4gICAgICB9XG4gICAgfSxcbiAgICByZXNvbHZlSWQoaWQpIHtcbiAgICAgIGlmIChpZCA9PT0gdmlydHVhbE1vZHVsZUlkKSByZXR1cm4gcmVzb2x2ZWRWaXJ0dWFsTW9kdWxlSWRcbiAgICAgIHJldHVyblxuICAgIH0sXG4gICAgYXN5bmMgbG9hZChpZCkge1xuICAgICAgaWYgKGlkID09PSByZXNvbHZlZFZpcnR1YWxNb2R1bGVJZCkge1xuICAgICAgICBjb25zdCB7IGNvbmZpZyB9ID0gYXdhaXQgcmVzb2x2ZVZvY3NDb25maWcoKVxuICAgICAgICBjb25zdCB7IHJvb3REaXIgfSA9IGNvbmZpZ1xuICAgICAgICBjb25zdCBwYWdlc1BhdGggPSByZXNvbHZlKHJvb3REaXIsICdwYWdlcycpXG5cbiAgICAgICAgbGV0IGNvZGUgPSAnZXhwb3J0IGNvbnN0IHJvdXRlcyA9IFsnXG4gICAgICAgIGZvciAoY29uc3QgcGF0aCBvZiBwYXRocykge1xuICAgICAgICAgIGNvbnN0IHR5cGUgPSBleHRuYW1lKHBhdGgpLm1hdGNoKC8obWR4fG1kKS8pID8gJ21keCcgOiAnanN4J1xuICAgICAgICAgIGNvbnN0IHJlcGxhY2VyID0gZ2xvYi5zcGxpdCgnKicpWzBdXG5cbiAgICAgICAgICBjb25zdCBmaWxlUGF0aCA9IHBhdGgucmVwbGFjZShgJHtwYWdlc1BhdGh9L2AsICcnKVxuICAgICAgICAgIGNvbnN0IGZpbGVHaXRUaW1lc3RhbXAgPSBhd2FpdCBnZXRHaXRUaW1lc3RhbXAocGF0aClcblxuICAgICAgICAgIC8vIGZpbGVHaXRUaW1lc3RhbXAgY2FuIGJlIGBOYU5gIHdoZW4gbm90IGluIGdpdCByZXBvXG4gICAgICAgICAgbGV0IGxhc3RVcGRhdGVkQXQ6IG51bWJlciB8IHVuZGVmaW5lZFxuICAgICAgICAgIGlmIChmaWxlR2l0VGltZXN0YW1wKSBsYXN0VXBkYXRlZEF0ID0gZmlsZUdpdFRpbWVzdGFtcFxuXG4gICAgICAgICAgbGV0IHBhZ2VQYXRoID0gcGF0aC5yZXBsYWNlKHJlcGxhY2VyLCAnJykucmVwbGFjZSgvXFwuKC4qKS8sICcnKVxuICAgICAgICAgIGlmIChwYWdlUGF0aC5lbmRzV2l0aCgnaW5kZXgnKSlcbiAgICAgICAgICAgIHBhZ2VQYXRoID0gcGFnZVBhdGgucmVwbGFjZSgnaW5kZXgnLCAnJykucmVwbGFjZSgvXFwvJC8sICcnKVxuICAgICAgICAgIGNvZGUgKz0gYCAgeyBsYXp5OiAoKSA9PiBpbXBvcnQoXCIke3BhdGh9XCIpLCBwYXRoOiBcIi8ke3BhZ2VQYXRofVwiLCB0eXBlOiBcIiR7dHlwZX1cIiwgZmlsZVBhdGg6IFwiJHtmaWxlUGF0aH1cIiwgbGFzdFVwZGF0ZWRBdDogJHtsYXN0VXBkYXRlZEF0fSB9LGBcbiAgICAgICAgICBpZiAocGFnZVBhdGgpXG4gICAgICAgICAgICBjb2RlICs9IGAgIHsgbGF6eTogKCkgPT4gaW1wb3J0KFwiJHtwYXRofVwiKSwgcGF0aDogXCIvJHtwYWdlUGF0aH0uaHRtbFwiLCB0eXBlOiBcIiR7dHlwZX1cIiwgZmlsZVBhdGg6IFwiJHtmaWxlUGF0aH1cIiwgbGFzdFVwZGF0ZWRBdDogJHtsYXN0VXBkYXRlZEF0fSB9LGBcbiAgICAgICAgfVxuICAgICAgICBjb2RlICs9ICddJ1xuICAgICAgICByZXR1cm4gY29kZVxuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfSxcbiAgICBhc3luYyBidWlsZFN0YXJ0KCkge1xuICAgICAgY29uc3QgeyBjb25maWcgfSA9IGF3YWl0IHJlc29sdmVWb2NzQ29uZmlnKClcbiAgICAgIGNvbnN0IHsgcm9vdERpciB9ID0gY29uZmlnXG4gICAgICBjb25zdCBwYWdlc1BhdGggPSByZXNvbHZlKHJvb3REaXIsICdwYWdlcycpXG4gICAgICBnbG9iID0gYCR7cGFnZXNQYXRofS8qKi8qLnttZCxtZHgsdHMsdHN4LGpzLGpzeH1gXG4gICAgICBwYXRocyA9IGF3YWl0IGdsb2JieShnbG9iKVxuICAgIH0sXG4gICAgaGFuZGxlSG90VXBkYXRlKCkge1xuICAgICAgLy8gVE9ETzogaGFuZGxlIGNoYW5nZXNcbiAgICAgIHJldHVyblxuICAgIH0sXG4gIH1cbn1cbiIsICJpbXBvcnQgeyBzcGF3biB9IGZyb20gJ2Nyb3NzLXNwYXduJ1xuaW1wb3J0IGZzIGZyb20gJ2ZzLWV4dHJhJ1xuaW1wb3J0IHsgYmFzZW5hbWUsIGRpcm5hbWUgfSBmcm9tICdwYXRoJ1xuXG5jb25zdCBjYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KClcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdpdFRpbWVzdGFtcChmaWxlOiBzdHJpbmcpIHtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGZpbGUpXG4gIGlmIChjYWNoZWQpIHJldHVybiBjYWNoZWRcblxuICByZXR1cm4gbmV3IFByb21pc2U8bnVtYmVyPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgY3dkID0gZGlybmFtZShmaWxlKVxuICAgIGlmICghZnMuZXhpc3RzU3luYyhjd2QpKSByZXR1cm4gcmVzb2x2ZSgwKVxuICAgIGNvbnN0IGZpbGVOYW1lID0gYmFzZW5hbWUoZmlsZSlcbiAgICBjb25zdCBjaGlsZCA9IHNwYXduKCdnaXQnLCBbJ2xvZycsICctMScsICctLXByZXR0eT1cIiVhaVwiJywgZmlsZU5hbWVdLCB7XG4gICAgICBjd2QsXG4gICAgfSlcbiAgICBsZXQgb3V0cHV0ID0gJydcbiAgICBjaGlsZC5zdGRvdXQub24oJ2RhdGEnLCAoZCkgPT4gKG91dHB1dCArPSBTdHJpbmcoZCkpKVxuICAgIGNoaWxkLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHRpbWVzdGFtcCA9ICtuZXcgRGF0ZShvdXRwdXQpXG4gICAgICBjYWNoZS5zZXQoZmlsZSwgdGltZXN0YW1wKVxuICAgICAgcmVzb2x2ZSh0aW1lc3RhbXApXG4gICAgfSlcbiAgICBjaGlsZC5vbignZXJyb3InLCByZWplY3QpXG4gIH0pXG59XG4iLCAiaW1wb3J0IHsgZXhpc3RzU3luYyB9IGZyb20gJ25vZGU6ZnMnXG5pbXBvcnQgeyBkaXJuYW1lLCByZXNvbHZlIH0gZnJvbSAnbm9kZTpwYXRoJ1xuaW1wb3J0IHsgZmlsZVVSTFRvUGF0aCB9IGZyb20gJ25vZGU6dXJsJ1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBmcyB9IGZyb20gJ2ZzLWV4dHJhJ1xuaW1wb3J0IHsgdHlwZSBQbHVnaW5PcHRpb24gfSBmcm9tICd2aXRlJ1xuXG5pbXBvcnQgdHlwZSB7IFBhcnNlZENvbmZpZywgVGhlbWUgfSBmcm9tICcuLi8uLi9jb25maWcuanMnXG5pbXBvcnQgeyByZXNvbHZlVm9jc0NvbmZpZyB9IGZyb20gJy4uL3V0aWxzL3Jlc29sdmVWb2NzQ29uZmlnLmpzJ1xuXG5jb25zdCBfX2Rpcm5hbWUgPSBkaXJuYW1lKGZpbGVVUkxUb1BhdGgoaW1wb3J0Lm1ldGEudXJsKSlcblxuZXhwb3J0IGZ1bmN0aW9uIHZpcnR1YWxTdHlsZXMoKTogUGx1Z2luT3B0aW9uIHtcbiAgY29uc3QgdmlydHVhbE1vZHVsZUlkID0gJ3ZpcnR1YWw6c3R5bGVzJ1xuICBjb25zdCByZXNvbHZlZFZpcnR1YWxNb2R1bGVJZCA9IGBcXDAke3ZpcnR1YWxNb2R1bGVJZH1gXG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnc3R5bGVzJyxcbiAgICBhc3luYyBidWlsZFN0YXJ0KCkge1xuICAgICAgY29uc3QgeyBjb25maWcgfSA9IGF3YWl0IHJlc29sdmVWb2NzQ29uZmlnKClcbiAgICAgIGNvbnN0IHsgdGhlbWUgfSA9IGNvbmZpZ1xuICAgICAgY3JlYXRlVGhlbWVTdHlsZXMoeyB0aGVtZSB9KVxuICAgIH0sXG4gICAgYXN5bmMgY29uZmlndXJlU2VydmVyKHNlcnZlcikge1xuICAgICAgY29uc3QgeyBjb25maWdQYXRoIH0gPSBhd2FpdCByZXNvbHZlVm9jc0NvbmZpZygpXG4gICAgICBpZiAoY29uZmlnUGF0aCkge1xuICAgICAgICBzZXJ2ZXIud2F0Y2hlci5hZGQoY29uZmlnUGF0aClcbiAgICAgICAgc2VydmVyLndhdGNoZXIub24oJ2NoYW5nZScsIGFzeW5jIChwYXRoKSA9PiB7XG4gICAgICAgICAgaWYgKHBhdGggIT09IGNvbmZpZ1BhdGgpIHJldHVyblxuICAgICAgICAgIGNvbnN0IHsgY29uZmlnIH0gPSBhd2FpdCByZXNvbHZlVm9jc0NvbmZpZygpXG4gICAgICAgICAgY29uc3QgeyB0aGVtZSB9ID0gY29uZmlnXG4gICAgICAgICAgY3JlYXRlVGhlbWVTdHlsZXMoeyB0aGVtZSB9KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sXG4gICAgcmVzb2x2ZUlkKGlkKSB7XG4gICAgICBpZiAoaWQgPT09IHZpcnR1YWxNb2R1bGVJZCkgcmV0dXJuIHJlc29sdmVkVmlydHVhbE1vZHVsZUlkXG4gICAgICByZXR1cm5cbiAgICB9LFxuICAgIGFzeW5jIGxvYWQoaWQpIHtcbiAgICAgIGlmIChpZCAhPT0gcmVzb2x2ZWRWaXJ0dWFsTW9kdWxlSWQpIHJldHVyblxuXG4gICAgICBjb25zdCB7IGNvbmZpZyB9ID0gYXdhaXQgcmVzb2x2ZVZvY3NDb25maWcoKVxuICAgICAgY29uc3QgeyByb290RGlyIH0gPSBjb25maWdcbiAgICAgIGNvbnN0IHRoZW1lU3R5bGVzID0gcmVzb2x2ZShfX2Rpcm5hbWUsICcuLi8udm9jcy90aGVtZS5jc3MnKVxuICAgICAgY29uc3Qgcm9vdFN0eWxlcyA9IHJlc29sdmUocm9vdERpciwgJ3N0eWxlcy5jc3MnKVxuICAgICAgbGV0IGNvZGUgPSAnJ1xuICAgICAgaWYgKGV4aXN0c1N5bmModGhlbWVTdHlsZXMpKSBjb2RlICs9IGBpbXBvcnQgXCIke3RoZW1lU3R5bGVzfVwiO2BcbiAgICAgIGlmIChleGlzdHNTeW5jKHJvb3RTdHlsZXMpKSBjb2RlICs9IGBpbXBvcnQgXCIke3Jvb3RTdHlsZXN9XCI7YFxuICAgICAgcmV0dXJuIGNvZGVcbiAgICB9LFxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRoZW1lU3R5bGVzKHsgdGhlbWUgfTogeyB0aGVtZTogUGFyc2VkQ29uZmlnWyd0aGVtZSddIH0pIHtcbiAgY29uc3QgdGhlbWVGaWxlID0gcmVzb2x2ZShfX2Rpcm5hbWUsICcuLi8udm9jcy90aGVtZS5jc3MnKVxuXG4gIGlmIChmcy5leGlzdHNTeW5jKHRoZW1lRmlsZSkpIGZzLnJtU3luYyh0aGVtZUZpbGUpXG4gIGlmICghdGhlbWUpIHJldHVyblxuXG4gIGZzLmNyZWF0ZUZpbGVTeW5jKHRoZW1lRmlsZSlcblxuICBmdW5jdGlvbiBjcmVhdGVWYXJzKHZhcmlhYmxlczogTm9uTnVsbGFibGU8VGhlbWVbJ3ZhcmlhYmxlcyddPikge1xuICAgIGxldCBjb2RlID0gJydcbiAgICBmb3IgKGNvbnN0IHNjb3BlIGluIHZhcmlhYmxlcykge1xuICAgICAgZm9yIChjb25zdCBuYW1lIGluICh2YXJpYWJsZXMgYXMgYW55KVtzY29wZV0pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSAodmFyaWFibGVzIGFzIGFueSlbc2NvcGVdW25hbWVdIGFzIHN0cmluZyB8IHsgbGlnaHQ6IHN0cmluZzsgZGFyazogc3RyaW5nIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgY29kZSArPSBgOnJvb3QgeyAtLXZvY3MtJHtzY29wZX1fJHtuYW1lfTogJHt2YWx1ZX07IH1cXG46cm9vdC5kYXJrIHsgLS12b2NzLSR7c2NvcGV9XyR7bmFtZX06ICR7dmFsdWV9OyB9XFxuYFxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAodmFsdWU/LmxpZ2h0KSBjb2RlICs9IGA6cm9vdCB7IC0tdm9jcy0ke3Njb3BlfV8ke25hbWV9OiAke3ZhbHVlLmxpZ2h0fTsgfVxcbmBcbiAgICAgICAgICBpZiAodmFsdWU/LmRhcmspIGNvZGUgKz0gYDpyb290LmRhcmsgeyAtLXZvY3MtJHtzY29wZX1fJHtuYW1lfTogJHt2YWx1ZS5kYXJrfTsgfVxcbmBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29kZVxuICB9XG5cbiAgY29uc3QgeyBhY2NlbnRDb2xvciwgdmFyaWFibGVzIH0gPSB0aGVtZVxuXG4gIGlmIChhY2NlbnRDb2xvcilcbiAgICBmcy5hcHBlbmRGaWxlU3luYyhcbiAgICAgIHRoZW1lRmlsZSxcbiAgICAgIGNyZWF0ZVZhcnMoe1xuICAgICAgICBjb2xvcjoge1xuICAgICAgICAgIGJhY2tncm91bmRBY2NlbnQ6IGFjY2VudENvbG9yLmJhY2tncm91bmRBY2NlbnQsXG4gICAgICAgICAgYmFja2dyb3VuZEFjY2VudEhvdmVyOiBhY2NlbnRDb2xvci5iYWNrZ3JvdW5kQWNjZW50SG92ZXIsXG4gICAgICAgICAgYmFja2dyb3VuZEFjY2VudFRleHQ6IGFjY2VudENvbG9yLmJhY2tncm91bmRBY2NlbnRUZXh0LFxuICAgICAgICAgIGJvcmRlckFjY2VudDogYWNjZW50Q29sb3IuYm9yZGVyQWNjZW50LFxuICAgICAgICAgIHRleHRBY2NlbnQ6IGFjY2VudENvbG9yLnRleHRBY2NlbnQsXG4gICAgICAgICAgdGV4dEFjY2VudEhvdmVyOiBhY2NlbnRDb2xvci50ZXh0QWNjZW50SG92ZXIsXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApXG4gIGlmICh2YXJpYWJsZXMpIGZzLmFwcGVuZEZpbGVTeW5jKHRoZW1lRmlsZSwgY3JlYXRlVmFycyh2YXJpYWJsZXMpKVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjtBQUFvQyxTQUFBLFlBQUFBLGlCQUFBO0FBQ3BDLFNBQVMsNEJBQTRCO0FBQ3JDLE9BQU8sV0FBVztBQUNsQixTQUFTLGdCQUFBQyxlQUFjLDhCQUE4Qjs7O0FDSGpCLFNBQUEsa0JBQUE7QUFDcEMsU0FBUyxlQUFlO0FBQ3hCLFNBQVMsV0FBVyxvQkFBb0I7QUFDeEMsU0FBUyxXQUFXLG1CQUFtQjtBQUN2QyxTQUFTLFdBQVcsMEJBQTBCO0FBR3hDLFNBQVUsTUFBRztBQUNqQixTQUFPO0lBQ0wsTUFBTTtJQUNOLE1BQU0sU0FBTTtBQUNWLFlBQU0saUJBQWlCLG1CQUFrQjtBQUN6QyxhQUFPO1FB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QUFzQjtNQUN0QixjQUFhO01BQ2IsTUFBSztNQUNMLHFCQUFxQjtRQUNuQixZQUFZLEVBQUUsVUFBVSxRQUFPLEdBQUU7QUFDL0IsZ0JBQU0sUUFBUUMsVUFBUyxRQUFRLEVBQUUsUUFBUSxXQUFXLEVBQUU7QUFDdEQsaUJBQU8sUUFBUSxLQUFLLEdBQUcsVUFBVSxJQUFJLE9BQU8sS0FBSyxFQUFFO1FBQ3JEO1FBQ0EsY0FBYztPQUNmO01BQ0QsSUFBRztNQUNILElBQUc7TUFDSCxtQkFBa0I7TUFDbEJDLFFBQU07TUFDTixZQUFXO01BQ1gsMEJBQXlCO01BQ3pCLGNBQWE7TUFDYixjQUFhO01BQ2IsR0FBSSxXQUFXLFdBQVcsQ0FBQTs7SUFFNUIsUUFBUTtNQUNOLEdBQUcsV0FBVztNQUNkLElBQUk7UUFDRixHQUFHLFdBQVcsUUFBUTtRQUN0QixPQUFPLENBQUMsTUFBTSxHQUFJLFdBQVcsUUFBUSxJQUFJLFNBQVMsQ0FBQSxDQUFHOzs7O0FBSTdELENBQUM7IiwKICAibmFtZXMiOiBbImJhc2VuYW1lIiwgImRlZmluZUNvbmZpZyIsICJoIiwgInJlc29sdmUiLCAiY29tcGlsZSIsICJyZW1hcmtHZm0iLCAiYWNjZW50Q29sb3IiLCAiZXh0IiwgInJlc29sdmUiLCAiY29uZmlnIiwgInZpc2l0IiwgInZpc2l0IiwgInZpc2l0IiwgInZpc2l0IiwgInZpc2l0IiwgInZpc2l0IiwgInZpc2l0IiwgInZpc2l0IiwgImgiLCAidmlzaXQiLCAidmlzaXQiLCAiaCIsICJ2aXNpdCIsICJ2aXNpdCIsICJ2aXNpdCIsICJ2aXNpdCIsICJ2aXNpdCIsICJyZWFkRmlsZVN5bmMiLCAicmVzb2x2ZSIsICJyZXNvbHZlIiwgInJlYWRGaWxlU3luYyIsICJ2aXNpdCIsICJub2RlIiwgInZpc2l0IiwgInZpc2l0IiwgImNoaWxkIiwgInJlc29sdmUiLCAidmlzaXQiLCAicmVzb2x2ZSIsICJ2aXNpdCIsICJ2aXNpdCIsICJ2aXNpdCIsICJoIiwgInZpc2l0IiwgInZpc2l0IiwgImgiLCAidmlzaXQiLCAidmlzaXQiLCAidmlzaXQiLCAidmlzaXQiLCAidmlzaXQiLCAidmlzaXQiLCAiaXRlbSIsICJkaXJuYW1lIiwgInJlc29sdmUiLCAiZmlsZVVSTFRvUGF0aCIsICJmcyIsICJfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfaW1wb3J0X21ldGFfdXJsIiwgIl9fZGlybmFtZSIsICJkaXJuYW1lIiwgImZpbGVVUkxUb1BhdGgiLCAicmVzb2x2ZSIsICJjYWNoZSIsICJmcyIsICJrZXkiLCAiaGFzaCIsICJ0d29zbGFzaCIsICJ0d29zbGFzaCIsICJoIiwgInJlbWFya1BsdWdpbnMiLCAicmVoeXBlUGx1Z2lucyIsICJkaXJuYW1lIiwgInJlc29sdmUiLCAiZmlsZVVSTFRvUGF0aCIsICJfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfaW1wb3J0X21ldGFfdXJsIiwgIl9fZGlybmFtZSIsICJkaXJuYW1lIiwgImZpbGVVUkxUb1BhdGgiLCAiaWQiLCAicmVzb2x2ZSIsICJleGlzdHNTeW5jIiwgInJlYWRGaWxlU3luYyIsICJyZWxhdGl2ZSIsICJyZXNvbHZlIiwgIk1pbmlTZWFyY2giLCAiY3JlYXRlTG9nZ2VyIiwgInJlYWRGaWxlU3luYyIsICJyZXNvbHZlIiwgImZzIiwgInJlc29sdmUiLCAibWR4IiwgInJlYWRGaWxlU3luYyIsICJmcyIsICJpZCIsICJsb2dnZXIiLCAiY3JlYXRlTG9nZ2VyIiwgInNlYXJjaCIsICJoYXNoIiwgImNvbmZpZyIsICJpZCIsICJleGlzdHNTeW5jIiwgIm1keCIsICJyZWFkRmlsZVN5bmMiLCAicmVzb2x2ZSIsICJyZWxhdGl2ZSIsICJyZWxhdGl2ZSIsICJyZXNvbHZlIiwgImZzIiwgImdsb2JieSIsICJyZW1hcmtQbHVnaW5zIiwgInZpcnR1YWxNb2R1bGVJZCIsICJyZXNvbHZlZFZpcnR1YWxNb2R1bGVJZCIsICJpZCIsICJyZXNvbHZlIiwgImdsb2JieSIsICJmcyIsICJmcm9udG1hdHRlciIsICJyZWxhdGl2ZSIsICJ2aXJ0dWFsTW9kdWxlSWQiLCAicmVzb2x2ZWRWaXJ0dWFsTW9kdWxlSWQiLCAiaWQiLCAiZXhpc3RzU3luYyIsICJyZXNvbHZlIiwgInZpcnR1YWxNb2R1bGVJZCIsICJyZXNvbHZlZFZpcnR1YWxNb2R1bGVJZCIsICJpZCIsICJyZXNvbHZlIiwgImV4aXN0c1N5bmMiLCAiZXh0bmFtZSIsICJyZXNvbHZlIiwgImdsb2JieSIsICJmcyIsICJkaXJuYW1lIiwgInJlc29sdmUiLCAiZGlybmFtZSIsICJmcyIsICJ2aXJ0dWFsTW9kdWxlSWQiLCAicmVzb2x2ZWRWaXJ0dWFsTW9kdWxlSWQiLCAicmVzb2x2ZSIsICJpZCIsICJleHRuYW1lIiwgImdsb2JieSIsICJleGlzdHNTeW5jIiwgImRpcm5hbWUiLCAicmVzb2x2ZSIsICJmaWxlVVJMVG9QYXRoIiwgImZzIiwgIl9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwiLCAiX19kaXJuYW1lIiwgImRpcm5hbWUiLCAiZmlsZVVSTFRvUGF0aCIsICJ2aXJ0dWFsTW9kdWxlSWQiLCAicmVzb2x2ZWRWaXJ0dWFsTW9kdWxlSWQiLCAiaWQiLCAicmVzb2x2ZSIsICJleGlzdHNTeW5jIiwgImZzIiwgInZhcmlhYmxlcyIsICJkZWZpbmVDb25maWciLCAiYmFzZW5hbWUiLCAic2VhcmNoIl0KfQo=
